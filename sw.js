var u=(a,r,s)=>new Promise((f,i)=>{var o=n=>{try{t(s.next(n))}catch(c){i(c)}},e=n=>{try{t(s.throw(n))}catch(c){i(c)}},t=n=>n.done?f(n.value):Promise.resolve(n.value).then(o,e);t((s=s.apply(a,r)).next())});(()=>{"use strict";const a="asset-cache",r=e=>new Promise(t=>{setTimeout(()=>t(),e)});function s(e){return u(this,null,function*(){const t=yield function(d,p){return u(this,null,function*(){try{return yield Promise.race([r(3e3).then(()=>Promise.reject(new Error("TIMEOUT"))),u(this,null,function*(){const l=yield self.caches.open(a),m=yield l.match(e.request);return{cache:l,cached:m}})])}catch(l){return void console.error(l)}})}(),{cache:n,cached:c}=t||{};if(n&&c){if(c.ok)return c;yield n.delete(e.request)}const h=yield fetch(e.request);return h.ok&&n&&n.put(e.request,h.clone()),h})}const f=/.+\.[0-9a-f]{8}\..*(js|css|woff2?|svg|png|jpg|jpeg|json|wasm)$/,i=/(.*cdnjs.cloudflare.com.*)|(.*fonts.googleapis.com.*)|(.*cdn-us.imgs.moe.*)/,o=["https://lib.baomitu.com/fonts/nanum-pen-script/nanum-pen-script-regular.woff2"];self.addEventListener("install",e=>{e.waitUntil(caches.open(a).then(function(t){return t.addAll(o)}).then(function(){return self.skipWaiting()}))}),self.addEventListener("activate",e=>{e.waitUntil(Promise.race([r(3e3),Promise.all([self.caches.delete(a),self.clients.claim()])]))}),self.addEventListener("fetch",e=>{const{url:t}=e.request;return!(!t.startsWith("http")||!(o.includes(t)||t.match(f)||t.match(i))||(e.respondWith(s(e)),0))})})();
