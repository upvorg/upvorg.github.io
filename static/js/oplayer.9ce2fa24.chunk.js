"use strict";(self.webpackChunk_web_index=self.webpackChunk_web_index||[]).push([[193],{1996:function(ot,Ae,ae){ae.d(Ae,{$:function(){return ze},ZP:function(){return Pe},gn:function(){return de},tq:function(){return R}});var i=(l,o,c)=>new Promise((u,r)=>{var f=O=>{try{b(c.next(O))}catch(_){r(_)}},h=O=>{try{b(c.throw(O))}catch(_){r(_)}},b=O=>O.done?u(O.value):Promise.resolve(O.value).then(f,h);b((c=c.apply(l,o)).next())}),U=(l,o,c)=>(o=l[Symbol.asyncIterator],c=(u,r)=>(r=l[u])&&(o[u]=f=>new Promise((h,b,O)=>(f=r.call(l,f),O=f.done,Promise.resolve(f.value).then(_=>h({value:_,done:O}),b)))),o?o.call(l):(l=l[Symbol.iterator](),o={},c("next"),c("return"),o)),Se=Object.defineProperty,te=(l,o,c)=>o in l?Se(l,o,{enumerable:!0,configurable:!0,writable:!0,value:c}):l[o]=c,P=(l,o,c)=>(te(l,typeof o!="symbol"?o+"":o,c),c),$e,we,V,ee,Y,G,Q,j;function se(l){return pe(l).toString(36)}function pe(l){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=1540483477,u=24,r=o^l.length,f=l.length,h=0;for(;f>=4;){let b=le(l,h);b=W(b,c),b^=b>>>u,b=W(b,c),r=W(r,c),r^=b,h+=4,f-=4}switch(f){case 3:r^=q(l,h),r^=l.charCodeAt(h+2)<<16,r=W(r,c);break;case 2:r^=q(l,h),r=W(r,c);break;case 1:r^=l.charCodeAt(h),r=W(r,c);break}return r^=r>>>13,r=W(r,c),r^=r>>>15,r>>>0}function le(l,o){return l.charCodeAt(o++)+(l.charCodeAt(o++)<<8)+(l.charCodeAt(o++)<<16)+(l.charCodeAt(o)<<24)}function q(l,o){return l.charCodeAt(o++)+(l.charCodeAt(o++)<<8)}function W(l,o){l=l|0,o=o|0;let c=l&65535,u=l>>>16;return c*o+((u*o&65535)<<16)|0}function D(l){return Boolean(l&&typeof l=="object"&&!Array.isArray(l))}function I(l){for(var o=arguments.length,c=new Array(o>1?o-1:0),u=1;u<o;u++)c[u-1]=arguments[u];if(!c.length)return l;const r=c.shift();if(D(l)&&D(r))for(const f in r)D(r[f])?(l[f]||Object.assign(l,{[f]:{}}),I(l[f],r[f])):Object.assign(l,{[f]:r[f]});return I.apply(void 0,[l].concat(c))}function ce(l){let o=[":",".","[",">"," "],c=!1,u=l.charAt(0);for(let r=0;r<o.length;r++)if(u===o[r]){c=!0;break}return c||l.indexOf("&")>=0}var C=/[(),]|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g;function B(l){if(l.indexOf(",")===-1)return[l];for(var o=[],c=[],u=0,r;r=C.exec(l);)switch(r[0]){case"(":u++;break;case")":u--;break;case",":if(u)break;o.push(r.index)}for(r=o.length;r--;)c.unshift(l.slice(o[r]+1)),l=l.slice(0,o[r]);return c.unshift(l),c}function ue(l,o){let c=B(l);return B(o).map(r=>r.indexOf("&")>=0?r:"&"+r).reduce((r,f)=>r.concat(c.map(h=>f.replace(/\&/g,h))),[]).join(",")}function Ce(l,o){return l?"@media "+l.substring(6)+" and "+o.substring(6):o}function Le(l){return l.indexOf("@media")===0}function Ve(l){return l.indexOf("@keyframes")===0}function rt(l){return l.indexOf("@global")===0}function Oe(l,o){var c;let u=o.rules,r=o.mediaQuery,f=o.globalSelector,h={};return f&&(l=f),(c=Object.keys(u))==null||c.forEach(b=>{var O,_,X,ne;if(rt(b)){const H=b;b=b.substring(8);const K=b.indexOf("&");let Z;K!=-1?(Z=ue(l,b),f=b.substring(0,K-1).trim()):Z=b,I(h,Oe(Z,{mediaQuery:r,rules:u[H],globalSelector:Z}))}else ce(b)?I(h,Oe(ue(l,b),{rules:u[b],mediaQuery:r})):Le(b)?I(h,Oe(l,{mediaQuery:Ce(r,b),rules:u[b]})):r?((O=h[r])!=null||(h[r]={}),(X=(_=h[r])[l])!=null||(_[l]={}),h[r][l][b]=u[b]):Ve(b)?h[b]=u[b]:((ne=h[l])!=null||(h[l]={}),h[l][b]=u[b])}),h}function qe(l){let o=[];for(const c in l)if(Object.hasOwnProperty.call(l,c)){const u=l[c];D(u)?o.push(c+"{"+qe(u)+"}"):o.push(c+":"+u)}return/^\d%/.test(o[0])?o.join(" "):o.join(";")}function je(l){let o=[];for(const c in l)if(Object.hasOwnProperty.call(l,c)){const u=l[c];if(Le(c))o.push(c+"{"+je(u)+"}");else if(Ve(c))o.push(c+"{"+qe(u)+"}");else{const r=Object.entries(u).map(f=>{let h=f[0],b=f[1];return h+":"+b}).join(";");o.push(c+"{"+r+"}")}}return o}function at(l,o){return je(Oe(o,{rules:l}))}var ze;(l=>{l.create=function(r){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";const b=r.indexOf("#")!==-1,O=r.indexOf(".")!==-1,_=b?r.split("#"):O?r.split("."):[r],X=_[0],ne=_[1],H=document.createElement(X);return b&&(H.id=ne),O&&H.classList.add(ne),h&&(H.innerHTML=h),Object.keys(f).forEach(K=>{const Z=f[K];(X==="video"||X==="audio")&&typeof Z=="boolean"?Z&&H.setAttribute(K,""):typeof Z!="undefined"&&H.setAttribute(K,""+Z)}),H},l.render=(r,f)=>f.appendChild(r),l.isBrowser=()=>Boolean(typeof globalThis!="undefined"&&globalThis.document&&globalThis.document.documentElement);function o(r){if(!l.isBrowser())return null;let f=document.createElement("style");f.setAttribute("data-"+r,""),f.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(f);for(let h=0;h<document.styleSheets.length;h++)if(document.styleSheets[h].ownerNode===f)return document.styleSheets.item(h);return null}l.createSheet=o;const c=(()=>{const r=Object.create({});return f=>{const h=typeof f=="object"?JSON.stringify(f):f;return r[h]||(r[h]="css-"+se(h)),r[h]}})();l.createCss=r=>{let f=r.sheet,h=r.ssrData;return function(){for(var b,O=arguments.length,_=new Array(O),X=0;X<O;X++)_[X]=arguments[X];const ne=Boolean(_[0]&&_[0].length&&_[0].raw);let H="";if(ne){let oe=_[0];H+=oe[0];for(let ve=1;ve<_.length;ve++)H+=typeof _[ve]!="string"?"":_[ve],H+=oe[ve]}else typeof _[0]=="string"?H=_[0]:H=JSON.stringify(_[0]);const K=c(H);if(f){for(let oe=0;oe<f.cssRules.length;oe++)if(((b=f.cssRules[oe])==null?void 0:b.selectorText)=="."+K)return K}let Z=["."+K+"{"+H+"}"];return!ne&&typeof _[0]=="object"&&(Z=at(_[0],"."+K)),f?Z.forEach(oe=>{f.insertRule(oe,f.cssRules.length)}):h=h.concat(Z),K}},l.createStyled=()=>{const r=[],f=o("oplayer");return{css:l.createCss({sheet:f,ssrData:r}),getCssValue:()=>r}};var u=l.createStyled();l.css=u.css,l.getCssValue=u.getCssValue,l.cls=r=>"css-"+se(r)})(ze||(ze={}));const ye=ze,lt=/(iPad)/gi.test(($e=globalThis.navigator)==null?void 0:$e.userAgent)||/Macintosh/i.test((we=globalThis.navigator)==null?void 0:we.userAgent)&&Boolean((V=globalThis.navigator)==null?void 0:V.maxTouchPoints)&&((ee=globalThis.navigator)==null?void 0:ee.maxTouchPoints)>=1,de=/iPhone/gi.test((Y=globalThis.navigator)==null?void 0:Y.userAgent)||lt,R=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test((G=globalThis.navigator)==null?void 0:G.userAgent)||de,He=/mqqbrowser/i.test((Q=globalThis.navigator)==null?void 0:Q.userAgent)&&!/ qq/i.test((j=globalThis.navigator)==null?void 0:j.userAgent),Fe=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","encrypted","waitingforkey","enterpictureinpicture","leavepictureinpicture"],De=["contextmenu","fullscreenchange","fullscreenerror"],_e=["loadedplugin","videoqualitychange","videosourcechange","destroy"],ct=[].concat(Fe,De,_e);class Ue{constructor(){P(this,"events",Object.create(null))}on(o,c){this.events[o]||(this.events[o]=[]),this.events[o].push(c)}onAny(o,c){o.forEach(u=>this.on(u,c))}once(o,c){const u=r=>{c({type:o,payload:r.payload}),this.off(o,u)};this.on(o,u)}off(o,c){if(!this.events[o])return;const u=this.events[o].indexOf(c);u>-1&&this.events[o].splice(u,1)}offAny(o){this.events[o]=[]}offAll(){this.events=Object.create(null)}emit(o,c){var u,r;(u=this.events[o])!=null&&u.length&&this.events[o].forEach(f=>{f({type:o,payload:c})}),(r=this.events["*"])==null||r.forEach(f=>{f({type:o,payload:c})})}}const ke={Play:"\u64AD\u653E",Pause:"\u6682\u505C",Loop:"\u5FAA\u73AF\u64AD\u653E",Volume:"\u97F3\u91CF","Volume: %s":"\u97F3\u91CF\uFF1A%s",Mute:"\u9759\u97F3",Speed:"\u64AD\u653E\u901F\u5EA6",Screenshot:"\u622A\u56FE",Subtitle:"\u5B57\u5E55",Quality:"\u753B\u8D28",Fullscreen:"\u5168\u5C4F","TextDecoder Not Supported":"\u4E0D\u652F\u6301\u539F\u751F\u5B57\u5E55",Setting:"\u8BBE\u7F6E","Picture in Picture":"\u753B\u4E2D\u753B",Danmaku:"\u5F39\u5E55",Display:"\u663E\u793A",Opacity:"\u900F\u660E\u5EA6",FontSize:"\u5B57\u4F53\u5927\u5C0F","Display Area":"\u663E\u793A\u533A\u57DF",Close:"\u5173\u95ED",Auto:"\u81EA\u52A8",Default:"\u9ED8\u8BA4",Normal:"\u6B63\u5E38","%ss":"%s\u79D2","Can be closed after %ss":"%s\u79D2\u540E\u53EF\u5173\u95ED\u5E7F\u544A"};class Ge{constructor(o){P(this,"lang"),P(this,"languages",{zh:ke,"zh-CN":ke,en:Object.keys(ke).reduce((c,u)=>(c[u]=u,c),{})}),this.lang=o==="auto"?navigator.language:o,this.languages[this.lang]||navigator.languages.some(c=>{if(this.languages[c])return this.lang=c,!0;if(c.indexOf("-")!==-1){const u=c.split("-")[0];if(u&&this.languages[u])return this.lang=u,!0}return!1}),this.languages[this.lang]||(this.lang="zh-CN")}get(o){for(var c=arguments.length,u=new Array(c>1?c-1:0),r=1;r<c;r++)u[r-1]=arguments[r];const f=this.languages[this.lang][o];if(f==null)return o;let h=0;return f.replace(/%s/gi,()=>{var b;return(b=u[h++])!=null?b:""})}update(o){this.languages=I(this.languages,o)}}class Pe{constructor(o,c){P(this,"container"),P(this,"options"),P(this,"locales"),P(this,"eventEmitter",new Ue),P(this,"pluginsFactory",[]),P(this,"plugins",{}),P(this,"$root"),P(this,"$video"),P(this,"listeners",Object.create(null)),P(this,"hasError",!1),P(this,"isCustomLoader",!1),P(this,"_playPromise"),P(this,"use",u=>(u.forEach(r=>{this.pluginsFactory.push(r)}),this)),P(this,"create",()=>(this.render(),this.initEvent(),this.applyPlugins(),this.options.source.src&&this.load(this.options.source),this)),P(this,"initEvent",()=>{const u=h=>{this.hasError=!0,this.emit("error",h)};this.listeners.error=u,this.$video.addEventListener("error",h=>this.listeners.error(h));const r=h=>this.emit("fullscreenchange",h);[[this.$video,"webkitbeginfullscreen","webkitendfullscreen"],[this.$root,"fullscreenchange","webkitfullscreenchange"]].forEach(h=>{const b=h[0];h.slice(1).forEach(_=>{this.listeners[_]=r,b.addEventListener(_,X=>this.listeners[_](X))})});const f=(h,b)=>this.eventEmitter.emit(h,b);Fe.filter(h=>h!=="error").forEach(h=>{this.listeners[h]=f,this.$video.addEventListener(h,b=>this.listeners[h](h,b),{passive:!0})}),De.filter(h=>h!=="fullscreenchange").forEach(h=>{this.listeners[h]=f,this.$root.addEventListener(h,b=>this.listeners[h](h,b),{passive:!0})})}),P(this,"render",()=>{this.$video=ye.create("video."+ye.css(`
        width: 100%;
        height: 100%;
        display: block;
        position: relative;
      `),Object.assign({autoplay:this.options.autoplay,loop:this.options.loop,playsinline:this.options.playsinline,"webkit-playsinline":this.options.playsinline,"x5-playsinline":this.options.playsinline,preload:this.options.preload,poster:this.options.source.poster},this.options.videoAttr)),this.$video.muted=!!this.options.muted,this.$video.volume=this.options.volume,this.$root=ye.create("div."+ye.css(`
        position: relative;
        -moz-user-select: none;
        -webkit-user-select: none;
        -ms-user-select: none;
        user-select: none;
        width: 100%;
        height: 100%;
        overflow: hidden;
        background-color: #000;
      `)),ye.render(this.$video,this.$root),ye.render(this.$root,this.container)}),P(this,"load",u=>i(this,null,function*(){try{for(var r=U(this.pluginsFactory),f,h,b;f=!(h=yield r.next()).done;f=!1){const O=h.value;O.load&&(yield O.load(this,u,{loader:this.isCustomLoader}))&&!this.isCustomLoader&&(this.isCustomLoader=!0)}}catch(O){b=[O]}finally{try{f&&(h=r.return)&&(yield h.call(r))}finally{if(b)throw b[0]}}this.isCustomLoader||(this.$video.src=u.src)})),P(this,"applyPlugins",()=>{this.pluginsFactory.forEach(u=>{if(u.apply){const r=u.apply(this);if(r){const f=u.key||u.name;this.plugins[f]=Object.assign({},this.plugins[f],r)}}})}),P(this,"on",(()=>{var u=this;return function(r,f){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{once:!1};return typeof r=="string"?h.once?u.eventEmitter.once(r,f):u.eventEmitter.on(r,f):Array.isArray(r)?u.eventEmitter.onAny(r,f):typeof r=="function"&&u.eventEmitter.on("*",r),u}})()),P(this,"off",(u,r)=>{this.eventEmitter.off(u,r)}),P(this,"offAny",u=>{this.eventEmitter.offAny(u)}),P(this,"emit",(u,r)=>{this.eventEmitter.emit(u,r)}),P(this,"play",()=>{if(!this.$video.src)throw Error("The element has no supported sources.");return this._playPromise=this.$video.play()}),this.container=o,this.options=Object.assign({autoplay:!1,muted:!1,loop:!1,volume:1,preload:"metadata",playbackRate:1,playsinline:!0,lang:"auto",source:{},videoAttr:{},isLive:!1,isNativeUI:()=>He},typeof c=="string"?{source:{src:c}}:c),this.locales=new Ge(this.options.lang)}static make(o,c){return new Pe(o,c)}setPoster(o){this.$video.poster=o}pause(){var o;return(o=this._playPromise)!=null&&o.then?this._playPromise.then(()=>this.$video.pause()):this.$video.pause()}togglePlay(){return this.isPlaying?this.pause():this.play()}mute(){this.$video.muted=!0}unmute(){this.$video.muted=!1}toggleMute(){this.isMuted?this.unmute():this.mute()}setVolume(o){this.$video.volume=o>1?1:o<0?0:o,this.$video.volume>0&&this.isMuted&&this.unmute()}setPlaybackRate(o){this.$video.playbackRate=o}seek(o){this.$video.currentTime=o}setLoop(o){this.$video.loop=o}enterFullscreen(){return de?this.$video.webkitEnterFullscreen():this._requestFullscreen.call(this.$root,{navigationUI:"hide"})}exitFullscreen(){return this._exitFullscreen.call(document)}get isFullscreenEnabled(){return Boolean(de&&this.$video.webkitEnterFullscreen)||document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}get isFullScreen(){return Boolean(de&&this.$video.webkitDisplayingFullscreen||(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)===this.$root)}toggleFullScreen(){return this.isFullScreen?this.exitFullscreen():this.enterFullscreen()}get isPipEnabled(){return document.pictureInPictureEnabled}enterPip(){return this.$video.requestPictureInPicture()}exitPip(){return this.isInPip?document.exitPictureInPicture():!1}get isInPip(){return document.pictureInPictureElement==this.$video}togglePip(){return this.isInPip?this.exitPip():this.enterPip()}_resetStatus(){this._playPromise=void 0,this.hasError=!1,this.isCustomLoader=!1}changeQuality(o){return i(this,null,function*(){this._resetStatus(),this.emit("videoqualitychange",o),yield this.load(o)})}changeSource(o){return i(this,null,function*(){this._resetStatus(),this.$video.poster=o.poster||"",this.emit("videosourcechange",o),yield this.load(o)})}destroy(){this.emit("destroy"),this.pause(),this.isFullScreen&&this.exitFullscreen(),this.$video.src="",this.$video.remove(),this.container.remove(),this.eventEmitter.offAll()}get isNativeUI(){return this.options.isNativeUI()}get state(){return this.$video.readyState}get isLoading(){return this.$video.readyState<this.$video.HAVE_ENOUGH_DATA&&!this.hasError}get isLoaded(){return this.$video.readyState>=this.$video.HAVE_FUTURE_DATA}get canPlay(){return this.$video.readyState>=this.$video.HAVE_ENOUGH_DATA}get isPlaying(){return this.$video.paused===!1}get isMuted(){return this.$video.muted}get isEnded(){return this.$video.ended}get isLoop(){return this.$video.loop}get isAutoPlay(){return this.$video.autoplay}get duration(){return this.$video.duration}get buffered(){return this.$video.buffered}get currentTime(){return this.$video.currentTime}get volume(){return this.$video.volume}get playbackRate(){return this.$video.playbackRate}get _requestFullscreen(){return HTMLElement.prototype.requestFullscreen||HTMLElement.prototype.webkitRequestFullscreen||HTMLElement.prototype.mozRequestFullScreen||HTMLElement.prototype.msRequestFullscreen}get _exitFullscreen(){return Document.prototype.exitFullscreen||Document.prototype.webkitExitFullscreen||Document.prototype.cancelFullScreen||Document.prototype.mozCancelFullScreen||Document.prototype.msExitFullscreen}static get version(){return"1.1.1"}}console.log("%c Oh Player %c v"+Pe.version+" %c https://github.com/shiyiya/oplayer","color: #fff; background: #6668ab; padding: 4px 6px; margin: 4px 0;","color: #fff; background: #5f5f5f; padding: 4px 6px; margin: 4px 0;","")},4897:function(ot,Ae,ae){ae.d(Ae,{ZP:function(){return $e}});var i=ae(1996),U=ae(5168),Se=ae(3148);const te=["playing","duration","aspectRatio","plugins","onEvent"];function P(V,ee){if(V==null)return{};var Y={},G=Object.keys(V),Q,j;for(j=0;j<G.length;j++)Q=G[j],!(ee.indexOf(Q)>=0)&&(Y[Q]=V[Q]);return Y}const $e=(0,U.forwardRef)((V,ee)=>{const Y=V.playing,G=V.duration,Q=G===void 0?0:G,j=V.aspectRatio,se=j===void 0?9/16:j,pe=V.plugins,le=V.onEvent,q=P(V,te),W=(0,U.useRef)(!0),D=(0,U.useRef)(null),I=we(q.source),ce=(0,U.useCallback)(C=>{if(C!==null){const B=i.ZP.make(C,q).use(pe||[]).create();D.current=B,B.seek(Q/1e3),le&&B.on(le)}},[]);return(0,U.useEffect)(()=>{var C,B,ue;W.current||(Y?D.current&&!D.current.isPlaying&&((C=D.current)==null||C.play()):(B=D.current)!=null&&B.isPlaying&&((ue=D.current)==null||ue.pause()))},[Y]),(0,U.useEffect)(()=>{var C,B,ue,Ce,Le;W.current||((I==null?void 0:I.src)!==((C=q.source)==null?void 0:C.src)&&((B=D.current)==null||B.changeSource(q.source),(ue=D.current)==null||ue.setPlaybackRate(q.playbackRate||1)),(Le=D.current)==null||Le.setPoster(((Ce=q.source)==null?void 0:Ce.poster)||""))},[q.source]),(0,U.useEffect)(()=>{var C;W.current||(C=D.current)==null||C.seek(Q/1e3)},[Q]),(0,U.useEffect)(()=>{var C,B;W.current||(q.muted?(C=D.current)==null||C.mute():(B=D.current)==null||B.unmute())},[q.muted]),(0,U.useEffect)(()=>{var C;W.current||(C=D.current)==null||C.setPlaybackRate(q.playbackRate)},[q.playbackRate]),(0,U.useEffect)(()=>(W.current=!1,()=>{var C;return(C=D.current)==null?void 0:C.destroy()}),[]),(0,U.useImperativeHandle)(ee,()=>D.current,[]),(0,Se.jsx)("div",{style:{width:"100%",paddingTop:se*100+"%",backgroundColor:"#f4f4f4",position:"relative"},children:(0,Se.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},ref:ce})})});function we(V){const ee=(0,U.useRef)();return(0,U.useEffect)(()=>{ee.current=V},[V]),ee.current}},8364:function(ot,Ae,ae){ae.d(Ae,{Z:function(){return Tn}});var i=ae(1996),U=Object.defineProperty,Se=(e,t,n)=>t in e?U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,te=(e,t,n)=>(Se(e,typeof t!="symbol"?t+"":t,n),n),P,$e,we,V,ee;function Y(e,t){return t||(t=e.slice(0)),e.raw=t,e}const G=i.$.cls("settingShown"),Q=i.$.cls("fullscreen"),j=i.$.cls("controllerHidden"),se=i.$.cls("loading"),pe=i.$.cls("isInitialized"),le=i.$.cls("playing"),q=i.$.cls("focused"),W=e=>i.$.css(Object.assign({"--primary-color":""+e.primaryColor,"--shadow-background-color":"rgba(28 ,28 ,28 , .9)","--controller-Bottom-height":"3.25em",position:"absolute",top:"0",left:"0",width:"100%",height:"100%","font-size":"12px","&, & > *":{"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)"}},!i.tq&&{["&."+Q]:{"font-size":"16px"}})),D=i.$.css(P||(P=Y([`
  z-index: 9999 !important;
  position: fixed !important;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;`]))),I=i.$.css({background:"none",border:"none",cursor:"pointer",padding:0,outline:"none",font:"inherit",color:"inherit","line-height":"inherit","text-align":"inherit",width:"100%"}),ce=i.$.css({"& > svg:nth-child(1)":{display:"none"}}),C=i.$.css({"& > svg:nth-child(2)":{display:"none"}}),B=i.tq?"":i.$.css({position:"relative","&:hover":{"&::after":{opacity:1,transform:"translateX(-50%) scale(1)"},"&[data-tooltip-pos=up-right]::after":{right:0,left:"auto",transform:"translateY(0) scale(1)"}},"&::after":{position:"absolute",content:"attr(aria-label)",bottom:"100%",left:"50%","margin-bottom":"0.5em","white-space":"nowrap",background:"var(--shadow-background-color)",transform:"translate(-50%, 10px) scale(.8)","transform-origin":"50% 100%",opacity:0,padding:"4px 8px","border-radius":"4px",transition:"transform .2s ease .1s,opacity .2s ease .1s","pointer-events":"none"},"&[data-tooltip-pos=up-right]::after":{right:0,left:"auto",transform:"translateY(10px) scale(.8)","transform-origin":"100% 100%"}}),de={play:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path  d="M245.76 785.203V238.797c0-50.442 34.918-69.182 77.967-42.046l422.196 266.117c43.11 27.157 43.069 71.128 0 98.284L323.727 827.249c-43.11 27.177-77.967 8.315-77.967-42.046z" /></svg>',pause:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path  d="M327.68 184.32a81.92 81.92 0 0 1 81.92 81.92v491.52a81.92 81.92 0 1 1-163.84 0V266.24a81.92 81.92 0 0 1 81.92-81.92z m368.64 0a81.92 81.92 0 0 1 81.92 81.92v491.52a81.92 81.92 0 1 1-163.84 0V266.24a81.92 81.92 0 0 1 81.92-81.92z" /></svg>',volume:['<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M128 426.666667v170.666666c0 23.466667 19.2 42.666667 42.666667 42.666667h128l140.373333 140.373333c26.88 26.88 72.96 7.68 72.96-30.293333V273.493333c0-37.973333-46.08-57.173333-72.96-30.293333L298.666667 384H170.666667c-23.466667 0-42.666667 19.2-42.666667 42.666667z m576 85.333333A192 192 0 0 0 597.333333 340.053333v343.466667c63.146667-31.146667 106.666667-96 106.666667-171.52zM597.333333 189.866667v8.533333c0 16.213333 10.666667 30.293333 25.6 36.266667C733.013333 278.613333 810.666667 386.56 810.666667 512s-77.653333 233.386667-187.733334 277.333333c-15.36 5.973333-25.6 20.053333-25.6 36.266667v8.533333c0 26.88 26.88 45.653333 51.626667 36.266667C793.6 815.36 896 675.84 896 512s-102.4-303.36-247.04-358.4c-24.746667-9.813333-51.626667 9.386667-51.626667 36.266667z"></path></svg>','<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M154.88 154.88a42.496 42.496 0 0 0 0 60.16L311.04 371.2 298.666667 384H170.666667c-23.466667 0-42.666667 19.2-42.666667 42.666667v170.666666c0 23.466667 19.2 42.666667 42.666667 42.666667h128l140.373333 140.373333c26.88 26.88 72.96 7.68 72.96-30.293333v-177.92l178.346667 178.346667c-20.906667 15.786667-43.52 29.013333-68.266667 38.826666-15.36 6.4-24.746667 22.613333-24.746667 39.253334 0 30.72 31.146667 50.346667 59.306667 38.826666 34.133333-14.08 66.133333-32.853333 94.72-55.893333l57.173333 57.173333a42.496 42.496 0 1 0 60.16-60.16L215.466667 154.88c-16.64-16.64-43.52-16.64-60.586667 0zM810.666667 512c0 34.986667-6.4 68.693333-17.493334 99.84l65.28 65.28c23.893333-49.92 37.546667-105.813333 37.546667-165.12 0-163.413333-102.4-303.36-246.613333-358.4-25.173333-9.813333-52.053333 9.813333-52.053334 36.693333v8.106667c0 16.213333 10.666667 30.293333 26.026667 36.266667C733.013333 279.04 810.666667 386.56 810.666667 512z m-371.626667-268.373333l-7.253333 7.253333L512 331.093333V273.493333c0-37.973333-46.08-56.746667-72.96-29.866666zM704 512A192 192 0 0 0 597.333333 340.053333v76.373334l105.813334 105.813333c0.426667-3.413333 0.853333-6.826667 0.853333-10.24z"></path></svg>'],fullscreen:['<svg viewBox="-113 -113 1250 1250" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M0 232.732444A232.732444 232.732444 0 0 1 232.732444 0h558.535112A232.732444 232.732444 0 0 1 1024 232.732444v558.535112A232.732444 232.732444 0 0 1 791.267556 1024H232.732444A232.732444 232.732444 0 0 1 0 791.267556V232.732444z m232.732444-139.662222a139.662222 139.662222 0 0 0-139.662222 139.662222v558.535112a139.662222 139.662222 0 0 0 139.662222 139.662222h558.535112a139.662222 139.662222 0 0 0 139.662222-139.662222V232.732444a139.662222 139.662222 0 0 0-139.662222-139.662222H232.732444z"></path><path d="M549.575111 245.845333c0-25.799111 20.935111-46.734222 46.734222-46.734222h116.821334A140.202667 140.202667 0 0 1 853.333333 339.313778v116.821333a46.734222 46.734222 0 0 1-93.468444 0v-116.821333c0-25.827556-20.906667-46.734222-46.734222-46.734222h-116.821334a46.734222 46.734222 0 0 1-46.734222-46.734223zM245.845333 549.546667c25.799111 0 46.734222 20.935111 46.734223 46.734222v116.821333c0 25.827556 20.906667 46.734222 46.734222 46.734222h116.821333a46.734222 46.734222 0 0 1 0 93.468445h-116.821333A140.202667 140.202667 0 0 1 199.111111 713.130667v-116.821334c0-25.799111 20.935111-46.734222 46.734222-46.734222z"></path></svg>','<svg viewBox="-113 -113 1250 1250" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M0.739556 233.130667a232.391111 232.391111 0 0 1 232.391111-232.391111h557.738666a232.391111 232.391111 0 0 1 232.391111 232.391111v557.738666a232.391111 232.391111 0 0 1-232.391111 232.391111H233.130667a232.391111 232.391111 0 0 1-232.391111-232.391111V233.130667z m232.391111-139.434667a139.434667 139.434667 0 0 0-139.434667 139.434667v557.738666a139.434667 139.434667 0 0 0 139.434667 139.434667h557.738666a139.434667 139.434667 0 0 0 139.434667-139.434667V233.130667a139.434667 139.434667 0 0 0-139.434667-139.434667H233.130667z"></path><path d="M601.088 186.652444c25.685333 0 46.506667 20.792889 46.506667 46.478223v96.796444c0 25.685333 20.792889 46.478222 46.478222 46.478222h96.796444a46.478222 46.478222 0 1 1 0 92.984889h-96.796444a139.434667 139.434667 0 0 1-139.463111-139.463111V233.130667c0-25.685333 20.821333-46.478222 46.478222-46.478223z m-414.435556 414.435556c0-25.656889 20.792889-46.478222 46.478223-46.478222h96.796444a139.434667 139.434667 0 0 1 139.463111 139.463111v96.796444a46.478222 46.478222 0 0 1-92.984889 0v-96.796444c0-25.685333-20.792889-46.478222-46.478222-46.478222H233.130667a46.478222 46.478222 0 0 1-46.478223-46.506667z"></path></svg>'],pip:['<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M768 213.333333H256a85.333333 85.333333 0 0 0-85.333333 85.333334v426.666666a85.333333 85.333333 0 0 0 85.333333 85.333334h170.666667a42.666667 42.666667 0 1 1 0 85.333333H256a170.666667 170.666667 0 0 1-170.666667-170.666667V298.666667a170.666667 170.666667 0 0 1 170.666667-170.666667h512a170.666667 170.666667 0 0 1 170.666667 170.666667v128a42.666667 42.666667 0 1 1-85.333334 0V298.666667a85.333333 85.333333 0 0 0-85.333333-85.333334z m-128 341.333334a128 128 0 0 0-128 128v85.333333a128 128 0 0 0 128 128h170.666667a128 128 0 0 0 128-128v-85.333333a128 128 0 0 0-128-128h-170.666667z"></path></svg>','<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="m768,213.33333l-512,0a85.33333,85.33333 0 0 0 -85.33333,85.33334l0,426.66666a85.33333,85.33333 0 0 0 85.33333,85.33334l170.66667,0a42.66667,42.66667 0 1 1 0,85.33333l-170.66667,0a170.66667,170.66667 0 0 1 -170.66667,-170.66667l0,-426.66666a170.66667,170.66667 0 0 1 170.66667,-170.66667l512,0a170.66667,170.66667 0 0 1 170.66667,170.66667l0,128a42.66667,42.66667 0 1 1 -85.33334,0l0,-128a85.33333,85.33333 0 0 0 -85.33333,-85.33334zm-128,341.33334a128,128 0 0 0 -128,128l0,85.33333a128,128 0 0 0 128,128l170.66667,0a128,128 0 0 0 128,-128l0,-85.33333a128,128 0 0 0 -128,-128l-170.66667,0z"></path><g stroke="null"><g stroke="null" transform="matrix(0.6896517266997474,0,0,0.6896517266997474,-10241.200782450309,-10001.206060939305) "><rect stroke="null" x="15122.523407" y="14826.656681" width="582" height="402" fill="none"></rect></g><g stroke="null" transform="matrix(0.6896517266997474,0,0,0.6896517266997474,-10241.200782450309,-10001.206060939305) "><path stroke="null" d="m15503.523407,14924.856681l-161.8,0c-66.2,0 -120,53.8 -120,120l0,161.8c0,22.1 17.9,40 40,40s40,-17.9 40,-40l0,-144.4l169.8,169.8c7.8,7.8 18,11.7 28.3,11.7c10.2,0 20.5,-3.9 28.3,-11.7c15.6,-15.6 15.6,-40.9 0,-56.6l-170.7,-170.6l146.1,0c22.1,0 40,-17.9 40,-40s-17.9,-40 -40,-40z"></path></g></g></svg>'],setting:'<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" style="scale:1.1"><path d="M0 0h1024v1024H0z" fill-opacity="0"></path><path d="M501.333333 127.573333a21.333333 21.333333 0 0 1 21.333334 0l316.928 182.954667a21.333333 21.333333 0 0 1 10.666666 18.474667v365.994666a21.333333 21.333333 0 0 1-10.666666 18.474667L522.666667 896.426667a21.333333 21.333333 0 0 1-21.333334 0l-316.928-182.954667a21.333333 21.333333 0 0 1-10.666666-18.474667V328.96a21.333333 21.333333 0 0 1 10.666666-18.474667zM512 219.946667L259.029333 365.952v292.053333L512 804.010667l252.928-146.005334V365.952L512 219.946667zM512 426.666667a85.333333 85.333333 0 1 1 0 170.666666 85.333333 85.333333 0 0 1 0-170.666666z"></path></svg>',screenshot:'<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" style="scale: 0.9"><path d="M412.245333 757.333333a42.666667 42.666667 0 0 1-56.490666-64l356.48-314.794666a42.666667 42.666667 0 0 1 56.746666 0.256l112.896 101.461333a42.666667 42.666667 0 1 1-57.088 63.488L740.266667 467.626667l-328.021334 289.706666zM810.666667 213.333333h-128a42.666667 42.666667 0 0 1 0-85.333333h170.666666a42.666667 42.666667 0 0 1 42.666667 42.666667v170.666666a42.666667 42.666667 0 0 1-85.333333 0V213.333333zM213.333333 213.333333v128a42.666667 42.666667 0 1 1-85.333333 0V170.666667a42.666667 42.666667 0 0 1 42.666667-42.666667h170.666666a42.666667 42.666667 0 1 1 0 85.333333H213.333333z m597.333334 597.333334v-128a42.666667 42.666667 0 0 1 85.333333 0v170.666666a42.666667 42.666667 0 0 1-42.666667 42.666667h-170.666666a42.666667 42.666667 0 0 1 0-85.333333h128zM213.333333 810.666667h128a42.666667 42.666667 0 0 1 0 85.333333H170.666667a42.666667 42.666667 0 0 1-42.666667-42.666667v-170.666666a42.666667 42.666667 0 0 1 85.333333 0v128z m170.666667-298.666667a128 128 0 1 1 0-256 128 128 0 0 1 0 256z m0-85.333333a42.666667 42.666667 0 1 0 0-85.333334 42.666667 42.666667 0 0 0 0 85.333334z"></path></svg>',playbackRate:'<svg t="1662793741675" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4313"  height="200"><path d="M512 951.04a435.2 435.2 0 1 1 435.2-435.2 435.2 435.2 0 0 1-435.2 435.2z m0-819.2a384 384 0 1 0 384 384A384 384 0 0 0 512 132.096z" p-id="4314" fill="#ffffff"></path><path d="M468.992 493.824l-130.048-75.008a20.992 20.992 0 0 0-31.232 18.176v150.016a20.992 20.992 0 0 0 31.232 18.176l130.048-75.008a20.992 20.992 0 0 0 0-36.352zM684.8 493.824l-129.536-75.008a21.248 21.248 0 0 0-31.744 18.432v149.504a21.248 21.248 0 0 0 31.744 18.432l129.536-75.008a20.992 20.992 0 0 0 0-36.352z" p-id="4315" fill="#ffffff"></path></svg>',subtitle:'<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M640 970.666667H384c-231.765333 0-330.666667-98.901333-330.666667-330.666667V384c0-231.765333 98.901333-330.666667 330.666667-330.666667h256c231.765333 0 330.666667 98.901333 330.666667 330.666667v256c0 231.765333-98.901333 330.666667-330.666667 330.666667z m-256-853.333334C187.136 117.333333 117.333333 187.136 117.333333 384v256c0 196.864 69.802667 266.666667 266.666667 266.666667h256c196.864 0 266.666667-69.802667 266.666667-266.666667V384c0-196.864-69.76-266.666667-266.666667-266.666667z" fill="#ffffff" p-id="9126"></path><path d="M667.733333 760.746667a32.213333 32.213333 0 0 1-32-32 32.213333 32.213333 0 0 1 32-32h78.933334a32.213333 32.213333 0 0 1 32 32 32.213333 32.213333 0 0 1-32 32zM277.333333 760.746667a32.213333 32.213333 0 0 1-32-32 32.213333 32.213333 0 0 1 32-32h276.053334a32 32 0 0 1 0 64zM510.762667 600.32a32.213333 32.213333 0 0 1-32-32 32.213333 32.213333 0 0 1 32-32h235.946666a32.213333 32.213333 0 0 1 32 32 32.213333 32.213333 0 0 1-32 32zM277.333333 600.32a32.213333 32.213333 0 0 1-32-32 32.213333 32.213333 0 0 1 32-32h118.186667a32.213333 32.213333 0 0 1 32 32 32.213333 32.213333 0 0 1-32 32z"></path></svg>',loop:'<svg style="transform: scale(.8);" t="1662029141436" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2497"><path d="M677.944889 589.909333c25.713778-16.952889 41.301333-46.478222 41.301333-78.222222 0-31.772444-15.587556-61.297778-41.301333-78.222222L440.32 276.906667c-58.88-38.741333-135.566222 5.518222-135.566222 78.279111V668.16c0 72.789333 76.686222 116.992 135.566222 78.222222l237.596444-156.472889h0.028445z m-47.132445-78.222222l-237.624888 156.472889V355.128889l237.624888 156.501333v0.028445z" p-id="2498" fill="#ffffff"></path><path d="M486.968889 104.106667c-128-0.227556-248.974222 57.457778-328.078222 156.444444h54.072889c16.469333 0 31.658667 8.647111 39.879111 22.641778 8.248889 14.023111 8.248889 31.288889 0 45.283555-8.248889 14.023111-23.409778 22.641778-39.879111 22.641778H74.865778c-25.400889 0-46.023111-20.252444-46.023111-45.283555v-164.693334c0-25.031111 20.622222-45.283556 46.023111-45.283555 25.429333 0 46.051556 20.252444 46.051555 45.283555v24.746667C216.832 68.266667 348.984889 13.255111 486.968889 13.482667 767.658667 13.511111 995.555556 236.316444 995.555556 511.715556c0 275.342222-227.868444 498.147556-508.586667 498.147555-190.862222 0.199111-365.738667-104.675556-453.006222-271.644444a44.657778 44.657778 0 0 1 1.678222-45.767111 46.250667 46.250667 0 0 1 41.415111-20.906667 46.08 46.08 0 0 1 38.798222 25.315555c71.509333 136.760889 214.812444 222.634667 371.114667 222.435556 230.257778 0 416.512-182.698667 416.512-407.608889 0-224.881778-186.254222-407.580444-416.512-407.580444z" p-id="2499" fill="#ffffff"></path></svg>',progressIndicator:null,loadingIndicator:null};var R;(e=>{e.setupIcons=(t,n)=>{for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(de[s]=n[s]);return de},e.get=t=>de[t]})(R||(R={}));const He=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function n(s){let a=s.target;a&&(e.$root.contains(a)||e.$root==a)?e.$root.classList.add(q):e.$root.classList.remove(q)}t&&e.$root.classList.add(q),document.addEventListener("click",n),document.addEventListener("contextmenu",n),e.on("destroy",()=>{document.removeEventListener("click",n),document.removeEventListener("contextmenu",n)})},Fe=e=>e.$root.classList.contains(q),De=e=>{let t=!1;const n=()=>{t&&e.$root.classList.remove(pe),t=!1},s=()=>{t||(t=!0,e.$root.classList.add(pe),e.emit("videoinitialized"))};i.tq?e.on("durationchange",function(){e.duration!==1/0&&e.duration>0&&s()}):e.on("canplaythrough",s),e.on("videosourcechange",n)},_e=e=>e.$root.classList.contains(pe),ct=e=>{e.on("play",()=>{e.$root.classList.add(le)}),e.on(["pause","videosourcechange"],()=>{e.$root.classList.remove(le)})},Ue=e=>{let t=0,n=0,s=!1,a=!1;const p=()=>e.$root.classList.add(se),$=()=>e.$root.classList.remove(se);p(),e.on("videoinitialized",$),e.on("seeking",()=>{e.isPlaying||(p(),e.on("canplaythrough",$,{once:!0}))}),e.on("play",()=>a=!0),e.on("pause",()=>(a=!1,$())),e.on("videosourcechange",()=>{p(),a=!1,t=n=0}),setInterval(()=>{a&&_e(e)&&(n=e.currentTime,!s&&n===t&&e.isPlaying&&(p(),s=!0),s&&n>t&&e.isPlaying&&($(),s=!1),t=n)},100)},ut=e=>e.$root.classList.contains(se),dt=(e,t)=>{e.on("fullscreenchange",()=>{t.classList.toggle(Q)})},ht=(e,t,n)=>{De(e),ct(e),Ue(e),dt(e,n),i.tq||He(e,t.autoFocus)};function Me(e){return e<10?"0"+e:""+e}function ie(e){if(!isFinite(e))return"--:--";const t=Math.floor(e/3600),n=Math.floor(e%3600/60),s=Math.floor(e%3600%60);return(t>0?Me(t)+":":"")+Me(n)+":"+Me(s)}function gt(e,t){const n=document.createElement("a");n.href=e,n.download=t,n.click()}const ft=e=>{var t;try{const n=document.createElement("canvas"),s=e.videoWidth,a=e.videoHeight;return n.width=s,n.height=a,(t=n.getContext("2d"))==null||t.drawImage(e,0,0,s,a),n.toDataURL("image/png")}catch(n){return n}},Ne=e=>{if(ut(e)||!_e(e)){e.emit("notice",{text:e.locales.get("Please wait for loading to complete")});return}const t=ft(e.$video);t instanceof Error?e.emit("notice",{text:t.message}):gt(t,ie(e.currentTime).replace(/:/g,"-")+"-OPlayer-ScreenShot.png")},We=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1500,n=null;const s=()=>n&&clearTimeout(n);return{callee:()=>{s(),n=setTimeout(()=>{e()},t)},clear:s}},Xe=(e,t)=>{var n=[],s=e.parentNode.children;for(let a=0,p=s.length;a<p;a++)s[a]!==e&&(t==null||t(s[a]),n.push(s[a]));return n};function Re(e,t){return e.classList.add(t),e}function Be(e,t){return e.classList.remove(t),e}function pt(e,t){return e.classList.toggle(t)}function Te(e,t){return e.classList.contains(t)}const he={dragStart:i.tq?"touchstart":"mousedown",dragMove:i.tq?"touchmove":"mousemove",dragEnd:i.tq?"touchend":"mouseup"},Ke=10,Ye=5,Ee={ArrowUp:e=>{const t=e.volume*100+Ke;e.setVolume(t/100),e.emit("notice",{text:e.locales.get("Volume: %s",~~(e.volume*100)+"%")})},ArrowDown:e=>{const t=e.volume*100-Ke;e.setVolume(t/100),e.emit("notice",{text:e.locales.get("Volume: %s",~~(e.volume*100)+"%")})},ArrowLeft:e=>{e.seek(e.currentTime-Ye),e.emit("notice",{text:ie(e.currentTime)+" / "+ie(e.duration)})},ArrowRight:e=>{e.seek(e.currentTime+Ye),e.emit("notice",{text:ie(e.currentTime)+" / "+ie(e.duration)})}," ":e=>e.togglePlay(),Escape:e=>{if(e.isFullScreen){e.exitFullscreen();return}e.$root.classList.contains(D)&&e.emit("fullscreenchange",{isWeb:!0})},f:e=>e.toggleFullScreen(),"s+s":Ne};function vt(e){let t;function n(s){var a;if(((a=document.activeElement)==null?void 0:a.getAttribute("contenteditable"))||!Fe(e))return;const p=s.key;Ee[p]&&(s.preventDefault(),Ee[p](e)),t&&t===p&&Ee[t+"+"+p]&&(s.preventDefault(),Ee[t+"+"+p](e)),t=p,setTimeout(()=>{t=void 0},200)}e.on("addhotkey",s=>{let a=s.payload;for(const p in a)Object.prototype.hasOwnProperty.call(a,p)&&(Ee[p]=a[p])}),e.on("removehotkey",s=>{s.payload.forEach(p=>{delete Ee[p]})}),document.addEventListener("keydown",n),e.on("destroy",()=>{document.removeEventListener("keydown",n)})}const ke="speed";function Ge(e,t,n){t!=null&&t.length&&(n.register({key:ke,type:"selector",name:e.locales.get("Speed"),icon:R.get("playbackRate"),children:t.map(s=>({name:+s==1?"Normal":s+"x",value:+s,default:e.playbackRate==+s})),onChange:s=>{let a=s.value;return e.setPlaybackRate(a)}}),e.on("ratechange",()=>{const s=e.playbackRate,a=t.findIndex(p=>+p==s);n.select(ke,a),a==-1&&n.updateLabel(ke,s+"x")}))}const Pe=i.$.css($e||($e=Y([`
  width: 2.5em;
  height: 7.5em;
  padding-bottom: 3px;
  box-sizing: content-box;
`]))),l=i.$.css(`
  width: 100%;
  text-align: center;
  height: 28px;
  line-height: 28px;
  margin-bottom: 2px;
  font-size: 80%;
`),o=i.$.css(`
  position:relative;
  display: flex;
  justify-content: center;
  height: 4.8em;
  cursor: pointer;
`),c=i.$.css(`
  height: 100%;
  width: 2px;
  position: relative;

`),u=i.$.css(`
  background: rgb(231 231 231);
  height: 100%;
  width: 2px;
  border-radius: 2px;
`),r=i.$.css(`
  height: 100%;
  width: 100%;
  background-color: var(--primary-color);
  transform-origin: 0 100%;
  border-radius: 2px;
`),f=i.$.css(we||(we=Y([`
  position:absolute;
  bottom: 0;
  top: auto;
  left: -5px;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background-color: var(--primary-color);
  vertical-align: middle;
  pointer-events: none;
  `]))),b=(e,t)=>{const n=i.$.create("div."+Pe,{},"<div class="+l+`>100</div>

    <div class=`+o+`>
        <div class=`+c+`>
          <div class=`+u+`>
            <div class=`+r+`></div>
          </div>

          <div class=`+f+`></div>
        <div>
      </div>`),s=n.querySelector("."+o),a=n.querySelector("."+f),p=n.querySelector("."+r),$=n.querySelector("."+l),m=x=>{const E=s.getBoundingClientRect(),S=(E.bottom-(x.clientY||x.changedTouches[0].clientY))/E.height;return S>=1?1:S<=0?0:S},g=x=>{x.preventDefault(),e.setVolume(d(m(x)))},d=x=>($.innerText=""+~~(x*100),p.style.transform="scaleY("+x+")",a.style.bottom="calc("+~~(x*100)+"% - 6px)",x);d(e.volume),e.on("volumechange",()=>{d(e.isMuted?0:e.volume)}),s.addEventListener(he.dragStart,x=>{g(x),document.addEventListener(he.dragMove,g,{passive:!1}),document.addEventListener(he.dragEnd,()=>{document.removeEventListener(he.dragMove,g)},{once:!0})}),i.$.render(n,t)},O=i.$.css(V||(V=Y([`
  padding: `,`;
  font-variant-numeric: tabular-nums;
  font-size: 120%;
`])),i.tq?0:"0px 0.5em"),_=i.$.css(`
    position: absolute;
    top: 0;
    right: 50%;
    z-index: 10;
    border-radius: 3px;
    box-sizing: border-box;
    transform: translate(50%, -100%);
    transition: visibility 0s, opacity 0.1s linear;
    font-size: 120%;
`),X=i.$.css({position:"relative",display:"flex",["& ."+_]:{visibility:"hidden",opacity:0,"background-color":"var(--shadow-background-color)"}}),ne=i.$.css({["&:hover"]:{"padding-top":"0.5em","margin-top":"-0.5em",["& ."+_]:{visibility:"visible",opacity:1}}}),H=i.$.css({"min-width":"6em",display:"block",height:"2.4em","line-height":"2.4em",cursor:"pointer","text-align":"center","word-break":"keep-all","&:nth-last-child(1)":{"margin-bottom":"0px"},"& *":{"pointer-events":"none"},"&[data-selected=true]":{color:"var(--primary-color)"},"&:hover":{"background-color":"rgba(255, 255, 255, 0.1)"}}),K=i.$.css({display:"flex","justify-content":"space-between",color:"#fff",fill:"#fff",height:"var(--controller-Bottom-height)",padding:i.tq?0:"0px 0px 5px 0px","margin-right":i.tq?"-8px":"0px","text-align":"center",["& ."+I+".--text"]:{width:"auto","font-size":"120%"},["& ."+I]:{padding:"0 0.5em",width:"2em",height:"2em","box-sizing":"content-box",["& svg"]:{width:"100%",height:"100%","pointer-events":"none"}},"> div":{display:"flex","align-items":"center"}}),oe=(e,t,n)=>{const s=[e.locales.get("Play"),e.locales.get("Pause"),e.locales.get("Screenshot"),e.locales.get("Picture in Picture"),e.locales.get(e.isFullscreenEnabled?"Fullscreen":"WebFullscreen")],a=s[0],p=s[1],$=s[2],m=s[3],g=s[4],d=i.$.create("div."+K,{},`<div>
      `+(i.tq?"":`<button
              class="`+I+" "+(e.isPlaying?ce:C)+" "+B+`"
              aria-label="`+a+`"
            >
              `+R.get("play")+`
              `+R.get("pause")+`
            </button>`)+`

      <span class=`+O+">"+(e.options.isLive?"00:00":"00:00 / --:--")+`</span>
    </div>

    <!-- right -->
    <div>
      <div class="`+X+" "+ne+`">
        <button class="`+I+" "+(e.isMuted?ce:C)+`" aria-label="Volume">
            `+R.get("volume")[0]+`
            `+R.get("volume")[1]+`
        </button>
        `+(i.gn?"":"<div class="+_+"></div>")+`
      </div>

      `+(n.screenshot?'<button class="'+I+" "+B+'" aria-label="'+$+`">
              `+R.get("screenshot")+`
            </button>`:"")+`

      `+(n.pictureInPicture&&e.isPipEnabled?`<button
              class="`+I+" "+B+" "+(e.isInPip?ce:C)+`"
              aria-label="`+m+`">
                `+R.get("pip")[0]+`
                `+R.get("pip")[1]+`
            </button>`:"")+`

      `+(n.fullscreen?'<button class="'+I+" "+C+" "+B+'" data-tooltip-pos="up-right" aria-label="'+g+`">
                `+R.get("fullscreen")[0]+`
                `+R.get("fullscreen")[1]+`
              </button>`:"")+`
    </div>`),x=d.querySelector("button[aria-label=Volume]");i.gn||b(e,x.nextElementSibling);const E=d.querySelector("button[aria-label="+a+"]"),S=d.querySelector("."+O),L=d.querySelector('button[aria-label="'+g+'"]'),z=d.querySelector('button[aria-label="'+m+'"]'),k=(A,T)=>{A.classList.add(T?ce:C),A.classList.remove(T?C:ce)};n.fullscreen&&e.on("fullscreenchange",A=>{let T=A.payload;return setTimeout(()=>{T.isWeb?k(L,pt(e.$root,D)):k(L,e.isFullScreen)})}),i.tq||e.on(["play","pause","videosourcechange"],()=>{E.setAttribute("aria-label",e.isPlaying?p:a),k(E,e.isPlaying)}),e.on("volumechange",()=>k(x,e.isMuted)),e.on(["durationchange","timeupdate","seeking","seeked"],()=>{S.innerText=ie(e.currentTime)+" "+(e.options.isLive?"":" / "+ie(e.duration))}),e.on("videosourcechange",()=>S.innerText=e.options.isLive?"00:00":"00:00 / --:--"),d.addEventListener("click",A=>{switch(A.target.getAttribute("aria-label")){case a:case p:return e.togglePlay();case"Volume":if(i.tq&&!i.gn)return;e.isMuted?e.unmute():e.mute();break;case m:return k(z,!e.isInPip),e.togglePip();case g:e.isFullscreenEnabled?e.toggleFullScreen():e.emit("fullscreenchange",{isWeb:!0});return;case $:Ne(e);break}}),i.$.render(d,t)},ve=i.$.css(`
  display: none;
  bottom: 15px;
  position: absolute;
  left: 50%;
  padding: 5px 8px;
  background-color: var(--shadow-background-color);
  color: #fff;
  border-radius: 4px;
  white-space: nowrap;
  word-break: nowrap;
  transform: translateX(-50%);`),mt=i.$.css({position:"absolute",width:"8px",height:"4px","border-radius":"1px","background-color":"#fff",transform:"translateX(-3px)",transition:"all 0.2s",["&:hover > ."+ve]:{display:"block"}});function Bt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const s=document.createDocumentFragment();let a=[],p=!0;function $(d){const x=i.$.create("div."+mt,{},'<span class="'+ve+'">'+d.text+"</san>");return x.style.left=d.left+"%",x}function m(d,x){for(let E=0;E<d.length;E++){const S=d[E],L=$({left:S.time/x*100,text:S.text});a.push(L),i.$.render(L,s)}i.$.render(s,t)}function g(d){p=!0,a.forEach(x=>x.remove()),m(d,e.duration)}return e.on("videoinitialized",()=>{p&&m(n,e.duration)},{once:!0}),e.on("videosourcechange",()=>{p=!1,a.forEach(d=>d.remove())}),g}const Qe=()=>{},bt=i.$.css(`
  position: absolute;
  left: 0;
  bottom: 12px;
  pointer-events: none;
  transform: translateX(-50%);
  background-position-y: center;
  display: none;`);function It(e,t,n){if(!n)return{update:Qe,hide:Qe,init:Qe};const s=i.$.render(i.$.create("div."+bt),t);let a=0,p=0,$=n.src,m=!1,g=100/n.number;setTimeout(()=>{const E=(n==null?void 0:n.width)||160,S=(n==null?void 0:n.height)||90;s.style.width=E+"px",s.style.height=S+"px",a=E/2/t.clientWidth,p=(t.clientWidth-E/2)/t.clientWidth});const d=()=>{m||(m=!0,s.style.backgroundImage="url("+$+")")};e.on("videosourcechange",()=>{m=!1});function x(E){m=!1,$=E}return{init:d,update:E=>{s.style.left=(E<a?a:E>p?p:E)*100+"%";const S=~~(E*100/g)*n.number*g;s.style.backgroundPositionX=-S+"%"},change:x}}const Ze=()=>{},xt=i.$.css(`
  position: absolute;
  left: 0;
  bottom: 12px;
  pointer-events: none;
  transform: translateX(-50%);
  background-position-y: center;
  display: none;`);function Vt(e,t,n){if(!n)return{update:Ze,hide:Ze,init:Ze};let s=[],a={},p,$=!1,m=n.src;const g=i.$.render(i.$.create("div."+xt),t);g.style.width=((n==null?void 0:n.width)||160)+"px",g.style.height=((n==null?void 0:n.height)||90)+"px";const d=w=>{fetch(w).then(v=>v.text()).then(v=>{s=x(v),$=!0,g.style.opacity="1"})};n.src&&d(n.src),e.on("videosourcechange",()=>{$=!1,g.style.opacity="0",s=[],a={}});const x=w=>{const v=[];return w.split(/[\r\n][\r\n]/i).forEach(F=>{if(F.match(/([0-9]{2}:)?([0-9]{2}:)?[0-9]{2}(.[0-9]{3})?( ?--> ?)([0-9]{2}:)?([0-9]{2}:)?[0-9]{2}(.[0-9]{3})?[\r\n]{1}.*/gi)){const M=F.split(/[\r\n]/i),be=isFinite(+M[0])?M[1]:M[0],ge=isFinite(+M[0])?M[2]:M[1],N=be.split(/ ?--> ?/i),fe=N[0],J=N[1],xe=L(ge);v.push({start:E(fe),end:E(J),css:xe})}return v}),v},E=w=>{const v=S(w);return v.hours*(60*60)+v.minutes*60+v.seconds+v.milliseconds/1e3},S=w=>{const v=w.split("."),F=v[0].split(":");return{milliseconds:parseInt(v[1],10)||0,seconds:parseInt(F.pop(),10)||0,minutes:parseInt(F.pop(),10)||0,hours:parseInt(F.pop(),10)||0}},L=w=>{const v={};if(!w.match(/#xywh=/i))return v.background='url("'+z(w)+'")',v;const y=k(w);return v.background='url("'+z(y.image)+'") no-repeat -'+y.x+"px -"+y.y+"px",v.width=y.w+"px",v.height=y.h+"px",v.url=z(y.image),v},z=(()=>{const w={};return v=>{if(w[v])return w[v];if(/(https?:)?\/\//.test(v))return v;let y=m;/(https?:)?\/\//.test(v)&&(y=m.substring(0,m.indexOf("?")||void 0));const F=y.lastIndexOf("/");if(y.startsWith("https://")&&F<8||y.startsWith("http://")&&F<7)return m+v;const M=y.substring(F+1);return w[v]=m.replace(M,v),w[v]}})(),k=w=>{const v=w.split(/#xywh=/i),y=v[0],M=v[1].match(/[0-9]+/gi);return{x:M[0],y:M[1],w:M[2],h:M[3],image:y}},A=w=>{if(!$)return;const v=e.duration,y=w*v,F=T(y);if(!F){g.style.opacity="0";return}const M=t.clientWidth,be=w*M,ge=parseInt(F.width,10),N=ge>>1,fe=M-(be+N),J=be-N;if(g.style.opacity="1",J>0&&fe>0?g.style.transform="translateX("+(be-N)+"px)":J<=0?g.style.transform="translateX("+0+"px)":fe<=0&&(g.style.transform="translateX("+(M-ge)+"px)"),!(p&&p===F)){p=F;for(const xe in F)F.hasOwnProperty(xe)&&(g.style[xe]=F[xe])}},T=w=>{for(let v=0;v<s.length;++v){const y=s[v];if(w>=y.start&&w<y.end){if(y.css.url&&!a[y.css.url]){const F=new Image;F.src=y.css.url,a[y.css.url]=F}return y.css}}};return{init:()=>{},update:A,change:d}}const Je=i.$.css({"background-color":"hsla(0, 0%, 100%, 0.4)"}),et=i.$.css({"background-color":"var(--primary-color)"}),Ie=i.$.css({width:"100%","pointer-events":"none",position:"relative","z-index":1,"& > *":{content:"''",display:"block",position:"absolute",width:"1.4em",height:"1.4em",top:"calc(-0.7em + 2px)",left:"-0.7em",bottom:"0",transform:"scale(0)",transition:"transform 0.3s ease","z-index":"1"},"& > *:not(svg)":{width:"1em",height:"1em",top:"calc(-0.5em + 2px)",left:"-0.5em","border-radius":"50%","background-color":"#fff"}}),tt=i.$.css({position:"absolute",left:"0","border-radius":"4px",padding:"5px 8px","background-color":"var(--shadow-background-color)",color:"#fff","word-wrap":"nowrap","word-break":"nowrap","z-index":"2","pointer-events":"none",transform:"translateX(-50%)",display:"none","white-space":"pre",bottom:"15px"}),me=i.$.css("/* progressDragging */"),qt=i.$.css({position:"relative","box-sizing":"border-box",padding:"5px 0",cursor:"pointer",width:"100%",["&."+me+" ."+Ie+" > * "+(i.tq?"":",&:hover ."+Ie+" > *")]:{transform:"scale(1)"},["&."+me+" ."+tt+", &."+me+" ."+bt+", &."+me+" ."+xt]:{display:"block"}}),jt=i.$.css({position:"relative",height:"4px",width:"100%","background-color":"hsla(0, 0%, 100%, 0.2)","border-radius":"2px",["& ."+Je+", & ."+et]:{position:"absolute",left:"0",top:"0",bottom:"0","will-change":"width","pointer-events":"none","border-radius":"2px"}}),Ht=(e,t,n)=>{var s;const a=i.$.create("div."+qt,{},"<div class="+jt+`>
      <div class="`+tt+`">00:00</div>
      <div class="`+Je+`" style="width:0%"></div>
      <div class="`+et+`" style="width:0%"></div>
      <div class="`+Ie+`" style="transform: translateX(0%);">
        `+(R.get("progressIndicator")||"<span />")+`
      </div>
  </div>`),p=a.firstElementChild,$=(s=n.thumbnails)!=null&&s.isVTT?Vt(e,p,n.thumbnails):It(e,p,n.thumbnails),m=$.init,g=$.update,d=$.change,x=Bt(e,p,n.highlight),E=a.querySelector("."+Je),S=a.querySelector("."+et),L=a.querySelector("."+Ie),z=a.querySelector("."+tt);let k=!1;const A=w=>{const v=a.getBoundingClientRect(),y=((w.clientX||w.changedTouches[0].clientX)-v.left)/v.width;return y>=1?1:y<=0?0:y},T=w=>{const v=A(w),y=v*100;return S.style.width=y+"%",L.style.transform="translateX("+y+"%)",z.innerText=ie(e.duration*v),z.style.left=y+"%",v};return a.addEventListener(he.dragStart,w=>{k=!0,a.classList.add(me),m(),g(T(w));function v(y){y.preventDefault(),g(T(y))}document.addEventListener(he.dragMove,v,{passive:!1}),document.addEventListener(he.dragEnd,y=>{a.classList.remove(me),k=!1,document.removeEventListener(he.dragMove,v),e.seek(A(y)*e.duration)},{once:!0})}),i.tq||(a.addEventListener("mouseenter",()=>{k||m()}),a.addEventListener("mousemove",w=>{if(k)return;a.classList.add(me),w.target.classList.contains(mt)?z.style.display="none":z.removeAttribute("style");const v=A(w);z.innerText=ie(e.duration*v),z.style.left=v*100+"%",g(v)},{passive:!1}),a.addEventListener("mouseleave",()=>{k||a.classList.remove(me)})),e.on(["timeupdate","seeking"],()=>{if(k)return;const w=e.currentTime,v=e.duration,y=w/v*100||0;S.style.width=y+"%",L.style.transform="translateX("+y+"%)"}),e.on("progress",()=>{const w=e.buffered.length?e.buffered.end(e.buffered.length-1)/e.duration*100:0;E.style.width=w+"%"}),e.on("videosourcechange",()=>{E.style.width="0%",S.style.width="0%",L.style.transform="translateX(0%)"}),i.$.render(a,t),{highlight:x,thumbnails:d}},$t=i.$.css({position:"absolute",left:"0",right:"0",bottom:"0","z-index":"97",padding:"0 1.25em",transition:"transform 0.3s ease, padding 0.3s ease","background-image":"linear-gradient(transparent, rgba(0, 0, 0, .2),rgba(0, 0, 0, .4))"}),Ut=1500,Nt=(e,t,n)=>{const s=i.$.create("div."+$t);let a={};e.options.isLive||(a=Ht(e,s,n)),oe(e,s,n),i.$.render(s,t),i.$.css({["@global ."+j]:{cursor:"none",["& ."+$t]:n.miniProgressBar?{transform:"translateY(calc(100% - 7px))",padding:"0","pointer-events":"none"}:{transform:"translateY(100%)"}}});const p=()=>{!_e(e)||!e.isPlaying&&!i.tq||Te(e.$root,j)||Te(e.$root,G)||Re(e.$root,j)},$=We(p,Ut),m=$.callee,g=$.clear,d=()=>{Te(e.$root,j)&&(g(),Be(e.$root,j))};return e.on("play",m),e.on(["pause","videosourcechange"],d),i.tq||(e.$root.addEventListener("mousemove",()=>{d(),m()}),e.$root.addEventListener("mouseleave",p)),{exp:a,toggle(){Te(e.$root,j)?d():p()}}},Wt=i.$.css(Object.assign({"& > button":{position:"absolute",right:"40px",bottom:"5em",fill:"#fff",width:"4.5em","z-index":"97","& > svg":Object.assign({filter:"drop-shadow(4px 4px 6px rgba(0, 0, 0, 0.3))"},i.tq&&{"&:nth-child(1)":{display:"block"},"&:nth-child(2)":{display:"none"},["@global ."+le+" &"]:{"&:nth-child(1)":{display:"none"},"&:nth-child(2)":{display:"block"}}})},"@media only screen and (max-width: 991px)":{"& > button":{top:"0",bottom:"0",left:"0",right:"0",margin:"auto",width:"3.5em",height:"3.5em"}}},i.tq?{display:"none",["@global ."+pe+" &"]:{display:"block"},["@global ."+j+" &"]:{display:"none"}}:{["@global ."+se+" &"]:{display:"none"},["@global ."+le+" &"]:{display:"none"}})),wt=(e,t)=>{const n=!e.isNativeUI&&i.tq,s=i.$.create("div."+Wt,{},'<button aria-label="Play" class="'+I+`" type="button">
      `+R.get("play")+`
      `+(n?R.get("pause"):"")+`
    </button>`);e.isNativeUI?(s.style.display="block",s.addEventListener("click",()=>(e.play(),s.remove()),{once:!0})):s.addEventListener("click",()=>e.togglePlay()),i.$.render(s,t)},Xt=i.$.css(`
  display: none;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  color: #fff;
  font-size: 1.25em;
  background: #000;
  z-index: 99;
  align-items: center;
  padding: 0 10px;
  -moz-user-select: text;
  -webkit-user-select: text;
  -ms-user-select: text;
  user-select: text;
  word-break: break-all;
  justify-content: center;
`),yt=i.$.css("display: flex;"),Kt={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"},Yt=(e,t,n)=>{if(n.errorBuilder){e.on("error",$=>{let m=$.payload;n.errorBuilder(m)});return}const s=i.$.render(i.$.create("div."+Xt,{"aria-label":"Error Overlay"}),t);function a($){var m;let g="";if($ instanceof Event){const d=(m=$.target)==null?void 0:m.error;if(!d||!d.message&&typeof d.code!="number")return;g=d.message||Kt[d.code]}else g=$.message;s.innerText=g||"UNKNOWN_ERROR",Re(s,yt)}function p(){Be(s,yt),s.innerText=""}return e.on("videosourcechange",p),e.on("error",$=>{let m=$.payload;return a(m)}),a},Gt=i.$.css({position:"absolute",top:"0",bottom:"0",left:"0",right:"0",display:"none","align-items":"center","justify-content":"center",["@global ."+se+" &"]:{display:"flex"}}),Qt=i.$.css({position:"relative",overflow:"hidden",width:"20%",height:"4px","border-radius":"4px","&::before,&::after":{display:"block",content:"''",position:"absolute",height:"100%",width:"100%","background-color":"var(--primary-color)","border-radius":"4px"},"&::before":{opacity:"0.4"},"&::after":{animation:"indeterminate 1.3s infinite linear","transform-origin":"0% 50%"},"@keyframes indeterminate":{"0%":{transform:"translateX(0) scaleX(0)"},"10%":{transform:"translateX(0) scaleX(0.2)"},"40%":{transform:"translateX(0) scaleX(0.7)"},"60%":{transform:"translateX(60%) scaleX(0.4)"},"100%":{transform:"translateX(100%) scaleX(0.2)"}}}),Zt=(e,t)=>{const n=i.$.create("div."+Gt,{"aria-label":"Loading"},""+(R.get("loadingIndicator")||'<div class="'+Qt+'"></div>'));i.$.render(n,t)},Jt=i.$.css({width:"100%",height:"100%",position:"absolute",top:"0",left:"0",right:"0",bottom:"0",["@global ."+G+" &"]:{"z-index":"98"}}),en=(e,t,n)=>{const s=i.$.create("div."+Jt);s.addEventListener("click",()=>{!_e(e)||Te(e.$root,G)||(i.tq?n():e.togglePlay())}),i.$.render(s,t)},Et=e=>{const t=e.getAttribute("data-selected")=="true";e.setAttribute("data-selected",""+!t),Xe(e,n=>n.setAttribute("data-selected",""+t))},tn=(e,t,n)=>{const s=[],a=t.querySelector("."+K).children[1];n&&n.forEach(g=>p(g)),a.addEventListener("click",g=>{var d,x;const E=g.target,S=E.getAttribute("aria-label"),L=s.find(z=>z.name==S);!L||E.getAttribute("data-selected")=="true"||(E.tagName.toUpperCase()=="SPAN"?(Et(E),(d=L.onChange)==null||d.call(L,L.children[+E.getAttribute("data-index")])):E.tagName.toUpperCase()=="BUTTON"&&((x=L.onClick)==null||x.call(L,E)))});function p(g){const d=g.name,x=g.icon,E=g.children;let S="";const L=`
    <button
      aria-label="`+d+`"
      class="`+I+" "+(x?"":"--text")+`"
      type="button"
    >`+(x||d)+"</button>";g.children?S=`
      <div class="`+X+" "+ne+'" aria-label="'+d+`">
        `+L+`
        <div class=`+_+`>
          `+E.map((z,k)=>`<span
                  aria-label=`+d+`
                  class=`+H+`
                  data-selected=`+Boolean(z.default)+`
                  data-index=`+k+`
                >`+z.name+"</span>").join("")+`
          </div>
      </div>`:S=L,s.push(g),a.insertAdjacentHTML("afterbegin",S)}function $(g){var d,x;(d=a.querySelector("button[aria-label="+g+"]"))==null||d.remove(),(x=a.querySelector("div[aria-label="+g+"]"))==null||x.remove()}function m(g,d){Et(a.querySelector("."+_+" > span[aria-label="+g+"]:nth-child("+(d+1)+")"))}return{register:p,unregister:$,select:m}},nn=i.$.css(ee||(ee=Y([`
  position: absolute;
  display: none;
  top: 10px;
  left: 10px;
  right: 10px;
  z-index: 99;
`]))),kt=i.$.css(`
  -moz-user-select: all;
  -webkit-user-select: all;
  -ms-user-select: all;
  user-select: all;
  color: #fff;
  background-color: var(--shadow-background-color);
  border-radius: 2px;
  padding: 5px 10px;
  font-size: 120%;
`),sn=2e3,St=i.$.css("display:block;"),on=(e,t)=>{const n=i.$.create("div."+nn,{"aria-label":"Notice"},'<span class="'+kt+'"></span>'),s=n.querySelector("."+kt),a=We(()=>Be(n,St),sn),p=a.callee;function $(g){return function(){return g.apply(void 0,arguments),Re(n,St),p()}}["play","pause","enterFullscreen","exitFullscreen","enterPip","exitPip"].forEach(g=>{const d=e[g].bind(e);Object.defineProperty(e,g,{get:()=>function(){const x=d.apply(void 0,arguments);return x!=null&&x.catch?x.catch(E=>($(()=>s.innerText=E.message)(),E)):x}})});function m(g){$(d=>{s.innerText=d})(g)}return e.on("notice",g=>{let d=g.payload;return m(d.text)}),i.$.render(n,t),m},re=i.$.css("display: block;"),rn=i.$.css({"z-index":"98","max-height":"75%","border-radius":"3px",display:"block",position:"absolute",right:"1.25em",bottom:"3.4em",overflow:"auto","background-color":"var(--shadow-background-color)",fill:"#fff","&::-webkit-scrollbar":{width:"2px"},"&::-webkit-scrollbar-thumb":{background:"var(--primary-color)"},"& > div":{display:"none","font-size":"120%"},["& > div."+re]:{display:"block"}}),an=i.$.css("min-width: 15.5em;"),ln=i.$.css("min-width: 10.5em;"),Lt=i.$.css(`
  display: none;
  width: 18px;
  height: 18px;
`),cn=i.$.css(`
  width: 30px;
  height: 30px;
  margin: 0 -10px 0 -5px;
`),un=i.$.css(`
  width: 30px;
  height: 30px;
  transform: rotate(180deg);
  margin-left: -10px;
`),_t=i.$.css({position:"absolute",cursor:"pointer",top:"0",left:"0",right:"0",bottom:"0","background-color":"#ccc",transition:".3s","border-radius":"34px","&:before":{position:"absolute",content:'""',height:"16px",width:"16px",left:"4px",bottom:"3px","background-color":"white",transition:".3s","border-radius":"50%"}}),dn=i.$.css(`
  position: relative;
  width: 40px;
  height: 22px;
`),hn=i.$.css(`
  white-space: nowrap;
  color: rgba(255, 255, 255, 0.7);
  font-size: 80%;
`),gn=i.$.css({height:"2.4em",cursor:"pointer",color:"#fff","justify-content":"space-between","align-items":"center",padding:"0 10px","line-height":"1",display:"flex",overflow:"hidden","& > *":{"pointer-events":"none"},"&:hover":{"background-color":"rgba(255, 255, 255, 0.1)"},["&[data-selected='true']"]:{["& ."+Lt]:{display:"block"},["&[data-index]"]:{"background-color":"rgba(255, 255, 255, 0.1)"},["& ."+_t]:{"background-color":"var(--primary-color)","&:before":{transform:"translateX(16px)"}}}}),nt=i.$.css({display:"flex","align-items":"center","margin-right":"10px","& > svg":{width:"1.8em",height:"1.7em","margin-right":"0.5em"}}),Tt=i.$.css(`
  display: flex;
  align-items: center;
`),fn=i.$.css({width:"100%",display:"flex","align-items":"center","border-bottom":"1px solid rgb(255 255 255 / 10%)"}),Pt=function(){return'<svg class="'+(arguments.length>0&&arguments[0]!==void 0?arguments[0]:cn)+'"  xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="m 12.59,20.34 4.58,-4.59 -4.58,-4.59 1.41,-1.41 6,6 -6,6 z" fill="#fff"></path></svg>'},pn=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return'<div class="'+nt+`">
      `+t+`
      <span>`+e+`</span>
    </div>
    <svg class=`+Lt+` xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 24 24">
      <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" fill="#fff"></path>
    </svg>
`},vn=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return'<div class="'+nt+`">
      `+t+`
      <span>`+e+`</span>
    </div>
    <div class=`+Tt+`>
      <span role="label" class=`+hn+`></span>
      `+Pt()+`
    </div>
`},mn=e=>'<div class="'+fn+`">
      `+Pt(un)+`
      <span>`+e+`</span>
    </div>
`,bn=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return'<div class="'+nt+`">
    `+t+`
    <span>`+e+`</span>
  </div>
  <div class=`+Tt+`>
    <label class=`+dn+`>
      <span class=`+_t+`></span>
    </label>
  </div>
`};function At(e){let t=e.type,n=e.key,s=e.name,a=e.icon,p=e.default,$=e.index,m=i.$.create("div."+gn,{"data-key":n});const g={$row:m,$label:void 0};switch(t){case"switcher":m.innerHTML=bn(s,a),m.setAttribute("data-selected",p||!1);break;case"selector":m.innerHTML=vn(s,a),g.$label=m.querySelector('span[role="label"]');break;case"back":m.innerHTML=mn(s);break;default:m.innerHTML=pn(s,a),m.setAttribute("data-selected",p||!1),typeof $=="number"&&m.setAttribute("data-index",$.toString());break}return g}function Ct(e,t,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!n||n.length==0)return;const a=s.key,p=s.target,$=s.parent,m=s.isSelectorOptionsPanel,g=s.name;let d={},x=a||"root";t[0]&&x=="root"?(d=t[0],x=t[0].key):(d.$ref=i.$.create("div."+(t[0]&&m?ln:an),{"data-key":x}),d.key=x,t.push(d)),d.parent=$;const E=d.key=="root";if(!E){const S=At({name:g,type:"back"}),L=S.$row;L.addEventListener("click",()=>{var z;d.$ref.classList.remove(re),(z=d.parent)==null||z.$ref.classList.add(re)}),i.$.render(L,d.$ref)}for(let S=0;S<n.length;S++){const L=n[S],z=L.name,k=L.type,A=L.key,T=L.children,w=L.icon,v=L.default,y=L.onChange,F=At(Object.assign({name:z,type:k,key:A,icon:w,default:v},!E&&m&&{index:S})),M=F.$row,be=F.$label;if(i.$.render(M,d.$ref),i.$.render(d.$ref,p),T){const ge=k=="selector"&&T.every(fe=>!Boolean(fe.type)),N=Ct(e,t,T,{key:A,target:p,parent:d,isSelectorOptionsPanel:ge,name:k=="selector"?z:void 0});if(M.addEventListener("click",()=>{d.$ref.classList.remove(re),N.$ref.classList.add(re)}),ge){const fe=T.find(J=>J.default);fe&&(be.innerText=fe.name),N.select=function(J){var xe;let Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(J==-1){(xe=N.$ref.querySelector("[data-selected=true]"))==null||xe.setAttribute("data-selected","false");return}const it=N.$ref.children[J+1];if(it.getAttribute("data-selected")!="true"){it.setAttribute("data-selected","true"),Xe(it,Mt=>{Mt.hasAttribute("data-selected")&&Mt.setAttribute("data-selected","false")});const Dt=T[J];be.innerText=Dt.name,Ft&&(y==null||y(Dt,{index:J}))}Ft&&(d.$ref.classList.add(re),N.$ref.classList.remove(re))},N.$ref.addEventListener("click",J=>{N.select(+J.target.getAttribute("data-index"))})}}else k=="switcher"&&(M.select=function(){let ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const N=this.getAttribute("data-selected")=="true";this.setAttribute("data-selected",""+!N),ge&&(y==null||y(!N))},M.addEventListener("click",()=>M.select()))}return d}function xn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const s=i.$.create("div."+rn,{"aria-label":"Setting"});let a=[],p=null,$=!1,m=!1;const g={loop:{name:e.locales.get("Loop"),type:"switcher",key:"loop",icon:R.get("loop"),default:e.isLoop,onChange:k=>e.setLoop(k)}};L(n.map(k=>typeof k=="string"?g[k]:k));function d(k){L(Array.isArray(k)?k:[k])}function x(k){var A,T;!m||((T=(A=a[0])==null?void 0:A.$ref.querySelector("[data-key="+k+"]"))==null||T.remove(),a=a.filter(w=>w.key===k?(w.$ref.remove(),w=null,!1):!0))}function E(k,A){if(!m)return;const T=s.querySelector('[data-key="'+k+'"] span[role="label"]');T&&(T.innerText=A)}function S(k,A){var T;let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!!m)if(typeof A=="number")for(let v=0;v<a.length;v++){const y=a[v];if(y.key==k){y.select(A,w);break}}else(T=s.querySelector('[data-key="'+k+'"][data-selected]'))==null||T.select(w)}function L(k){if(!(k.length<1)){if(!m){let A=function(T){p!=T.target&&T.target!=s&&!s.contains(T.target)&&($=!1,e.$root.classList.remove(G),a.forEach(w=>w.$ref.classList.remove(re)))};m=!0,i.$.render(s,t),z(),document.addEventListener("click",A),e.on("destroy",()=>document.removeEventListener("click",A))}Ct(e,a,k,{target:s})}}function z(){var k;const A=(k=t.querySelector("."+K))==null?void 0:k.children[1],T=i.$.create("button",{class:I+" "+B,"aria-label":e.locales.get("Setting")},""+R.get("setting"));A.insertBefore(T,A.children[A.children.length-(e.isPipEnabled?2:1)]),T.addEventListener("click",w=>{p=w.target,$=e.$root.classList.toggle(G),$?a[0].$ref.classList.toggle(re):a.forEach(v=>v.$ref.classList.remove(re))})}return{register:d,unregister:x,updateLabel:E,select:S}}function $n(e){return e.replace(/(\d\d:\d\d:\d\d)[,.](\d+)/g,(t,n,s)=>{let a=s.slice(0,3);return s.length===1&&(a=s+"00"),s.length===2&&(a=s+"0"),n+","+a})}function wn(e){return`WEBVTT \r
\r
`.concat($n(e).replace(/\{\\([ibu])\}/g,"</$1>").replace(/\{\\([ibu])1\}/g,"<$1>").replace(/\{([ibu])\}/g,"<$1>").replace(/\{\/([ibu])\}/g,"</$1>").replace(/(\d\d:\d\d:\d\d),(\d\d\d)/g,"$1.$2").replace(/{[\s\S]*?}/g,"").concat(`\r
\r
`))}function st(e){return URL.createObjectURL(new Blob([e],{type:"text/vtt"}))}function Ot(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split(/[:.]/).map((t,n,s)=>{if(n===s.length-1){if(t.length===1)return"."+t+"00";if(t.length===2)return"."+t+"0"}else if(t.length===1)return(n===0?"0":":0")+t;return n===0?t:n===s.length-1?"."+t:":"+t}).join("")}function yn(e){const t=new RegExp("Dialogue:\\s\\d,(\\d+:\\d\\d:\\d\\d.\\d\\d),(\\d+:\\d\\d:\\d\\d.\\d\\d),([^,]*),([^,]*),(?:[^,]*,){4}([\\s\\S]*)$","i");return`WEBVTT

`+e.split(/\r?\n/).map(n=>{const s=n.match(t);return s?{start:Ot(s[1].trim()),end:Ot(s[2].trim()),text:s[5].replace(/{[\s\S]*?}/g,"").replace(/(\\N)/g,`
`).trim().split(/\r?\n/).map(a=>a.trim()).join(`
`)}:null}).filter(n=>n).map((n,s)=>n?s+1+`
`+n.start+" --> "+n.end+`
`+n.text:"").filter(n=>n.trim()).join(`

`)}const zt="Subtitle";function En(e,t,n,s){return new kn(e,t,n,s)}class kn{constructor(t,n,s,a){if(te(this,"options"),te(this,"$track"),te(this,"$iosTrack"),te(this,"$dom"),te(this,"isShow",!1),te(this,"currentSubtitle"),te(this,"update",p=>{var $,m;const g=this.$dom,x=($=this.player.$video.textTracks[0])==null?void 0:$.activeCues;if(x!=null&&x.length){let E="";for(let S=0;S<x.length;S++){const L=x[S];L&&(E+=(m=L.text)==null?void 0:m.split(/\r?\n/).map(z=>"<p>"+z+"</p>").join(""))}g.innerHTML=E}else g.innerHTML=""}),this.player=t,this.setting=n,this.el=s,!window.TextDecoder){t.emit("notice",{text:t.locales.get("TextDecoder not supported")});return}this.setting=n,this.options=a||{source:[]},this.processDefault(),this.createContainer(),this.initEvents(),this.load(),this.loadSetting()}processDefault(){this.currentSubtitle=Sn(this.options.source)}createContainer(){var t,n;const s=this.el,a=this.options;this.$dom=i.$.create("div."+i.$.css({color:(t=a.color)!=null?t:"#fff",left:"2%",right:"2%","text-align":"center","pointer-events":"none","text-shadow":"1px 0 1px #000, 0 1px 1px #000, -1px 0 1px #000, 0 -1px 1px #000, 1px 1px 1px #000, -1px -1px 1px #000, 1px -1px 1px #000, -1px 1px 1px #000",position:"absolute",bottom:""+((n=a.bottom)!=null?n:"5%"),"line-height":"1.2","font-size":(a.fontSize||(i.tq?14:16))/.12+"%","& > p":{margin:0}})),i.$.render(this.$dom,s)}createTrack(){this.$track=i.$.render(i.$.create("track",{default:!0,kind:"metadata"}),this.player.$video),i.gn&&(this.$iosTrack=i.$.render(i.$.create("track",{default:!1,kind:"captions"}),this.player.$video),this.player.$video.textTracks[1].mode="hidden",this.player.on("fullscreenchange",t=>{t.payload.isWeb||(this.player.isFullScreen?this.isShow&&(this.player.$video.textTracks[1].mode="showing"):this.player.$video.textTracks[1].mode="hidden")}))}initEvents(){this.player.on(["destroy","videosourcechange"],this.destroy.bind(this))}updateSource(t){this.destroy(),this.options.source=t,this.processDefault(),this.loadSetting(),this.load()}load(){!this.currentSubtitle||(this.$track||this.createTrack(),this.loadSubtitle().then(()=>this.show()).catch(t=>{this.player.emit("notice",{text:t.message})}))}destroy(){const t=this.$dom,n=this.$track,s=this.$iosTrack;n==null||n.removeEventListener("cuechange",this.update),t.innerHTML="",this.setting.unregister(zt),n!=null&&n.src&&URL.revokeObjectURL(n.src),s!=null&&s.src&&URL.revokeObjectURL(s.src),n==null||n.remove(),s==null||s.remove(),this.$track=void 0,this.$iosTrack=void 0}show(){this.isShow=!0,this.$track.addEventListener("cuechange",this.update)}hide(){const t=this.$track,n=this.$dom;this.isShow=!1,n.innerHTML="",t.removeEventListener("cuechange",this.update)}loadSubtitle(){const t=this.currentSubtitle,n=this.player,s=this.$track,a=this.$iosTrack,p=t.src,$=t.encoding,m=t.type;return fetch(p).then(g=>g.arrayBuffer()).then(g=>{const x=new TextDecoder($).decode(g);switch(m==null||m=="auto"?new URL(p).pathname.split(".")[1]:m){case"srt":return st(wn(x));case"ass":return st(yn(x));case"vtt":return st(x);default:return p}}).then(g=>{s!=null&&s.src&&URL.revokeObjectURL(s.src),s.src=g,a&&(a.src&&URL.revokeObjectURL(a.src),a.src=g)}).catch(g=>{n.emit("notice",{text:"Subtitle"+g.message})})}loadSetting(){const t=this.options.source;t.length&&this.setting.register({name:this.player.locales.get("Subtitle"),type:"selector",icon:R.get("subtitle"),key:zt,onChange:n=>{let s=n.value;s?(this.currentSubtitle=s,this.load()):this.hide()},children:[{name:this.player.locales.get("OFF"),default:!this.currentSubtitle}].concat(t==null?void 0:t.map(n=>{var s;return{name:n.name,default:((s=this.currentSubtitle)==null?void 0:s.src)==n.src,value:n}}))})}}function Sn(e){return e.find(t=>t.default)}const Ln=(e,t)=>{if(e.isNativeUI){wt(e,e.$root);return}const n=R.setupIcons(e,t.icons),s=i.$.create("div."+W(t.theme));ht(e,t,s);const a=Yt(e,s,t),p=on(e,s);Zt(e,s),wt(e,s);const $=Nt(e,s,t),m=$.exp,g=$.toggle;en(e,s,g);const d=xn(e,s,t.settings),x=tn(e,s,t.menu);Ge(e,t.speed,d);const E=En(e,d,s,t.subtitle);return i.$.render(s,e.$root),i.tq||vt(e),Object.assign({icons:n,error:a,notice:p,setting:d,menu:x,subtitle:E},m)},_n={theme:{primaryColor:"#6668ab"},hotkey:!0,speed:["2.0","1.75","1.25","1.0","0.75","0.5"],fullscreen:!0,pictureInPicture:!0,miniProgressBar:!0,settings:["loop"]},Tn=e=>({name:"oplayer-theme-ui",key:"ui",apply:t=>Ln(t,Object.assign(_n,e))})}}]);
