(self.webpackChunk_web_index=self.webpackChunk_web_index||[]).push([[865],{4013:(b,S,d)=>{"use strict";d.d(S,{A:()=>m});var i=d(6048),D=d(7403),E=d(7006),N=d.n(E);const L={};var u=Object.defineProperty,v=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,A=(y,o,f)=>o in y?u(y,o,{enumerable:!0,configurable:!0,writable:!0,value:f}):y[o]=f,l=(y,o)=>{for(var f in o||(o={}))C.call(o,f)&&A(y,f,o[f]);if(v)for(var f of v(o))j.call(o,f)&&A(y,f,o[f]);return y};function m({title:y,icon:o,videos:f,asideTitle:g,aside:s,moreUrl:c,isLive:F}){return(0,i.jsxs)("div",{className:N()("upv-grid",{"col-2":g,"is-live":F}),children:[(0,i.jsxs)("div",{className:"upv-card-list",children:[(0,i.jsxs)("div",{className:"list-header",children:[(0,i.jsxs)("div",{children:[o&&(0,i.jsx)("img",{src:o,alt:y}),(0,i.jsx)("h2",{children:y})]}),c&&f&&f.length>0&&(0,i.jsxs)("a",{className:"list-header__more",href:c,target:"_blank",children:["more",(0,i.jsxs)("svg",{width:"10",height:"10",viewBox:"0 0 9 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"channel-entry-more__link--arrow",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.50588 3.40623C7.40825 3.3086 7.24996 3.3086 7.15232 3.40623L4.41244 6.14612L1.67255 3.40623C1.57491 3.3086 1.41662 3.3086 1.31899 3.40623C1.22136 3.50386 1.22136 3.66215 1.31899 3.75978L4.11781 6.5586C4.28053 6.72132 4.54434 6.72132 4.70706 6.5586L7.50588 3.75978C7.60351 3.66215 7.60351 3.50386 7.50588 3.40623Z",fill:"currentColor"}),(0,i.jsx)("path",{d:"M7.15232 3.40623L7.50588 3.75978L7.50588 3.75978L7.15232 3.40623ZM7.50588 3.40623L7.15232 3.75978L7.15233 3.75978L7.50588 3.40623ZM4.41244 6.14612L4.05888 6.49967C4.15265 6.59344 4.27983 6.64612 4.41244 6.64612C4.54504 6.64612 4.67222 6.59344 4.76599 6.49967L4.41244 6.14612ZM1.67255 3.40623L2.0261 3.05268L2.0261 3.05268L1.67255 3.40623ZM1.31899 3.40623L0.965439 3.05268L0.965439 3.05268L1.31899 3.40623ZM1.31899 3.75978L1.67255 3.40623V3.40623L1.31899 3.75978ZM4.11781 6.5586L3.76425 6.91215L4.11781 6.5586ZM4.70706 6.5586L4.35351 6.20505L4.70706 6.5586ZM7.50588 3.75978L7.15233 3.40623L7.15232 3.40623L7.50588 3.75978ZM7.50588 3.75978C7.40825 3.85742 7.24996 3.85742 7.15232 3.75978L7.85943 3.05268C7.56654 2.75978 7.09166 2.75978 6.79877 3.05268L7.50588 3.75978ZM4.76599 6.49967L7.50588 3.75978L6.79877 3.05268L4.05888 5.79257L4.76599 6.49967ZM1.31899 3.75978L4.05888 6.49967L4.76599 5.79257L2.0261 3.05268L1.31899 3.75978ZM1.67254 3.75979C1.57491 3.85742 1.41662 3.85742 1.31899 3.75979L2.0261 3.05268C1.73321 2.75978 1.25833 2.75978 0.965439 3.05268L1.67254 3.75979ZM1.67255 3.40623C1.77018 3.50386 1.77018 3.66215 1.67255 3.75978L0.965439 3.05268C0.672546 3.34557 0.672546 3.82044 0.965439 4.11334L1.67255 3.40623ZM4.47136 6.20505L1.67255 3.40623L0.965439 4.11334L3.76425 6.91215L4.47136 6.20505ZM4.35351 6.20505C4.38605 6.1725 4.43882 6.1725 4.47136 6.20505L3.76425 6.91215C4.12223 7.27013 4.70264 7.27013 5.06062 6.91215L4.35351 6.20505ZM7.15232 3.40623L4.35351 6.20505L5.06062 6.91215L7.85943 4.11334L7.15232 3.40623ZM7.15233 3.75978C7.05469 3.66215 7.05469 3.50386 7.15233 3.40623L7.85943 4.11334C8.15233 3.82045 8.15233 3.34557 7.85943 3.05268L7.15233 3.75978Z",fill:"currentColor"})]})]})]}),(0,i.jsx)("div",{className:"list-body",children:f?f.length>0?f.map((w,_)=>F?(0,i.jsx)(D.x,l({},w),_):(0,i.jsx)(D.A,{info:w},_)):(0,i.jsx)("div",{className:"empty",children:"No Data"}):(0,i.jsx)("span",{className:"loading empty",children:"loading\xB7\xB7\xB7"})})]}),!!g&&(0,i.jsxs)("aside",{children:[(0,i.jsx)("div",{className:"aside-header",children:(0,i.jsx)("div",{className:"aside-title",children:g})}),(0,i.jsx)("div",{className:"aside-body",children:s})]})]})}},7403:(b,S,d)=>{"use strict";d.d(S,{x:()=>y,A:()=>m});var i=d(6048);const D={};var E=d(8588),N=d(1888),L=d(3259),u=d(7006),v=d.n(u),C=d(5159);const j=6;let A;const l="loading"in HTMLImageElement.prototype;l||(A=new IntersectionObserver(o=>{o.forEach(f=>{if(f.isIntersecting){const g=f.target;A.unobserve(g);const s=g.querySelector("img");s.src=s.dataset.src,s.onload=()=>{g.querySelector(".upv-video-card__loading").classList.add("upv-video-card__loading--hidden")},s.onerror=()=>{g.querySelector(".upv-video-card__error").classList.add("upv-video-card__error--show")}}})},{threshold:[.15]}));function m({info:o}){var f;const g=o.Type==="video"?`/v/${o.ID}`:`/p/${o.ID}`,s=(0,E.useRef)(null);return(0,E.useEffect)(()=>{var c;if(A&&((c=s.current)!=null&&c.dataset.cover))return A.observe(s.current),()=>{s.current&&(A.unobserve(s.current),s.current.querySelector(".upv-video-card__loading").classList.remove("upv-video-card__loading--hidden"),s.current.querySelector(".upv-video-card__error").classList.remove("upv-video-card__error--show"))}},[s,o]),(0,i.jsxs)("div",{className:"upv-video-card",children:[(0,i.jsx)(C.N_,{href:g,children:(0,i.jsx)("div",{ref:s,"data-cover":o.Cover,title:o.Title,children:(0,i.jsxs)(N.A,{ratio:3/4,children:[o.Cover&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("img",{loading:"lazy",className:"upv-video-card__image",alt:o.Title,title:o.Title,"data-src":o.Cover,src:l?o.Cover:void 0}),!l&&[(0,i.jsx)("div",{className:"upv-video-card__loading",children:"LOADING"}),(0,i.jsx)("div",{className:"upv-video-card__error",children:"ERROR"})]]}),(0,i.jsx)("div",{className:v()("upv-video-card__nocover",{"upv-video-card__nocover--show":!o.Cover}),children:(0,i.jsx)("span",{className:v()({large:o.Title.length<=4}),children:o.Title.slice(0,j)})})]})})}),(0,i.jsxs)("div",{className:"upv-video-card__content",children:[(0,i.jsx)("div",{className:"upv-video-card__content__title",children:o.Title}),(0,i.jsxs)("div",{className:"upv-video-card__content__author",children:[(0,i.jsx)("span",{children:((f=o.Creator)==null?void 0:f.Nickname)||"-"})," \xB7 ",(0,i.jsx)("span",{children:(0,L.D$)(o.CreatedAt)})]})]})]})}function y({id:o,level:f,name:g,qq:s,sign:c}){return(0,i.jsx)("a",{href:`/v/${o}?live`,children:(0,i.jsxs)("div",{className:"live-card",style:{display:"flex"},children:[(0,i.jsx)("div",{className:"live-avatar",children:(0,i.jsx)("img",{src:`https://q1.qlogo.cn/g?b=qq&nk=${s}&s=640`,alt:"name"})}),(0,i.jsxs)("div",{className:"live-info",children:[(0,i.jsxs)("span",{children:[c," ",(0,i.jsx)("sup",{children:f})]}),(0,i.jsx)("span",{children:g})]})]})})}},5963:(b,S,d)=>{"use strict";d.d(S,{gL:()=>o,ho:()=>g});var i=Object.defineProperty,D=Object.defineProperties,E=Object.getOwnPropertyDescriptors,N=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,v=(s,c,F)=>c in s?i(s,c,{enumerable:!0,configurable:!0,writable:!0,value:F}):s[c]=F,C=(s,c)=>{for(var F in c||(c={}))L.call(c,F)&&v(s,F,c[F]);if(N)for(var F of N(c))u.call(c,F)&&v(s,F,c[F]);return s},j=(s,c)=>D(s,E(c));const A=s=>{var c,F,w,_,I,M;return s.anime||(s.anime=s),j(C({},s),{enime:!0,adp:!0,ID:(c=s.anime)==null?void 0:c.slug,Cover:((F=s.anime)==null?void 0:F.coverImage)||"",Title:((w=s.anime)==null?void 0:w.title.native)||"",Content:s.description||"",Tags:"\u5176\u4ED6",Type:"video",CreatedAt:s.createdAt,UpdatedAt:s.updatedAt,Meta:{TitleJapanese:"",TitleRomanji:"",Genre:(_=s.genre)==null?void 0:_.toString(),Region:"enime",Episodes:13,IsEnd:2,PublishDate:"2015-01-01T08:00:00+08:00",UpdatedDate:null},Creator:{ID:1,Name:"enime.moe",Nickname:"enime",Avatar:"https://q1.qlogo.cn/g?b=qq&nk=7619376472&s=640",Bio:"\u8FD9\u4E2A\u4EBA\u5F88\u9177\uFF0C\u4EC0\u4E48\u90FD\u6CA1\u6709\u7559\u4E0B"},episodes:(M=(I=s.anime)==null?void 0:I.episodes)==null?void 0:M.map(x=>{var O;return{ID:x.id,Episode:x.number,Cover:x.image,Title:x.title,TitleJapanese:"",TitleRomanji:"",VideoUrl:"",Synopsis:"",Uid:1,Pid:(O=s.anime)==null?void 0:O.slug,CreatedAt:x.airedAt||x.createdAt,UpdatedAt:x.updatedAt}})})},l=(s=[])=>s.map(A),m=(s=[])=>s.map(c=>{var F;return j(C({},c),{enime:!0,ID:c==null?void 0:c.slug,Cover:(c==null?void 0:c.coverImage)||"",Title:(c==null?void 0:c.title.native)||"",Content:c.description||"",Tags:"\u5176\u4ED6",Type:"video",CreatedAt:c.createdAt,UpdatedAt:c.updatedAt,Meta:{TitleJapanese:"",TitleRomanji:"",Genre:(F=c.genre)==null?void 0:F.toString(),Region:"enime",Episodes:13,IsEnd:2,PublishDate:"2015-01-01T08:00:00+08:00",UpdatedDate:null},Creator:{ID:1,Name:"enime.moe",Nickname:"enime",Avatar:"https://q1.qlogo.cn/g?b=qq&nk=7619376472&s=640",Bio:"\u8FD9\u4E2A\u4EBA\u5F88\u9177\uFF0C\u4EC0\u4E48\u90FD\u6CA1\u6709\u7559\u4E0B"}})});function y(s){if(!s)return"https://ae01.alicdn.com/kf/U6751d35799cc4d06965aa7b1879e0fc6i.jpg";let c=s.match(/suo(.+?)\)/i);return c?c[1].slice(2):"https://cdn-us.imgs.moe/2023/02/27/63fcb180cbb30.jpg"}const o=s=>s?j(C({},s),{adp:!0,clicli:!0,ID:s.id,Cover:y(s.content),Title:s.title,Content:s.content,Tags:s.tag,Type:"video",CreatedAt:s.time,UpdatedAt:s.time,Meta:{TitleJapanese:"",TitleRomanji:"",Genre:s.sort,Region:"clicli",Episodes:s.content.split(`
`).length,IsEnd:2,PublishDate:s.time,UpdatedDate:null},Creator:{ID:1,Name:"YUESE",Nickname:"YUESE",Avatar:"https://q1.qlogo.cn/g?b=qq&nk=7619376472&s=640",Bio:"\u8FD9\u4E2A\u4EBA\u5F88\u9177\uFF0C\u4EC0\u4E48\u90FD\u6CA1\u6709\u7559\u4E0B"},episodes:s.content.split(`
`).map(c=>({ID:c.split("$")[0],Episode:c.split("$")[0],Cover:y(s.content),Title:c.split("$")[0],TitleJapanese:"",TitleRomanji:"",VideoUrl:"",Synopsis:"",Uid:1,Pid:s.id,CreatedAt:s.time,UpdatedAt:s.time}))}):{},f=[3421,786,3880],g=(s=[])=>s.filter(c=>!f.includes(c.id)).map(o)},3865:(b,S,d)=>{"use strict";d.r(S),d.d(S,{default:()=>A});var i=d(6048),D=d(8588),E=d(731),N=d(4013),L=d(5963),u=d(1242),v=d(5159);const C={};var j=d(1466);function A(){const l=(0,D.useRef)(""),[m,y]=(0,D.useState)(),[,o]=(0,v.zy)(),{page:f,k:g}=u.A.parse((0,v.SQ)()),s=c=>{const F=Object.assign({},u.A.parse(window.location.search),{page:c});o(`/search?${u.A.stringify(F)}`),root.scrollTop=0};return(0,D.useEffect)(()=>{g&&(y(null),l.current=g,j.OF.get(`https://www.clicli.cc/search/posts?key=${encodeURIComponent(g)}`).then(c=>y((0,L.ho)(c.posts||null))).catch(c=>{y([]),console.log(c)}))},[g,f]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(E.m,{children:(0,i.jsx)("title",{children:g?`${g} - \u641C\u7D22 - UPV - free animes no ads`:"\u641C\u7D22 - UPV - free animes no ads"})}),(0,i.jsxs)("div",{className:"search",children:[(0,i.jsx)("div",{className:"search-header",children:(0,i.jsx)("form",{onSubmit:c=>{c.preventDefault();const F=Object.assign({},u.A.parse(window.location.search),{k:l.current,page:1});o(`/search?${u.A.stringify(F)}`)},children:(0,i.jsxs)("div",{className:"search-wrap",children:[(0,i.jsx)("div",{className:"search-action",children:(0,i.jsx)("div",{className:"control",children:(0,i.jsx)("input",{id:"search-input",className:"input",maxLength:100,autoComplete:"off",defaultValue:g,onChange:c=>l.current=c.target.value,type:"text",placeholder:"Type to search"})})}),(0,i.jsx)("button",{className:"button is-primary",children:"search"})]})})}),(0,i.jsxs)("div",{className:"search-body",children:[(0,i.jsx)(N.A,{title:"Result",videos:m}),(0,i.jsxs)("div",{className:"paginate-container field has-addons",style:{justifyContent:"center",paddingBottom:"28px"},children:[(0,i.jsx)("p",{className:"control",children:(0,i.jsx)("button",{className:"button",onClick:()=>s(+f-1),disabled:+f<=1,children:(0,i.jsx)("span",{children:"Newer"})})}),(0,i.jsx)("p",{className:"control",children:(0,i.jsx)("button",{className:"button is-outlined",disabled:!m||m&&((m==null?void 0:m.length)<1||(m==null?void 0:m.length)<12),onClick:()=>s(+f+1),children:(0,i.jsx)("span",{className:"is-primary",children:"Older"})})})]})]})]})]})}},1888:(b,S,d)=>{"use strict";d.d(S,{A:()=>N});const i={};var D=d(8588);const N=L=>{const{children:u,ratio:v,mw:C}=L;return D.createElement("div",{className:"aspect-ratio",style:{width:typeof C=="string"?C:`${C}px`}},D.createElement("div",{className:"aspect-ratio__fill",style:{paddingTop:`${1/v*100}%`}},u))}},3259:(b,S,d)=>{"use strict";d.d(S,{D$:()=>i,Yq:()=>E});function i(j){const A=new Date,l=typeof j=="string"?new Date(j):new Date(j),m=(A.getTime()-l.getTime())/1e3;return m<30?"\u521A\u521A":m<3600?Math.ceil(m/60)+"\u5206\u949F\u524D":m<3600*24?Math.ceil(m/3600)+"\u5C0F\u65F6\u524D":m<3600*24*2?"1\u5929\u524D":m<3600*24*31?Math.ceil(m/3600/24)+"\u5929\u524D":A.getFullYear()===l.getFullYear()?`${l.getMonth()+1}\u6708${l.getDate()}\u65E5`:`${l.getFullYear()}\u5E74${l.getMonth()+1}\u6708${l.getDate()}\u65E5`}function D(j){const A=new Date,l=typeof j=="string"?new Date(j):new Date(j),m=(A.getTime()-l.getTime())/1e3;return m<3600*24?"\u4ECA\u5929":m<3600*24*2?"\u6628\u5929":m<3600*24*31?Math.ceil(m/3600/24)+"\u5929\u524D":A.getFullYear()===l.getFullYear()?`${l.getMonth()+1}\u6708${l.getDate()}\u65E5`:`${l.getFullYear()}\u5E74${l.getMonth()+1}\u6708${l.getDate()}\u65E5`}function E(j,A=!1){const l=typeof j=="string"?new Date(j):new Date(j);return new Date().getFullYear()===l.getFullYear()?`${l.getMonth()+1}\u6708${l.getDate()}\u65E5 ${A?` ${l.getHours()}:${l.getMinutes().toString().padStart(2,"0")}`:""}`:`${l.getFullYear()}\u5E74${l.getMonth()+1}\u6708${l.getDate()}\u65E5 ${A?` ${l.getHours()}:${l.getMinutes().toString().padStart(2,"0")}`:""}`}const N=1,L=2,u=3,v=4;function C(j,A=3){if(!j)return"";const l=new Date(j),m=l.getFullYear(),y=`${`0${l.getMonth()+1}`.slice(-2)}`,o=`${`0${l.getDate()}`.slice(-2)}`,f=`${`0${l.getHours()}`.slice(-2)}`,g=`${`0${l.getMinutes()}`.slice(-2)}`,s=`${`0${l.getSeconds()}`.slice(-2)}`;switch(A){case N:return`${m}-${y}-${o}`;case L:return`${y}-${o} ${f}:${g}`;case v:return`${m}-${y}-${o} ${f}:${g}:${s}`;case u:return`${m}-${y}-${o} ${f}:${g}`;default:return`${m}-${y}-${o} ${f}:${g}`}}},7006:(b,S)=>{var d,i;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(){"use strict";var D={}.hasOwnProperty;function E(){for(var u="",v=0;v<arguments.length;v++){var C=arguments[v];C&&(u=L(u,N(C)))}return u}function N(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return E.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var v="";for(var C in u)D.call(u,C)&&u[C]&&(v=L(v,C));return v}function L(u,v){return v?u?u+" "+v:u+v:u}b.exports?(E.default=E,b.exports=E):(d=[],i=function(){return E}.apply(S,d),i!==void 0&&(b.exports=i))})()},1242:(b,S,d)=>{"use strict";d.d(S,{A:()=>K});var i={};d.r(i),d.d(i,{exclude:()=>G,extract:()=>T,parse:()=>P,parseUrl:()=>Z,pick:()=>H,stringify:()=>B,stringifyUrl:()=>V});const D="%[a-f0-9]{2}",E=new RegExp("("+D+")|([^%]+?)","gi"),N=new RegExp("("+D+")+","gi");function L(e,r){try{return[decodeURIComponent(e.join(""))]}catch(a){}if(e.length===1)return e;r=r||1;const t=e.slice(0,r),n=e.slice(r);return Array.prototype.concat.call([],L(t),L(n))}function u(e){try{return decodeURIComponent(e)}catch(r){let t=e.match(E)||[];for(let n=1;n<t.length;n++)e=L(t,n).join(""),t=e.match(E)||[];return e}}function v(e){const r={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"};let t=N.exec(e);for(;t;){try{r[t[0]]=decodeURIComponent(t[0])}catch(a){const p=u(t[0]);p!==t[0]&&(r[t[0]]=p)}t=N.exec(e)}r["%C2"]="\uFFFD";const n=Object.keys(r);for(const a of n)e=e.replace(new RegExp(a,"g"),r[a]);return e}function C(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch(r){return v(e)}}function j(e,r){if(!(typeof e=="string"&&typeof r=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e===""||r==="")return[];const t=e.indexOf(r);return t===-1?[]:[e.slice(0,t),e.slice(t+r.length)]}function A(e,r){const t={};if(Array.isArray(r))for(const n of r){const a=Object.getOwnPropertyDescriptor(e,n);a!=null&&a.enumerable&&Object.defineProperty(t,n,a)}else for(const n of Reflect.ownKeys(e)){const a=Object.getOwnPropertyDescriptor(e,n);if(a.enumerable){const p=e[n];r(n,p,e)&&Object.defineProperty(t,n,a)}}return t}function l(e,r){if(Array.isArray(r)){const t=new Set(r);return A(e,n=>!t.has(n))}return A(e,(t,n,a)=>!r(t,n,a))}var m=Object.defineProperty,y=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,g=(e,r,t)=>r in e?m(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,s=(e,r)=>{for(var t in r||(r={}))o.call(r,t)&&g(e,t,r[t]);if(y)for(var t of y(r))f.call(r,t)&&g(e,t,r[t]);return e};const c=e=>e==null,F=e=>encodeURIComponent(e).replaceAll(/[!'()*]/g,r=>`%${r.charCodeAt(0).toString(16).toUpperCase()}`),w=Symbol("encodeFragmentIdentifier");function _(e){switch(e.arrayFormat){case"index":return r=>(t,n)=>{const a=t.length;return n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?t:n===null?[...t,[x(r,e),"[",a,"]"].join("")]:[...t,[x(r,e),"[",x(a,e),"]=",x(n,e)].join("")]};case"bracket":return r=>(t,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?t:n===null?[...t,[x(r,e),"[]"].join("")]:[...t,[x(r,e),"[]=",x(n,e)].join("")];case"colon-list-separator":return r=>(t,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?t:n===null?[...t,[x(r,e),":list="].join("")]:[...t,[x(r,e),":list=",x(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{const r=e.arrayFormat==="bracket-separator"?"[]=":"=";return t=>(n,a)=>a===void 0||e.skipNull&&a===null||e.skipEmptyString&&a===""?n:(a=a===null?"":a,n.length===0?[[x(t,e),r,x(a,e)].join("")]:[[n,x(a,e)].join(e.arrayFormatSeparator)])}default:return r=>(t,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?t:n===null?[...t,x(r,e)]:[...t,[x(r,e),"=",x(n,e)].join("")]}}function I(e){let r;switch(e.arrayFormat){case"index":return(t,n,a)=>{if(r=/\[(\d*)]$/.exec(t),t=t.replace(/\[\d*]$/,""),!r){a[t]=n;return}a[t]===void 0&&(a[t]={}),a[t][r[1]]=n};case"bracket":return(t,n,a)=>{if(r=/(\[])$/.exec(t),t=t.replace(/\[]$/,""),!r){a[t]=n;return}if(a[t]===void 0){a[t]=[n];return}a[t]=[...a[t],n]};case"colon-list-separator":return(t,n,a)=>{if(r=/(:list)$/.exec(t),t=t.replace(/:list$/,""),!r){a[t]=n;return}if(a[t]===void 0){a[t]=[n];return}a[t]=[...a[t],n]};case"comma":case"separator":return(t,n,a)=>{const p=typeof n=="string"&&n.includes(e.arrayFormatSeparator),h=typeof n=="string"&&!p&&O(n,e).includes(e.arrayFormatSeparator);n=h?O(n,e):n;const $=p||h?n.split(e.arrayFormatSeparator).map(J=>O(J,e)):n===null?n:O(n,e);a[t]=$};case"bracket-separator":return(t,n,a)=>{const p=/(\[])$/.test(t);if(t=t.replace(/\[]$/,""),!p){a[t]=n&&O(n,e);return}const h=n===null?[]:n.split(e.arrayFormatSeparator).map($=>O($,e));if(a[t]===void 0){a[t]=h;return}a[t]=[...a[t],...h]};default:return(t,n,a)=>{if(a[t]===void 0){a[t]=n;return}a[t]=[...[a[t]].flat(),n]}}}function M(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function x(e,r){return r.encode?r.strict?F(e):encodeURIComponent(e):e}function O(e,r){return r.decode?C(e):e}function R(e){return Array.isArray(e)?e.sort():typeof e=="object"?R(Object.keys(e)).sort((r,t)=>Number(r)-Number(t)).map(r=>e[r]):e}function U(e){const r=e.indexOf("#");return r!==-1&&(e=e.slice(0,r)),e}function q(e){let r="";const t=e.indexOf("#");return t!==-1&&(r=e.slice(t)),r}function Y(e,r){return r.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?e=Number(e):r.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")&&(e=e.toLowerCase()==="true"),e}function T(e){e=U(e);const r=e.indexOf("?");return r===-1?"":e.slice(r+1)}function P(e,r){r=s({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},r),M(r.arrayFormatSeparator);const t=I(r),n=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return n;for(const a of e.split("&")){if(a==="")continue;const p=r.decode?a.replaceAll("+"," "):a;let[h,$]=j(p,"=");h===void 0&&(h=p),$=$===void 0?null:["comma","separator","bracket-separator"].includes(r.arrayFormat)?$:O($,r),t(O(h,r),$,n)}for(const[a,p]of Object.entries(n))if(typeof p=="object"&&p!==null)for(const[h,$]of Object.entries(p))p[h]=Y($,r);else n[a]=Y(p,r);return r.sort===!1?n:(r.sort===!0?Object.keys(n).sort():Object.keys(n).sort(r.sort)).reduce((a,p)=>{const h=n[p];return a[p]=h&&typeof h=="object"&&!Array.isArray(h)?R(h):h,a},Object.create(null))}function B(e,r){if(!e)return"";r=s({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},r),M(r.arrayFormatSeparator);const t=h=>r.skipNull&&c(e[h])||r.skipEmptyString&&e[h]==="",n=_(r),a={};for(const[h,$]of Object.entries(e))t(h)||(a[h]=$);const p=Object.keys(a);return r.sort!==!1&&p.sort(r.sort),p.map(h=>{const $=e[h];return $===void 0?"":$===null?x(h,r):Array.isArray($)?$.length===0&&r.arrayFormat==="bracket-separator"?x(h,r)+"[]":$.reduce(n(h),[]).join("&"):x(h,r)+"="+x($,r)}).filter(h=>h.length>0).join("&")}function Z(e,r){var t,n;r=s({decode:!0},r);let[a,p]=j(e,"#");return a===void 0&&(a=e),s({url:(n=(t=a==null?void 0:a.split("?"))==null?void 0:t[0])!=null?n:"",query:P(T(e),r)},r&&r.parseFragmentIdentifier&&p?{fragmentIdentifier:O(p,r)}:{})}function V(e,r){r=s({encode:!0,strict:!0,[w]:!0},r);const t=U(e.url).split("?")[0]||"",n=T(e.url),a=s(s({},P(n,{sort:!1})),e.query);let p=B(a,r);p&&(p=`?${p}`);let h=q(e.url);if(typeof e.fragmentIdentifier=="string"){const $=new URL(t);$.hash=e.fragmentIdentifier,h=r[w]?$.hash:`#${e.fragmentIdentifier}`}return`${t}${p}${h}`}function H(e,r,t){t=s({parseFragmentIdentifier:!0,[w]:!1},t);const{url:n,query:a,fragmentIdentifier:p}=Z(e,t);return V({url:n,query:A(a,r),fragmentIdentifier:p},t)}function G(e,r,t){const n=Array.isArray(r)?a=>!r.includes(a):(a,p)=>!r(a,p);return H(e,n,t)}const K=i}}]);
