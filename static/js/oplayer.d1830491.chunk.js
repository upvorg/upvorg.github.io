"use strict";(self.webpackChunk_web_index=self.webpackChunk_web_index||[]).push([[193],{3162:function(lt,_e,ce){ce.d(_e,{$:function(){return Ae},ZP:function(){return Ee},gn:function(){return we},tq:function(){return He}});var i=(l,o,u)=>new Promise((d,r)=>{var f=_=>{try{x(u.next(_))}catch(L){r(L)}},h=_=>{try{x(u.throw(_))}catch(L){r(L)}},x=_=>_.done?d(_.value):Promise.resolve(_.value).then(f,h);x((u=u.apply(l,o)).next())}),q=(l,o,u)=>(o=l[Symbol.asyncIterator],u=(d,r)=>(r=l[d])&&(o[d]=f=>new Promise((h,x,_)=>(f=r.call(l,f),_=f.done,Promise.resolve(f.value).then(L=>h({value:L,done:_}),x)))),o?o.call(l):(l=l[Symbol.iterator](),o={},u("next"),u("return"),o)),Le=Object.defineProperty,ne=(l,o,u)=>o in l?Le(l,o,{enumerable:!0,configurable:!0,writable:!0,value:u}):l[o]=u,k=(l,o,u)=>(ne(l,typeof o!="symbol"?o+"":o,u),u),me,be,V,ee,X,N,Q,Z;function W(l){return se(l).toString(36)}function se(l){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=1540483477,d=24,r=o^l.length,f=l.length,h=0;for(;f>=4;){let x=ue(l,h);x=z(x,u),x^=x>>>d,x=z(x,u),r=z(r,u),r^=x,h+=4,f-=4}switch(f){case 3:r^=R(l,h),r^=l.charCodeAt(h+2)<<16,r=z(r,u);break;case 2:r^=R(l,h),r=z(r,u);break;case 1:r^=l.charCodeAt(h),r=z(r,u);break}return r^=r>>>13,r=z(r,u),r^=r>>>15,r>>>0}function ue(l,o){return l.charCodeAt(o++)+(l.charCodeAt(o++)<<8)+(l.charCodeAt(o++)<<16)+(l.charCodeAt(o)<<24)}function R(l,o){return l.charCodeAt(o++)+(l.charCodeAt(o++)<<8)}function z(l,o){l=l|0,o=o|0;let u=l&65535,d=l>>>16;return u*o+((d*o&65535)<<16)|0}function A(l){return Boolean(l&&typeof l=="object"&&!Array.isArray(l))}function Y(l){for(var o=arguments.length,u=new Array(o>1?o-1:0),d=1;d<o;d++)u[d-1]=arguments[d];if(!u.length)return l;const r=u.shift();if(A(l)&&A(r))for(const f in r)A(r[f])?(l[f]||Object.assign(l,{[f]:{}}),Y(l[f],r[f])):Object.assign(l,{[f]:r[f]});return Y.apply(void 0,[l].concat(u))}function pe(l){let o=[":",".","[",">"," "],u=!1,d=l.charAt(0);for(let r=0;r<o.length;r++)if(d===o[r]){u=!0;break}return u||l.indexOf("&")>=0}var P=/[(),]|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g;function U(l){if(l.indexOf(",")===-1)return[l];for(var o=[],u=[],d=0,r;r=P.exec(l);)switch(r[0]){case"(":d++;break;case")":d--;break;case",":if(d)break;o.push(r.index)}for(r=o.length;r--;)u.unshift(l.slice(o[r]+1)),l=l.slice(0,o[r]);return u.unshift(l),u}function de(l,o){let u=U(l);return U(o).map(r=>r.indexOf("&")>=0?r:"&"+r).reduce((r,f)=>r.concat(u.map(h=>f.replace(/\&/g,h))),[]).join(",")}function Ce(l,o){return l?"@media "+l.substring(6)+" and "+o.substring(6):o}function Te(l){return l.indexOf("@media")===0}function Ie(l){return l.indexOf("@keyframes")===0}function ct(l){return l.indexOf("@global")===0}function De(l,o){var u;let d=o.rules,r=o.mediaQuery,f=o.globalSelector,h={};return f&&(l=f),(u=Object.keys(d))==null||u.forEach(x=>{var _,L,G,ie;if(ct(x)){const I=x;x=x.substring(8);const K=x.indexOf("&");let j;K!=-1?(j=de(l,x),f=x.substring(0,K-1).trim()):j=x,Y(h,De(j,{mediaQuery:r,rules:d[I],globalSelector:j}))}else pe(x)?Y(h,De(de(l,x),{rules:d[x],mediaQuery:r})):Te(x)?Y(h,De(l,{mediaQuery:Ce(r,x),rules:d[x]})):r?((_=h[r])!=null||(h[r]={}),(G=(L=h[r])[l])!=null||(L[l]={}),h[r][l][x]=d[x]):Ie(x)?h[x]=d[x]:((ie=h[l])!=null||(h[l]={}),h[l][x]=d[x])}),h}function qe(l){let o=[];for(const u in l)if(Object.hasOwnProperty.call(l,u)){const d=l[u];A(d)?o.push(u+"{"+qe(d)+"}"):o.push(u+":"+d)}return/^\d%/.test(o[0])?o.join(" "):o.join(";")}function je(l){let o=[];for(const u in l)if(Object.hasOwnProperty.call(l,u)){const d=l[u];if(Te(u))o.push(u+"{"+je(d)+"}");else if(Ie(u))o.push(u+"{"+qe(d)+"}");else{const r=Object.entries(d).map(f=>{let h=f[0],x=f[1];return h+":"+x}).join(";");o.push(u+"{"+r+"}")}}return o}function ut(l,o){return je(De(o,{rules:l}))}var Ae;(l=>{l.create=function(r){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";const x=r.indexOf("#")!==-1,_=r.indexOf(".")!==-1,L=x?r.split("#"):_?r.split("."):[r],G=L[0],ie=L[1],I=document.createElement(G);return x&&(I.id=ie),_&&I.classList.add(ie),h&&(I.innerHTML=h),Object.keys(f).forEach(K=>{const j=f[K];(G==="video"||G==="audio")&&typeof j=="boolean"?j&&I.setAttribute(K,""):typeof j!="undefined"&&I.setAttribute(K,""+j)}),I},l.render=(r,f)=>f.appendChild(r),l.isBrowser=()=>Boolean(typeof globalThis!="undefined"&&globalThis.document&&globalThis.document.documentElement);function o(r){if(!l.isBrowser())return null;let f=document.createElement("style");f.setAttribute("data-"+r,""),f.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(f);for(let h=0;h<document.styleSheets.length;h++)if(document.styleSheets[h].ownerNode===f)return document.styleSheets.item(h);return null}l.createSheet=o;const u=(()=>{const r=Object.create({});return f=>{const h=typeof f=="object"?JSON.stringify(f):f;return r[h]||(r[h]="css-"+W(h)),r[h]}})();l.createCss=r=>{let f=r.sheet,h=r.ssrData;return function(){for(var x,_=arguments.length,L=new Array(_),G=0;G<_;G++)L[G]=arguments[G];const ie=Boolean(L[0]&&L[0].length&&L[0].raw);let I="";if(ie){let oe=L[0];I+=oe[0];for(let Se=1;Se<L.length;Se++)I+=typeof L[Se]!="string"?"":L[Se],I+=oe[Se]}else typeof L[0]=="string"?I=L[0]:I=JSON.stringify(L[0]);const K=u(I);if(f){for(let oe=0;oe<f.cssRules.length;oe++)if(((x=f.cssRules[oe])==null?void 0:x.selectorText)=="."+K)return K}let j=["."+K+"{"+I+"}"];return!ie&&typeof L[0]=="object"&&(j=ut(L[0],"."+K)),f?j.forEach(oe=>{f.insertRule(oe,f.cssRules.length)}):h=h.concat(j),K}},l.createStyled=()=>{const r=[],f=o("oplayer");return{css:l.createCss({sheet:f,ssrData:r}),getCssValue:()=>r}};var d=l.createStyled();l.css=d.css,l.getCssValue=d.getCssValue,l.cls=r=>"css-"+W(r)})(Ae||(Ae={}));const xe=Ae,Oe=/(iPad)/gi.test((me=globalThis.navigator)==null?void 0:me.userAgent)||/Macintosh/i.test((be=globalThis.navigator)==null?void 0:be.userAgent)&&Boolean((V=globalThis.navigator)==null?void 0:V.maxTouchPoints)&&((ee=globalThis.navigator)==null?void 0:ee.maxTouchPoints)>=1,we=/iPhone/gi.test((X=globalThis.navigator)==null?void 0:X.userAgent)||Oe,He=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test((N=globalThis.navigator)==null?void 0:N.userAgent)||we,Ue=/mqqbrowser/i.test((Q=globalThis.navigator)==null?void 0:Q.userAgent)&&!/ qq/i.test((Z=globalThis.navigator)==null?void 0:Z.userAgent),$e=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","encrypted","waitingforkey","enterpictureinpicture","leavepictureinpicture"],ze=["contextmenu","fullscreenchange","fullscreenerror"],Ne=["loadedplugin","videoqualitychange","videosourcechange","destroy"],dt=[].concat($e,ze,Ne);class Fe{constructor(){k(this,"events",Object.create(null))}on(o,u){this.events[o]||(this.events[o]=[]),this.events[o].push(u)}onAny(o,u){o.forEach(d=>this.on(d,u))}once(o,u){const d=r=>{u({type:o,payload:r.payload}),this.off(o,d)};this.on(o,d)}off(o,u){if(!this.events[o])return;const d=this.events[o].indexOf(u);d>-1&&this.events[o].splice(d,1)}offAny(o){this.events[o]=[]}offAll(){this.events=Object.create(null)}emit(o,u){var d,r;(d=this.events[o])!=null&&d.length&&this.events[o].forEach(f=>{f({type:o,payload:u})}),(r=this.events["*"])==null||r.forEach(f=>{f({type:o,payload:u})})}}const Re={Play:"\u64AD\u653E",Pause:"\u6682\u505C",Loop:"\u5FAA\u73AF\u64AD\u653E",Volume:"\u97F3\u91CF","Volume: %s":"\u97F3\u91CF\uFF1A%s",Mute:"\u9759\u97F3",Speed:"\u64AD\u653E\u901F\u5EA6",Screenshot:"\u622A\u56FE",Subtitle:"\u5B57\u5E55",Quality:"\u753B\u8D28",Fullscreen:"\u5168\u5C4F","TextDecoder Not Supported":"\u4E0D\u652F\u6301\u539F\u751F\u5B57\u5E55",Setting:"\u8BBE\u7F6E","Picture in Picture":"\u753B\u4E2D\u753B",Danmaku:"\u5F39\u5E55",Display:"\u663E\u793A",Opacity:"\u900F\u660E\u5EA6",FontSize:"\u5B57\u4F53\u5927\u5C0F","Display Area":"\u663E\u793A\u533A\u57DF",Close:"\u5173\u95ED",Auto:"\u81EA\u52A8",Default:"\u9ED8\u8BA4",Normal:"\u6B63\u5E38","%ss":"%s\u79D2","Can be closed after %ss":"%s\u79D2\u540E\u53EF\u5173\u95ED\u5E7F\u544A"};class Je{constructor(o){k(this,"lang"),k(this,"languages",{zh:Re,"zh-CN":Re,en:Object.keys(Re).reduce((u,d)=>(u[d]=d,u),{})}),this.lang=o==="auto"?navigator.language:o,this.languages[this.lang]||navigator.languages.some(u=>{if(this.languages[u])return this.lang=u,!0;if(u.indexOf("-")!==-1){const d=u.split("-")[0];if(d&&this.languages[d])return this.lang=d,!0}return!1}),this.languages[this.lang]||(this.lang="zh-CN")}get(o){for(var u=arguments.length,d=new Array(u>1?u-1:0),r=1;r<u;r++)d[r-1]=arguments[r];const f=this.languages[this.lang][o];if(f==null)return o;let h=0;return f.replace(/%s/gi,()=>{var x;return(x=d[h++])!=null?x:""})}update(o){this.languages=Y(this.languages,o)}}class Ee{constructor(o,u){k(this,"container"),k(this,"options"),k(this,"eventEmitter",new Fe),k(this,"locales"),k(this,"plugins",new Set),k(this,"$root"),k(this,"$video"),k(this,"listeners",Object.create(null)),k(this,"hasError",!1),k(this,"isCustomLoader",!1),k(this,"evil"),k(this,"_playPromise"),k(this,"use",d=>([d].flat().forEach(r=>{this.plugins.add(r)}),this)),k(this,"on",(()=>{var d=this;return function(r,f){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{once:!1};return typeof r=="string"?h.once?d.eventEmitter.once(r,f):d.eventEmitter.on(r,f):Array.isArray(r)?d.eventEmitter.onAny(r,f):typeof r=="function"&&d.eventEmitter.on("*",r),d}})()),k(this,"off",(d,r)=>{this.eventEmitter.off(d,r)}),k(this,"offAny",d=>{this.eventEmitter.offAny(d)}),k(this,"emit",(d,r)=>{this.eventEmitter.emit(d,r)}),k(this,"create",()=>(this.render(),this.initEvent(),this._applyPlugins(),this.options.source.src&&this.load(this.options.source),this)),k(this,"initEvent",()=>{const d=h=>{this.hasError=!0,this.emit("error",h)};this.listeners.error=d,this.$video.addEventListener("error",h=>this.listeners.error(h));const r=h=>this.emit("fullscreenchange",h);[[this.$video,"webkitbeginfullscreen","webkitendfullscreen"],[this.$root,"fullscreenchange","webkitfullscreenchange"]].forEach(h=>{const x=h[0];h.slice(1).forEach(L=>{this.listeners[L]=r,x.addEventListener(L,G=>this.listeners[L](G))})});const f=(h,x)=>this.eventEmitter.emit(h,x);$e.filter(h=>h!=="error").forEach(h=>{this.listeners[h]=f,this.$video.addEventListener(h,x=>this.listeners[h](h,x),{passive:!0})}),ze.filter(h=>h!=="fullscreenchange").forEach(h=>{this.listeners[h]=f,this.$root.addEventListener(h,x=>this.listeners[h](h,x),{passive:!0})})}),k(this,"render",()=>{this.$video=xe.create("video."+xe.css(`
        width: 100%;
        height: 100%;
        display: block;
        position: relative;
      `),Object.assign({autoplay:this.options.autoplay,loop:this.options.loop,playsinline:this.options.playsinline,"webkit-playsinline":this.options.playsinline,"x5-playsinline":this.options.playsinline,preload:this.options.preload,poster:this.options.source.poster},this.options.videoAttr)),this.$video.muted=!!this.options.muted,this.$video.volume=this.options.volume,this.$root=xe.create("div."+xe.css(`
        position: relative;
        -moz-user-select: none;
        -webkit-user-select: none;
        -ms-user-select: none;
        user-select: none;
        width: 100%;
        height: 100%;
        overflow: hidden;
        background-color: #000;
      `)),xe.render(this.$video,this.$root),xe.render(this.$root,this.container)}),k(this,"load",d=>i(this,null,function*(){try{for(var r=q(this.plugins),f,h,x;f=!(h=yield r.next()).done;f=!1){const _=h.value;_.load&&(yield _.load(this,d,{loader:this.isCustomLoader}))&&!this.isCustomLoader&&(this.isCustomLoader=!0)}}catch(_){x=[_]}finally{try{f&&(h=r.return)&&(yield h.call(r))}finally{if(x)throw x[0]}}this.isCustomLoader||(this.$video.src=d.src)})),k(this,"_applyPlugins",()=>{this.plugins.forEach(d=>{d.apply&&d.apply(this)})}),k(this,"play",()=>{if(!this.$video.src)throw Error("The element has no supported sources.");return this._playPromise=this.$video.play()}),this.container=o,this.options=Object.assign({autoplay:!1,muted:!1,loop:!1,volume:1,preload:"metadata",playbackRate:1,playsinline:!0,lang:"auto",source:{},videoAttr:{},isLive:!1,evil:()=>Ue},typeof u=="string"?{source:{src:u}}:u),this.evil=this.options.evil,this.locales=new Je(this.options.lang)}static make(o,u){return new Ee(o,u)}setPoster(o){this.$video.poster=o}pause(){var o;return(o=this._playPromise)!=null&&o.then?this._playPromise.then(()=>this.$video.pause()):this.$video.pause()}togglePlay(){return this.isPlaying?this.pause():this.play()}mute(){this.$video.muted=!0}unmute(){this.$video.muted=!1}toggleMute(){this.isMuted?this.unmute():this.mute()}setVolume(o){this.$video.volume=o>1?1:o<0?0:o,this.$video.volume>0&&this.isMuted&&this.unmute()}setPlaybackRate(o){this.$video.playbackRate=o}seek(o){this.$video.currentTime=o}setLoop(o){this.$video.loop=o}enterFullscreen(){return we?this.$video.webkitEnterFullscreen():this._requestFullscreen.call(this.$root,{navigationUI:"hide"})}exitFullscreen(){return this._exitFullscreen.call(document)}get isFullscreenEnabled(){return Boolean(we&&this.$video.webkitEnterFullscreen)||document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}get isFullScreen(){return Boolean(we&&this.$video.webkitDisplayingFullscreen||(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)===this.$root)}toggleFullScreen(){return this.isFullScreen?this.exitFullscreen():this.enterFullscreen()}get isPipEnabled(){return document.pictureInPictureEnabled}enterPip(){return this.$video.requestPictureInPicture()}exitPip(){return this.isInPip?document.exitPictureInPicture():!1}get isInPip(){return document.pictureInPictureElement==this.$video}togglePip(){return this.isInPip?this.exitPip():this.enterPip()}_resetStatus(){this._playPromise=void 0,this.hasError=!1,this.isCustomLoader=!1}changeQuality(o){return i(this,null,function*(){this._resetStatus(),this.emit("videoqualitychange",o),yield this.load(o)})}changeSource(o){return i(this,null,function*(){this._resetStatus(),this.$video.poster=o.poster||"",this.emit("videosourcechange",o),yield this.load(o)})}destroy(){this.emit("destroy"),this.pause(),this.isFullScreen&&this.exitFullscreen(),this.plugins.clear(),this.$video.src="",this.$video.remove(),this.container.remove(),this.eventEmitter.offAll()}get state(){return this.$video.readyState}get isLoading(){return this.$video.readyState<this.$video.HAVE_ENOUGH_DATA&&!this.hasError}get isLoaded(){return this.$video.readyState>=this.$video.HAVE_FUTURE_DATA}get canPlay(){return this.$video.readyState>=this.$video.HAVE_ENOUGH_DATA}get isPlaying(){return this.$video.paused===!1}get isMuted(){return this.$video.muted}get isEnded(){return this.$video.ended}get isLoop(){return this.$video.loop}get isAutoPlay(){return this.$video.autoplay}get duration(){return this.$video.duration}get buffered(){return this.$video.buffered}get currentTime(){return this.$video.currentTime}get volume(){return this.$video.volume}get playbackRate(){return this.$video.playbackRate}get _requestFullscreen(){return HTMLElement.prototype.requestFullscreen||HTMLElement.prototype.webkitRequestFullscreen||HTMLElement.prototype.mozRequestFullScreen||HTMLElement.prototype.msRequestFullscreen}get _exitFullscreen(){return Document.prototype.exitFullscreen||Document.prototype.webkitExitFullscreen||Document.prototype.cancelFullScreen||Document.prototype.mozCancelFullScreen||Document.prototype.msExitFullscreen}static get version(){return"1.0.55"}}console.log("%c Oh Player %c v"+Ee.version+" %c https://github.com/shiyiya/oplayer","color: #fff; background: #6668ab; padding: 4px 6px; margin: 4px 0;","color: #fff; background: #5f5f5f; padding: 4px 6px; margin: 4px 0;","")},9570:function(lt,_e,ce){ce.d(_e,{ZP:function(){return me}});var i=ce(3162),q=ce(5168),Le=ce(3148);const ne=["playing","duration","aspectRatio","plugins","onEvent"];function k(V,ee){if(V==null)return{};var X={},N=Object.keys(V),Q,Z;for(Z=0;Z<N.length;Z++)Q=N[Z],!(ee.indexOf(Q)>=0)&&(X[Q]=V[Q]);return X}const me=(0,q.forwardRef)((V,ee)=>{const X=V.playing,N=V.duration,Q=N===void 0?0:N,Z=V.aspectRatio,W=Z===void 0?9/16:Z,se=V.plugins,ue=V.onEvent,R=k(V,ne),z=(0,q.useRef)(!0),A=(0,q.useRef)(null),Y=be(R.source),pe=(0,q.useCallback)(P=>{if(P!==null){const U=i.ZP.make(P,R).use(se||[]).create();A.current=U,U.seek(Q/1e3),ue&&U.on(ue)}},[]);return(0,q.useEffect)(()=>{var P,U,de;z.current||(X?A.current&&!A.current.isPlaying&&((P=A.current)==null||P.play()):(U=A.current)!=null&&U.isPlaying&&((de=A.current)==null||de.pause()))},[X]),(0,q.useEffect)(()=>{var P,U,de,Ce,Te;z.current||((Y==null?void 0:Y.src)!==((P=R.source)==null?void 0:P.src)&&((U=A.current)==null||U.changeSource(R.source),(de=A.current)==null||de.setPlaybackRate(R.playbackRate||1)),(Te=A.current)==null||Te.setPoster(((Ce=R.source)==null?void 0:Ce.poster)||""))},[R.source]),(0,q.useEffect)(()=>{var P;z.current||(P=A.current)==null||P.seek(Q/1e3)},[Q]),(0,q.useEffect)(()=>{var P,U;z.current||(R.muted?(P=A.current)==null||P.mute():(U=A.current)==null||U.unmute())},[R.muted]),(0,q.useEffect)(()=>{var P;z.current||(P=A.current)==null||P.setPlaybackRate(R.playbackRate)},[R.playbackRate]),(0,q.useEffect)(()=>(z.current=!1,()=>{var P;return(P=A.current)==null?void 0:P.destroy()}),[]),(0,q.useImperativeHandle)(ee,()=>A.current,[]),(0,Le.jsx)("div",{style:{width:"100%",paddingTop:W*100+"%",backgroundColor:"#f4f4f4",position:"relative"},children:(0,Le.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},ref:pe})})});function be(V){const ee=(0,q.useRef)();return(0,q.useEffect)(()=>{ee.current=V},[V]),ee.current}},4416:function(lt,_e,ce){ce.d(_e,{Z:function(){return yn}});var i=ce(3162),q=Object.defineProperty,Le=(e,n,t)=>n in e?q(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,ne=(e,n,t)=>(Le(e,typeof n!="symbol"?n+"":n,t),t),k,me,be,V,ee;function X(e,n){return n||(n=e.slice(0)),e.raw=n,e}const N=i.$.css("/* settingShown */"),Q=e=>i.$.css({"--primary-color":""+e.primaryColor,"--shadow-background-color":"rgba(28 ,28 ,28 , .9)",width:"100%",height:"100%",position:"absolute",top:"0",left:"0","&, & > *":{"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)"}}),Z=i.$.css(k||(k=X([`
  z-index: 9999 !important;
  position: fixed !important;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;`]))),W=i.$.css({background:"none",border:"none",cursor:"pointer",padding:0,outline:"none",font:"inherit",color:"inherit","line-height":"inherit","text-align":"inherit",width:"100%"}),se=i.$.css("/* controllerHidden */"),ue=i.$.css({"& > svg:nth-child(1)":{display:"none"}}),R=i.$.css({"& > svg:nth-child(2)":{display:"none"}}),z=i.$.cls("/* loading */"),A=i.$.cls("/* isInitialized */"),Y=i.$.cls("/* playing */"),pe=i.$.cls("/* focused */"),P=i.tq?"":i.$.css({position:"relative","&:hover":{"&::after":{opacity:1,transform:"translateX(-50%) scale(1)"},"&[data-tooltip-pos=up-right]::after":{right:0,left:"auto",transform:"translateY(0) scale(1)"}},"&::after":{position:"absolute",content:"attr(aria-label)",bottom:"100%",left:"50%","margin-bottom":"5px","white-space":"nowrap",background:"var(--shadow-background-color)",transform:"translate(-50%, 10px) scale(.8)","transform-origin":"50% 100%",opacity:0,"font-size":"12px",padding:"4px 8px","border-radius":"4px",transition:"transform .2s ease .1s,opacity .2s ease .1s","pointer-events":"none"},"&[data-tooltip-pos=up-right]::after":{right:0,left:"auto",transform:"translateY(10px) scale(.8)","transform-origin":"100% 100%"}}),Oe={play:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path  d="M245.76 785.203V238.797c0-50.442 34.918-69.182 77.967-42.046l422.196 266.117c43.11 27.157 43.069 71.128 0 98.284L323.727 827.249c-43.11 27.177-77.967 8.315-77.967-42.046z" /></svg>',pause:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path  d="M327.68 184.32a81.92 81.92 0 0 1 81.92 81.92v491.52a81.92 81.92 0 1 1-163.84 0V266.24a81.92 81.92 0 0 1 81.92-81.92z m368.64 0a81.92 81.92 0 0 1 81.92 81.92v491.52a81.92 81.92 0 1 1-163.84 0V266.24a81.92 81.92 0 0 1 81.92-81.92z" /></svg>',volume:['<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg width="200px" height="200.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path  d="M552.96 152.064v719.872c0 16.118-12.698 29.184-28.365 29.184a67.482 67.482 0 0 1-48.394-20.644L329.359 729.354a74.547 74.547 0 0 0-53.493-22.794H250.47c-104.386 0-189.03-87.101-189.03-194.56s84.644-194.56 189.03-194.56h25.396c20.07 0 39.3-8.192 53.473-22.794L476.18 143.503a67.482 67.482 0 0 1 48.436-20.623c15.646 0 28.344 13.066 28.344 29.184z m216.965 101.58a39.936 39.936 0 0 1 0-57.425 42.25 42.25 0 0 1 58.778 0c178.483 174.408 178.483 457.154 0 631.562a42.25 42.25 0 0 1-58.778 0 39.936 39.936 0 0 1 0-57.405 359.506 359.506 0 0 0 0-516.752zM666.542 373.884a39.731 39.731 0 0 1 0-55.235 37.52 37.52 0 0 1 53.944 0c104.305 106.783 104.305 279.921 0 386.704a37.52 37.52 0 0 1-53.944 0 39.731 39.731 0 0 1 0-55.235c74.486-76.288 74.486-199.946 0-276.234z" /></svg>','<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg width="200px" height="200.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path  d="M552.96 152.064v719.872c0 16.118-12.698 29.184-28.365 29.184a67.482 67.482 0 0 1-48.394-20.644L329.359 729.354a74.547 74.547 0 0 0-53.493-22.794H250.47c-104.386 0-189.03-87.101-189.03-194.56s84.644-194.56 189.03-194.56h25.396c20.07 0 39.3-8.192 53.473-22.794L476.18 143.503a67.482 67.482 0 0 1 48.436-20.623c15.646 0 28.344 13.066 28.344 29.184z m400.507 514.662a31.068 31.068 0 0 1-41.41 2.294l-88.167-70.656a40.243 40.243 0 0 0-50.34 0l-88.166 70.656a31.068 31.068 0 0 1-43.684-43.684l70.656-88.166a40.243 40.243 0 0 0 0-50.34L641.7 398.664a31.068 31.068 0 0 1 43.684-43.684l88.166 70.656c14.705 11.796 35.635 11.796 50.34 0l88.166-70.656a31.068 31.068 0 0 1 43.684 43.684l-70.656 88.166a40.243 40.243 0 0 0 0 50.34l70.656 88.166a31.068 31.068 0 0 1-2.273 41.41z" /></svg>'],fullscreen:['<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg width="200px" height="200.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path  d="M235.8322669 622.46683433h-110.46812886v276.16902763h276.16902763v-110.46812886h-165.70089877v-165.70089877z m-110.46812886-220.93366866h110.46812886v-165.70089877h165.70089877v-110.46812886H125.36413804v276.16902763z m662.80359506 386.63456743h-165.70089877v110.46812886h276.16902763V622.46683433h-110.46812886v165.70089877z m-165.70089877-662.80359506v110.46812886h165.70089877v165.70089877h110.46812886V125.36413804H622.46683433z" /></svg>','<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg width="200px" height="200.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path  d="M125.36413804 732.9349632h165.70089876v165.70089876h110.46812887V622.46683433H125.36413804v110.46812887z m165.70089876-441.8699264h-165.70089876v110.46812887h276.16902763V125.36413804h-110.46812887v165.70089876z m331.40179753 607.57082516h110.46812887v-165.70089876h165.70089876v-110.46812887H622.46683433v276.16902763z m110.46812887-607.57082516v-165.70089876h-110.46812887v276.16902763h276.16902763v-110.46812887h-165.70089876z" /></svg>'],pip:'<svg t="1655881687207" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="200" height="200"><path d="M896 811.989333l0-600.021333-768 0 0 600.021333 768 0zM982.016 809.984q0 34.005333-25.984 59.989333t-59.989333 25.984l-768 0q-34.005333 0-59.989333-25.984t-25.984-59.989333l0-598.016q0-34.005333 25.984-59.008t59.989333-25.002667l768 0q34.005333 0 59.989333 25.002667t25.984 59.008l0 598.016zM809.984 470.016l0 256-340.010667 0 0-256 340.010667 0z" p-id="4652"></path></svg>',setting:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1660103758898" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1788" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><path d="M132.915 475.689l-44.523-88.556a60.539 60.539 0 0 1 1.904-57.958l49.87-84.93a62.607 62.607 0 0 1 50.073-30.577l100.25-6.349a83.6 83.6 0 0 0 63.938-36.331L410.132 88.8a62.771 62.771 0 0 1 52.04-27.361h99.717c20.89 0 40.387 10.26 51.979 27.361l55.705 82.187a83.6 83.6 0 0 0 63.96 36.31l100.249 6.35a62.607 62.607 0 0 1 50.073 30.596l49.87 84.952a60.56 60.56 0 0 1 1.904 57.958l-44.524 88.535a80.691 80.691 0 0 0 0 72.622l44.524 88.556c9.257 18.411 8.54 40.14-1.905 57.958l-49.869 84.93a62.607 62.607 0 0 1-50.073 30.577l-100.25 6.349a83.6 83.6 0 0 0-63.938 36.331L613.888 935.2a62.771 62.771 0 0 1-52.06 27.361H462.11a62.771 62.771 0 0 1-51.979-27.361l-55.705-82.187a83.6 83.6 0 0 0-63.96-36.31l-100.249-6.35a62.607 62.607 0 0 1-50.073-30.596l-49.87-84.952a60.539 60.539 0 0 1-1.904-57.958l44.524-88.535a80.691 80.691 0 0 0 0-72.622zM512 696.32a184.32 184.32 0 1 0 0-368.64 184.32 184.32 0 0 0 0 368.64z" p-id="1789"></path></svg>',screenshot:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1659432399974" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9974" width="200" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><path d="M853.333333 128H170.666667c-25.6 0-42.666667 17.066667-42.666667 42.666667v384h85.333333V213.333333h597.333334v341.333334h85.333333V170.666667c0-25.6-17.066667-42.666667-42.666667-42.666667z" p-id="9975"></path><path d="M725.333333 597.333333c-29.866667 0-59.733333 8.533333-85.333333 25.6l-55.466667-55.466666 162.133334-162.133334L686.933333 341.333333l-162.133333 162.133334L358.4 341.333333 298.666667 401.066667l162.133333 162.133333-64 64c-25.6-17.066667-59.733333-29.866667-98.133333-29.866667-93.866667 0-170.666667 76.8-170.666667 170.666667s76.8 170.666667 170.666667 170.666667 170.666667-76.8 170.666666-170.666667c0-25.6-4.266667-51.2-17.066666-72.533333l68.266666-68.266667 55.466667 55.466667c-17.066667 25.6-25.6 55.466667-25.6 85.333333 0 93.866667 76.8 170.666667 170.666667 170.666667s170.666667-76.8 170.666666-170.666667-72.533333-170.666667-166.4-170.666667zM298.666667 853.333333c-46.933333 0-85.333333-38.4-85.333334-85.333333s38.4-85.333333 85.333334-85.333333 85.333333 38.4 85.333333 85.333333-38.4 85.333333-85.333333 85.333333z m426.666666 0c-46.933333 0-85.333333-38.4-85.333333-85.333333s38.4-85.333333 85.333333-85.333333 85.333333 38.4 85.333334 85.333333-38.4 85.333333-85.333334 85.333333z" p-id="9976"></path></svg>',playbackRate:'<svg t="1662793741675" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4313" width="200" height="200"><path d="M512 951.04a435.2 435.2 0 1 1 435.2-435.2 435.2 435.2 0 0 1-435.2 435.2z m0-819.2a384 384 0 1 0 384 384A384 384 0 0 0 512 132.096z" p-id="4314" fill="#ffffff"></path><path d="M468.992 493.824l-130.048-75.008a20.992 20.992 0 0 0-31.232 18.176v150.016a20.992 20.992 0 0 0 31.232 18.176l130.048-75.008a20.992 20.992 0 0 0 0-36.352zM684.8 493.824l-129.536-75.008a21.248 21.248 0 0 0-31.744 18.432v149.504a21.248 21.248 0 0 0 31.744 18.432l129.536-75.008a20.992 20.992 0 0 0 0-36.352z" p-id="4315" fill="#ffffff"></path></svg>',subtitle:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1660451299604" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M853.333333 170.666667H170.666667c-47.061333 0-85.333333 38.272-85.333334 85.333333v512c0 47.061333 38.272 85.333333 85.333334 85.333333h682.666666c47.061333 0 85.333333-38.272 85.333334-85.333333V256c0-47.061333-38.272-85.333333-85.333334-85.333333z m-384 256H341.333333v170.666666h128v85.333334H341.333333c-47.061333 0-85.333333-38.272-85.333333-85.333334v-170.666666c0-47.061333 38.272-85.333333 85.333333-85.333334h128v85.333334z m298.666667 0h-128v170.666666h128v85.333334h-128c-47.061333 0-85.333333-38.272-85.333333-85.333334v-170.666666c0-47.061333 38.272-85.333333 85.333333-85.333334h128v85.333334z" p-id="1366"></path></svg>',loop:'<svg style="transform: scale(.8);" t="1662029141436" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2497"><path d="M677.944889 589.909333c25.713778-16.952889 41.301333-46.478222 41.301333-78.222222 0-31.772444-15.587556-61.297778-41.301333-78.222222L440.32 276.906667c-58.88-38.741333-135.566222 5.518222-135.566222 78.279111V668.16c0 72.789333 76.686222 116.992 135.566222 78.222222l237.596444-156.472889h0.028445z m-47.132445-78.222222l-237.624888 156.472889V355.128889l237.624888 156.501333v0.028445z" p-id="2498" fill="#ffffff"></path><path d="M486.968889 104.106667c-128-0.227556-248.974222 57.457778-328.078222 156.444444h54.072889c16.469333 0 31.658667 8.647111 39.879111 22.641778 8.248889 14.023111 8.248889 31.288889 0 45.283555-8.248889 14.023111-23.409778 22.641778-39.879111 22.641778H74.865778c-25.400889 0-46.023111-20.252444-46.023111-45.283555v-164.693334c0-25.031111 20.622222-45.283556 46.023111-45.283555 25.429333 0 46.051556 20.252444 46.051555 45.283555v24.746667C216.832 68.266667 348.984889 13.255111 486.968889 13.482667 767.658667 13.511111 995.555556 236.316444 995.555556 511.715556c0 275.342222-227.868444 498.147556-508.586667 498.147555-190.862222 0.199111-365.738667-104.675556-453.006222-271.644444a44.657778 44.657778 0 0 1 1.678222-45.767111 46.250667 46.250667 0 0 1 41.415111-20.906667 46.08 46.08 0 0 1 38.798222 25.315555c71.509333 136.760889 214.812444 222.634667 371.114667 222.435556 230.257778 0 416.512-182.698667 416.512-407.608889 0-224.881778-186.254222-407.580444-416.512-407.580444z" p-id="2499" fill="#ffffff"></path></svg>',progressIndicator:null,loadingIndicator:null};var M;(e=>{e.setupIcons=(n,t)=>{for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(Oe[s]=t[s]);n.icons=Oe},e.get=n=>Oe[n]})(M||(M={}));const we=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function t(s){let a=s.target;a&&(e.$root.contains(a)||e.$root==a)?e.$root.classList.add(pe):e.$root.classList.remove(pe)}n&&e.$root.classList.add(pe),document.addEventListener("click",t),document.addEventListener("contextmenu",t),e.on("destroy",()=>{document.removeEventListener("click",t),document.removeEventListener("contextmenu",t)})},He=e=>e.$root.classList.contains(pe),Ue=e=>{let n=!1;const t=()=>{n&&e.$root.classList.remove(A),n=!1},s=()=>{n||(n=!0,e.$root.classList.add(A),e.emit("videoinitialized"))};i.tq?e.on("durationchange",function(){e.duration!==1/0&&e.duration>0&&s()}):e.on("canplaythrough",s),e.on("videosourcechange",t)},$e=e=>e.$root.classList.contains(A),ze=e=>{e.on("play",()=>{e.$root.classList.add(Y)}),e.on(["pause","videosourcechange"],()=>{e.$root.classList.remove(Y)})},Ne=e=>{let n=0,t=0,s=!1,a=!1;const v=()=>e.$root.classList.add(z),m=()=>e.$root.classList.remove(z);v(),e.on("videoinitialized",m),e.on("seeking",()=>{e.isPlaying||(v(),e.on("canplaythrough",m,{once:!0}))}),e.on("play",()=>a=!0),e.on("pause",()=>(a=!1,m())),e.on("videosourcechange",()=>{v(),a=!1,n=t=0}),setInterval(()=>{a&&$e(e)&&(t=e.currentTime,!s&&t===n&&e.isPlaying&&(v(),s=!0),s&&t>n&&e.isPlaying&&(m(),s=!1),n=t)},100)},dt=e=>e.$root.classList.contains(z);function Fe(e){return e<10?"0"+e:""+e}function ae(e){if(!isFinite(e))return"--:--";const n=Math.floor(e/3600),t=Math.floor(e%3600/60),s=Math.floor(e%3600%60);return(n>0?Fe(n)+":":"")+Fe(t)+":"+Fe(s)}function ht(e,n){const t=document.createElement("a");t.href=e,t.download=n,t.click()}const gt=e=>{var n;try{const t=document.createElement("canvas"),s=e.videoWidth,a=e.videoHeight;return t.width=s,t.height=a,(n=t.getContext("2d"))==null||n.drawImage(e,0,0,s,a),t.toDataURL("image/png")}catch(t){return t}},We=e=>{if(dt(e)||!$e(e)){e.emit("notice",{text:e.locales.get("Please wait for loading to complete")});return}const n=gt(e.$video);n instanceof Error?e.emit("notice",{text:n.message}):ht(n,ae(e.currentTime).replace(/:/g,"-")+"-OPlayer-ScreenShot.png")},Ge=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1500,t=null;const s=()=>t&&clearTimeout(t);return{callee:()=>{s(),t=setTimeout(()=>{e()},n)},clear:s}},Xe=(e,n)=>{var t=[],s=e.parentNode.children;for(let a=0,v=s.length;a<v;a++)s[a]!==e&&(n==null||n(s[a]),t.push(s[a]));return t};function Me(e,n){return e.classList.add(n),e}function Be(e,n){return e.classList.remove(n),e}function ft(e,n){return e.classList.toggle(n)}function Pe(e,n){return e.classList.contains(n)}const he={dragStart:i.tq?"touchstart":"mousedown",dragMove:i.tq?"touchmove":"mousemove",dragEnd:i.tq?"touchend":"mouseup"},Ye=10,Ke=5,ye={ArrowUp:e=>{const n=e.volume*100+Ye;e.setVolume(n/100),e.emit("notice",{text:e.locales.get("Volume: %s",~~(e.volume*100)+"%")})},ArrowDown:e=>{const n=e.volume*100-Ye;e.setVolume(n/100),e.emit("notice",{text:e.locales.get("Volume: %s",~~(e.volume*100)+"%")})},ArrowLeft:e=>{e.seek(e.currentTime-Ke),e.emit("notice",{text:ae(e.currentTime)+" / "+ae(e.duration)})},ArrowRight:e=>{e.seek(e.currentTime+Ke),e.emit("notice",{text:ae(e.currentTime)+" / "+ae(e.duration)})}," ":e=>e.togglePlay(),Escape:e=>{if(e.isFullScreen){e.exitFullscreen();return}e.$root.classList.contains(Z)&&e.emit("fullscreenchange",{isWeb:!0})},"s+s":We};function pt(e){let n;function t(s){var a;if(((a=document.activeElement)==null?void 0:a.getAttribute("contenteditable"))||!He(e))return;const v=s.key;ye[v]&&(s.preventDefault(),ye[v](e)),n&&n===v&&ye[n+"+"+v]&&(s.preventDefault(),ye[n+"+"+v](e)),n=v,setTimeout(()=>{n=void 0},200)}e.on("addhotkey",s=>{let a=s.payload;for(const v in a)Object.prototype.hasOwnProperty.call(a,v)&&(ye[v]=a[v])}),e.on("removehotkey",s=>{s.payload.forEach(v=>{delete ye[v]})}),document.addEventListener("keydown",t),e.on("destroy",()=>{document.removeEventListener("keydown",t)})}function vt(e,n){n!=null&&n.length&&e.emit("addsetting",{name:e.locales.get("Speed"),type:"selector",icon:M.get("playbackRate"),key:"speed",children:n.map(t=>({name:+t==1?"Normal":t+"x",value:+t,default:e.playbackRate==+t})),onChange:t=>{let s=t.value;return e.setPlaybackRate(s)}})}const mt=i.$.css(me||(me=X([`
  width: 35px;
  height: 110px;
`]))),Qe=i.$.css(`
  width: 100%;
  text-align: center;
  font-size: 12px;
  height: 28px;
  line-height: 28px;
  margin-bottom: 2px;
`),Ze=i.$.css(`
  position:relative;
  display: flex;
  justify-content: center;
  height: 70px;
  cursor: pointer;
`),Re=i.$.css(`
  height: 100%;
  width: 2px;
  position: relative;

`),Je=i.$.css(`
  background: rgb(231 231 231);
  height: 100%;
  width: 2px;
  border-radius: 2px;
`),Ee=i.$.css(`
  height: 100%;
  width: 100%;
  background-color: var(--primary-color);
  transform-origin: 0 100%;
  border-radius: 2px;
`),l=i.$.css(be||(be=X([`
  position:absolute;
  bottom: 0;
  top: auto;
  left: -5px;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background-color: var(--primary-color);
  vertical-align: middle;
  pointer-events: none;
  `]))),u=(e,n)=>{const t=i.$.create("div."+mt,{},"<div class="+Qe+`>100</div>

    <div class=`+Ze+`>
        <div class=`+Re+`>
          <div class=`+Je+`>
            <div class=`+Ee+`></div>
          </div>

          <div class=`+l+`></div>
        <div>
      </div>`),s=t.querySelector("."+Ze),a=t.querySelector("."+l),v=t.querySelector("."+Ee),m=t.querySelector("."+Qe),p=c=>{const w=s.getBoundingClientRect(),E=(w.bottom-(c.clientY||c.changedTouches[0].clientY))/w.height;return E>=1?1:E<=0?0:E},g=c=>{c.preventDefault(),e.setVolume(b(p(c)))},b=c=>(m.innerText=""+~~(c*100),v.style.transform="scaleY("+c+")",a.style.bottom="calc("+~~(c*100)+"% - 6px)",c);b(e.volume),e.on("volumechange",()=>{b(e.isMuted?0:e.volume)}),s.addEventListener(he.dragStart,c=>{g(c),document.addEventListener(he.dragMove,g,{passive:!1}),document.addEventListener(he.dragEnd,()=>{document.removeEventListener(he.dragMove,g)},{once:!0})}),i.$.render(t,n)},d=i.$.css(V||(V=X([`
  padding: `,`;
  font-variant-numeric: tabular-nums;
`])),i.tq?0:"0px 0.5em"),r=i.$.css(`
    position: absolute;
    top: 0;
    right: 50%;
    z-index: 10;
    padding: 4px;
    border-radius: 4px;
    box-sizing: border-box;
    transform: translate(50%, -100%);
    font-size: 12px;
    transition: visibility 0s, opacity 0.1s linear;
`),f=i.$.css({position:"relative",display:"flex",["& ."+r]:{visibility:"hidden",opacity:0,"background-color":"var(--shadow-background-color)"}}),h=i.$.css({["&:hover"]:{"padding-top":"4px","margin-top":"-4px",["& ."+r]:{visibility:"visible",opacity:1}}}),x=i.$.css({display:"block",padding:"6px 15px",cursor:"pointer","font-size":"14px","text-align":"center","border-radius":"4px","margin-bottom":"2px",transition:"color .2s","word-break":"keep-all","&:nth-last-child(1)":{"margin-bottom":"0px"},"& *":{"pointer-events":"none"},"&[data-selected=true]":{color:"var(--primary-color)"},"&:hover":{"background-color":"rgba(255, 255, 255, 0.1)"}}),_=i.$.css({display:"flex","justify-content":"space-between","font-size":"14px",color:"#fff",fill:"#fff",height:"35px",padding:i.tq?0:"0px 0px 5px 0px","margin-right":i.tq?"-8px":"0px","text-align":"center",["& ."+W+".--text"]:{width:"auto",margin:"0 8px"},["& ."+W]:{width:"36px",height:"22px",["& svg"]:{width:"100%",height:"100%","pointer-events":"none"}},"> div":{display:"flex","align-items":"center"}}),G=(e,n,t)=>{const s=[e.locales.get("Play"),e.locales.get("Pause"),e.locales.get("Screenshot"),e.locales.get("Setting"),e.locales.get("Picture in Picture"),e.locales.get(e.isFullscreenEnabled?"Fullscreen":"WebFullscreen")],a=s[0],v=s[1],m=s[2],p=s[3],g=s[4],b=s[5],c=i.$.create("div."+_,{},`<div>
      `+(i.tq?"":`<button
              class="`+W+" "+(e.isPlaying?ue:R)+" "+P+`"
              aria-label="`+a+`"
            >
              `+M.get("play")+`
              `+M.get("pause")+`
            </button>`)+`

      <span class=`+d+">"+(e.options.isLive?"00:00":"00:00 / --:--")+`</span>
    </div>

    <!-- right -->
    <div>
      `+(t.screenshot?'<button class="'+W+" "+P+'" aria-label="'+m+`">
              `+M.get("screenshot")+`
            </button>`:"")+`

      <div class="`+f+" "+h+`">
        <button class="`+W+" "+(e.isMuted?ue:R)+`" aria-label="Volume">
            `+M.get("volume")[0]+`
            `+M.get("volume")[1]+`
        </button>
        `+(i.gn?"":"<div class="+r+"></div>")+`
      </div>

      <button class="`+W+" "+P+'" aria-label="'+p+`">
        `+M.get("setting")+`
      </button>

      `+(t.pictureInPicture&&e.isPipEnabled?'<button class="'+W+" "+P+'" aria-label="'+g+`">
                `+M.get("pip")+`
            </button>`:"")+`

      `+(t.fullscreen?'<button class="'+W+" "+R+" "+P+'" data-tooltip-pos="up-right" aria-label="'+b+`">
                `+M.get("fullscreen")[0]+`
                `+M.get("fullscreen")[1]+`
              </button>`:"")+`
    </div>`),w=c.querySelector("button[aria-label=Volume]");i.gn||u(e,w.nextElementSibling);const E=c.querySelector("button[aria-label="+a+"]"),O=c.querySelector("."+d),F=c.querySelector('button[aria-label="'+b+'"]'),H=(S,T)=>{S.classList.add(T?ue:R),S.classList.remove(T?R:ue)};t.fullscreen&&e.on("fullscreenchange",S=>{let T=S.payload;return setTimeout(()=>{T.isWeb?H(F,ft(e.$root,Z)):H(F,e.isFullScreen)})}),i.tq||e.on(["play","pause","videosourcechange"],()=>{E.setAttribute("aria-label",e.isPlaying?v:a),H(E,e.isPlaying)}),e.on("volumechange",()=>H(w,e.isMuted)),e.on(["durationchange","timeupdate","seeking","seeked"],()=>{O.innerText=ae(e.currentTime)+" "+(e.options.isLive?"":" / "+ae(e.duration))}),e.on("videosourcechange",()=>O.innerText=e.options.isLive?"00:00":"00:00 / --:--"),c.addEventListener("click",S=>{switch(S.target.getAttribute("aria-label")){case a:case v:return e.togglePlay();case"Volume":if(i.tq&&!i.gn)return;e.isMuted?e.unmute():e.mute();break;case g:return e.togglePip();case b:e.isFullscreenEnabled?e.toggleFullScreen():e.emit("fullscreenchange",{isWeb:!0});return;case m:We(e);break;case p:{e.emit("settingvisibilitychange",S);break}}}),i.$.render(c,n)},ie=i.$.css(`
  display: none;
  bottom: 15px;
  position: absolute;
  left: 50%;
  padding: 5px 8px;
  background-color: var(--shadow-background-color);
  color: #fff;
  border-radius: 4px;
  font-size: 12px;
  white-space: nowrap;
  word-break: nowrap;
  transform: translateX(-50%);`),I=i.$.css({position:"absolute",width:"6px",height:"4px","border-radius":"1px","background-color":"#fff",transform:"translateX(-3px)",transition:"all 0.2s",["&:hover > ."+ie]:{display:"block"}});function K(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const s=document.createDocumentFragment();let a=[],v=!0;function m(g){const b=i.$.create("div."+I,{},'<span class="'+ie+'">'+g.text+"</san>");return b.style.left=g.left+"%",b}function p(g,b){for(let c=0;c<g.length;c++){const w=g[c],E=m({left:w.time/b*100,text:w.text});a.push(E),i.$.render(E,s)}i.$.render(s,n)}e.on("videoinitialized",()=>{v&&p(t,e.duration)}),e.on("videosourcechange",()=>{v=!1,a.forEach(g=>g.remove())}),e.on("highlightchange",()=>{v=!0,a.forEach(g=>g.remove()),p(t,e.duration)})}const j=()=>{},oe=i.$.css(`
  position: absolute;
  left: 0;
  bottom: 12px;
  pointer-events: none;
  transform: translateX(-50%);
  background-position-y: center;
  display: none;`);function Se(e,n,t){if(!t)return{update:j,hide:j,init:j};const s=i.$.render(i.$.create("div."+oe),n);let a=0,v=0,m=t.src,p=!1,g=100/t.number;setTimeout(()=>{const c=(t==null?void 0:t.width)||160,w=(t==null?void 0:t.height)||90;s.style.width=c+"px",s.style.height=w+"px",a=c/2/n.clientWidth,v=(n.clientWidth-c/2)/n.clientWidth});const b=()=>{p||(p=!0,s.style.backgroundImage="url("+m+")")};return e.on("videosourcechange",()=>{p=!1}),e.on("thumbnailssourcechange",c=>{m=c.payload}),{init:b,update:c=>{s.style.left=(c<a?a:c>v?v:c)*100+"%";const w=~~(c*100/g)*t.number*g;s.style.backgroundPositionX=-w+"%"}}}const et=()=>{},bt=i.$.css(`
  position: absolute;
  left: 0;
  bottom: 12px;
  pointer-events: none;
  transform: translateX(-50%);
  background-position-y: center;
  display: none;`);function Ft(e,n,t){if(!t)return{update:et,hide:et,init:et};let s=[],a={},v,m=!1,p=t.src;const g=i.$.render(i.$.create("div."+bt),n);g.style.width=((t==null?void 0:t.width)||160)+"px",g.style.height=((t==null?void 0:t.height)||90)+"px";const b=$=>{fetch($).then(y=>y.text()).then(y=>{s=c(y),m=!0,g.style.opacity="1"})};t.src&&b(t.src),e.on("videosourcechange",()=>{m=!1,g.style.opacity="0",s=[],a={}}),e.on("thumbnailssourcechange",$=>{let y=$.payload;b(y)});const c=$=>{const y=[];return $.split(/[\r\n][\r\n]/i).forEach(D=>{if(D.match(/([0-9]{2}:)?([0-9]{2}:)?[0-9]{2}(.[0-9]{3})?( ?--> ?)([0-9]{2}:)?([0-9]{2}:)?[0-9]{2}(.[0-9]{3})?[\r\n]{1}.*/gi)){const B=D.split(/[\r\n]/i),ge=isFinite(+B[0])?B[1]:B[0],ke=isFinite(+B[0])?B[2]:B[1],te=ge.split(/ ?--> ?/i),re=te[0],fe=te[1],J=O(ke);y.push({start:w(re),end:w(fe),css:J})}return y}),y},w=$=>{const y=E($);return y.hours*(60*60)+y.minutes*60+y.seconds+y.milliseconds/1e3},E=$=>{const y=$.split("."),D=y[0].split(":");return{milliseconds:parseInt(y[1],10)||0,seconds:parseInt(D.pop(),10)||0,minutes:parseInt(D.pop(),10)||0,hours:parseInt(D.pop(),10)||0}},O=$=>{const y={};if(!$.match(/#xywh=/i))return y.background='url("'+F($)+'")',y;const C=H($);return y.background='url("'+F(C.image)+'") no-repeat -'+C.x+"px -"+C.y+"px",y.width=C.w+"px",y.height=C.h+"px",y.url=F(C.image),y},F=(()=>{const $={};return y=>{if($[y])return $[y];if(/(https?:)?\/\//.test(y))return y;let C=p;/(https?:)?\/\//.test(y)&&(C=p.substring(0,p.indexOf("?")||void 0));const D=C.lastIndexOf("/");if(C.startsWith("https://")&&D<8||C.startsWith("http://")&&D<7)return p+y;const B=C.substring(D+1);return $[y]=p.replace(B,y),$[y]}})(),H=$=>{const y=$.split(/#xywh=/i),C=y[0],B=y[1].match(/[0-9]+/gi);return{x:B[0],y:B[1],w:B[2],h:B[3],image:C}},S=$=>{if(!m)return;const y=e.duration,C=$*y,D=T(C);if(!D){g.style.opacity="0";return}const B=n.clientWidth,ge=$*B,ke=parseInt(D.width,10),te=ke>>1,re=B-(ge+te),fe=ge-te;if(g.style.opacity="1",fe>0&&re>0?g.style.transform="translateX("+(ge-te)+"px)":fe<=0?g.style.transform="translateX("+0+"px)":re<=0&&(g.style.transform="translateX("+(B-ke)+"px)"),!(v&&v===D)){v=D;for(const J in D)D.hasOwnProperty(J)&&(g.style[J]=D[J])}},T=$=>{for(let y=0;y<s.length;++y){const C=s[y];if($>=C.start&&$<C.end){if(C.css.url&&!a[C.css.url]){const D=new Image;D.src=C.css.url,a[C.css.url]=D}return C.css}}};return{init:()=>{},update:S}}const tt=i.$.css({"background-color":"hsla(0, 0%, 100%, 0.4)"}),nt=i.$.css({"background-color":"var(--primary-color)"}),Ve=i.$.css({width:"100%","pointer-events":"none",position:"relative","z-index":1,"& > *":{content:"''",display:"block",position:"absolute",width:"1em",height:"1em",top:"calc(-0.5em + 2px)",left:"-0.5em",bottom:"0",transform:"scale(0)",transition:"transform 0.3s ease","z-index":"1"},"& > *:not(svg)":{width:"0.7em",height:"0.7em",top:"calc(-0.35em + 2px)",left:"-0.35em","border-radius":"50%","background-color":"#fff"}}),st=i.$.css({position:"absolute",left:"0","border-radius":"4px",padding:"5px 8px","background-color":"var(--shadow-background-color)",color:"#fff","font-size":"12px","word-wrap":"nowrap","word-break":"nowrap","z-index":"2","pointer-events":"none",transform:"translateX(-50%)",display:"none","white-space":"pre",bottom:"15px"}),ve=i.$.css("/* progressDragging */"),Rt=i.$.css({position:"relative","box-sizing":"border-box",padding:"5px 0",cursor:"pointer",width:"100%",["&."+ve+" ."+Ve+" > * "+(i.tq?"":",&:hover ."+Ve+" > *")]:{transform:"scale(1)"},["&."+ve+" ."+st+", &."+ve+" ."+oe+", &."+ve+" ."+bt]:{display:"block"}}),zt=i.$.css({position:"relative",height:"4px",width:"100%","background-color":"hsla(0, 0%, 100%, 0.2)","border-radius":"2px",["& ."+tt+", & ."+nt]:{position:"absolute",left:"0",top:"0",bottom:"0","will-change":"width","pointer-events":"none","border-radius":"2px"}}),Mt=(e,n,t)=>{var s;const a=i.$.create("div."+Rt,{},"<div class="+zt+`>
      <div class="`+st+`">00:00</div>
      <div class="`+tt+`" style="width:0%"></div>
      <div class="`+nt+`" style="width:0%"></div>
      <div class="`+Ve+`" style="transform: translateX(0%);">
        `+(M.get("progressIndicator")||"<span />")+`
      </div>
  </div>`),v=a.firstElementChild,m=(s=t.thumbnails)!=null&&s.isVTT?Ft(e,v,t.thumbnails):Se(e,v,t.thumbnails),p=m.init,g=m.update;K(e,v,t.highlight);const b=a.querySelector("."+tt),c=a.querySelector("."+nt),w=a.querySelector("."+Ve),E=a.querySelector("."+st);let O=!1;const F=S=>{const T=a.getBoundingClientRect(),$=((S.clientX||S.changedTouches[0].clientX)-T.left)/T.width;return $>=1?1:$<=0?0:$},H=S=>{const T=F(S),$=T*100;return c.style.width=$+"%",w.style.transform="translateX("+$+"%)",E.innerText=ae(e.duration*T),E.style.left=$+"%",T};a.addEventListener(he.dragStart,S=>{O=!0,a.classList.add(ve),p(),g(H(S));function T($){$.preventDefault(),g(H($))}document.addEventListener(he.dragMove,T,{passive:!1}),document.addEventListener(he.dragEnd,$=>{a.classList.remove(ve),O=!1,document.removeEventListener(he.dragMove,T),e.seek(F($)*e.duration)},{once:!0})}),i.tq||(a.addEventListener("mouseenter",()=>{O||p()}),a.addEventListener("mousemove",S=>{if(O)return;a.classList.add(ve),S.target.classList.contains(I)?E.style.display="none":E.removeAttribute("style");const T=F(S);E.innerText=ae(e.duration*T),E.style.left=T*100+"%",g(T)},{passive:!1}),a.addEventListener("mouseleave",()=>{O||a.classList.remove(ve)})),e.on(["timeupdate","seeking"],()=>{if(O)return;const S=e.currentTime,T=e.duration,$=S/T*100||0;c.style.width=$+"%",w.style.transform="translateX("+$+"%)"}),e.on("progress",()=>{const S=e.buffered.length?e.buffered.end(e.buffered.length-1)/e.duration*100:0;b.style.width=S+"%"}),e.on("videosourcechange",()=>{b.style.width="0%",c.style.width="0%",w.style.transform="translateX(0%)"}),i.$.render(a,n)},xt=i.$.css({position:"absolute",left:"0",right:"0",bottom:"0","z-index":"97",padding:"0 15px",transition:"transform 0.3s ease, padding 0.3s ease","background-image":"linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.3))"}),Bt=1500,Vt=(e,n,t)=>{const s=i.$.create("div."+xt);e.options.isLive||Mt(e,s,t),G(e,s,t),i.$.render(s,n),i.$.css({["@global ."+se]:{cursor:"none",["& ."+xt]:t.miniProgressBar?{transform:"translateY(calc(100% - 7px))",padding:"0","pointer-events":"none"}:{transform:"translateY(100%)"}}});const a=()=>{!$e(e)||!e.isPlaying&&!i.tq||Pe(e.$root,se)||Pe(e.$root,N)||Me(e.$root,se)},v=Ge(a,Bt),m=v.callee,p=v.clear,g=()=>{Pe(e.$root,se)&&(p(),Be(e.$root,se))};return e.on("play",m),e.on(["pause","videosourcechange"],g),i.tq||(e.$root.addEventListener("mousemove",()=>{g(),m()}),e.$root.addEventListener("mouseleave",a)),()=>{Pe(e.$root,se)?g():a()}},It=i.$.css(Object.assign({"& > button":{position:"absolute",right:"40px",bottom:"50px",fill:"#fff",width:"3.5em","z-index":"97","& > svg":Object.assign({filter:"drop-shadow(4px 4px 6px rgba(0, 0, 0, 0.3))"},i.tq&&{"&:nth-child(1)":{display:"block"},"&:nth-child(2)":{display:"none"},["@global ."+Y+" &"]:{"&:nth-child(1)":{display:"none"},"&:nth-child(2)":{display:"block"}}})},"@media only screen and (max-width: 991px)":{"& > button":{top:"0",bottom:"0",left:"0",right:"0",margin:"auto",width:"2.8em",height:"2.8em"}}},i.tq?{display:"none",["@global ."+A+" &"]:{display:"block"},["@global ."+se+" &"]:{display:"none"}}:{["@global ."+z+" &"]:{display:"none"},["@global ."+Y+" &"]:{display:"none"}})),wt=(e,n)=>{const t=!e.evil()&&i.tq,s=i.$.create("div."+It,{},'<button aria-label="Play" class="'+W+`" type="button">
      `+M.get("play")+`
      `+(t?M.get("pause"):"")+`
    </button>`);e.evil()?(s.style.display="block",s.addEventListener("click",()=>(e.play(),s.remove()),{once:!0})):s.addEventListener("click",()=>e.togglePlay()),i.$.render(s,n)},qt=i.$.css(`
  display: none;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  color: #fff;
  font-size: 1em;
  background: #000;
  z-index: 99;
  align-items: center;
  padding: 0 10px;
  -moz-user-select: text;
  -webkit-user-select: text;
  -ms-user-select: text;
  user-select: text;
  word-break: break-all;
  justify-content: center;
`),$t=i.$.css("display: flex;"),jt={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"},Ht=(e,n,t)=>{if(t.errorBuilder){e.on("error",a=>{let v=a.payload;t.errorBuilder(v)});return}const s=i.$.create("div."+qt,{"aria-label":"Error Overlay"});e.on("error",a=>{var v;let m=a.payload,p=m.message;if(m instanceof Event){const g=(v=m.target)==null?void 0:v.error;if(!g||!g.message&&typeof g.code!="number")return;p=g.message||jt[g.code]}else p=m.message;s.innerText=p||"UNKNOWN_ERROR",Me(s,$t)}),e.on("videosourcechange",()=>{Be(s,$t),s.innerText=""}),i.$.render(s,n)},Ut=i.$.css({position:"absolute",top:"0",bottom:"0",left:"0",right:"0",display:"none","align-items":"center","justify-content":"center",["@global ."+z+" &"]:{display:"flex"}}),Nt=i.$.css({position:"relative",overflow:"hidden",width:"20%",height:"4px","border-radius":"4px","&::before,&::after":{display:"block",content:"''",position:"absolute",height:"100%",width:"100%","background-color":"var(--primary-color)","border-radius":"4px"},"&::before":{opacity:"0.4"},"&::after":{animation:"indeterminate 1.3s infinite linear","transform-origin":"0% 50%"},"@keyframes indeterminate":{"0%":{transform:"translateX(0) scaleX(0)"},"10%":{transform:"translateX(0) scaleX(0.2)"},"40%":{transform:"translateX(0) scaleX(0.7)"},"60%":{transform:"translateX(60%) scaleX(0.4)"},"100%":{transform:"translateX(100%) scaleX(0.2)"}}}),Wt=(e,n)=>{const t=i.$.create("div."+Ut,{"aria-label":"Loading"},""+(M.get("loadingIndicator")||'<div class="'+Nt+'"></div>'));i.$.render(t,n)},Gt=i.$.css({width:"100%",height:"100%",position:"absolute",top:"0",left:"0",right:"0",bottom:"0",["@global ."+N+" &"]:{"z-index":"98"}}),Xt=(e,n,t)=>{const s=i.$.create("div."+Gt);s.addEventListener("click",()=>{!$e(e)||Pe(e.$root,N)||(i.tq?t():e.togglePlay())}),i.$.render(s,n)},yt=e=>{const n=e.getAttribute("data-selected")=="true";e.setAttribute("data-selected",""+!n),Xe(e,t=>t.setAttribute("data-selected",""+n))},Yt=(e,n,t)=>{const s=[],a=n.querySelector("."+_).children[1];t&&t.forEach(m=>v(m)),a.addEventListener("click",m=>{var p,g;const b=m.target,c=b.getAttribute("aria-label"),w=s.find(E=>E.name==c);!w||b.getAttribute("data-selected")=="true"||(b.tagName.toUpperCase()=="SPAN"?(yt(b),(p=w.onChange)==null||p.call(w,w.children[+b.getAttribute("data-index")])):b.tagName.toUpperCase()=="BUTTON"&&((g=w.onClick)==null||g.call(w,b)))}),e.on("menubar:register",m=>{let p=m.payload;return v(p)}),e.on("menubar:unregister",m=>{var p,g;let b=m.payload;(p=a.querySelector("button[aria-label="+b.name+"]"))==null||p.remove(),(g=a.querySelector("div[aria-label="+b.name+"]"))==null||g.remove()}),e.on("menubar:select",m=>{let p=m.payload;yt(a.querySelector("."+r+" > span[aria-label="+p.name+"]:nth-child("+(p.index+1)+")"))});function v(m){const p=m.name,g=m.icon,b=m.children;let c="";const w=`
    <button
      aria-label="`+p+`"
      class="`+W+" "+(g?"":"--text")+`"
      type="button"
    >`+(g||p)+"</button>";m.children?c=`
      <div class="`+f+" "+h+'" aria-label="'+p+`">
        `+w+`
        <div class=`+r+`>
          `+b.map((E,O)=>`<span
                  aria-label=`+p+`
                  class=`+x+`
                  data-selected=`+Boolean(E.default)+`
                  data-index=`+O+`
                >`+E.name+"</span>").join("")+`
          </div>
      </div>`:c=w,s.push(m),a.insertAdjacentHTML("afterbegin",c)}},Kt=i.$.css(ee||(ee=X([`
  position: absolute;
  display: none;
  top: 10px;
  left: 10px;
  right: 10px;
  z-index: 99;
`]))),Et=i.$.css(`
  -moz-user-select: all;
  -webkit-user-select: all;
  -ms-user-select: all;
  user-select: all;
  color: #fff;
  background-color: var(--shadow-background-color);
  border-radius: 2px;
  padding: 5px 10px;
  font-size: 14px;
`),Qt=2e3,St=i.$.css("display:block;"),Zt=(e,n)=>{const t=i.$.create("div."+Kt,{"aria-label":"Notice"},'<span class="'+Et+'"></span>'),s=t.querySelector("."+Et),a=Ge(()=>Be(t,St),Qt),v=a.callee;function m(p){return function(){return p.apply(void 0,arguments),Me(t,St),v()}}["play","pause","enterFullscreen","exitFullscreen","enterPip","exitPip"].forEach(p=>{const g=e[p].bind(e);Object.defineProperty(e,p,{get:()=>function(){const b=g.apply(void 0,arguments);return b!=null&&b.catch?b.catch(c=>(m(()=>s.innerText=c.message)(),c)):b}})}),e.on("notice",m(p=>{s.innerText=p.payload.text})),i.$.render(t,n)},le=i.$.css("display: block;"),Jt=i.$.css({"z-index":"98","max-height":"75%","border-radius":"3px","font-size":"14px",display:"block",position:"absolute",right:"15px",bottom:"40px",overflow:"auto","-webkit-backdrop-filter":"saturate(180%) blur(20px)","backdrop-filter":"saturate(180%) blur(20px)","background-color":"rgb(0 0 0 / 70%)",fill:"#fff","&::-webkit-scrollbar":{width:"2px"},"&::-webkit-scrollbar-thumb":{background:"var(--primary-color)"},"& > div":{display:"none"},["& > div."+le]:{display:"block"}}),en=i.$.css("min-width: 220px;"),tn=i.$.css("min-width: 150px;"),kt=i.$.css(`
  display: none;
  width: 18px;
  height: 18px;
`),nn=i.$.css(`
  width: 30px;
  height: 30px;
  margin: 0 -10px 0 -5px;
`),sn=i.$.css(`
  width: 30px;
  height: 30px;
  transform: rotate(180deg);
  margin-left: -10px;
`),Lt=i.$.css({position:"absolute",cursor:"pointer",top:"0",left:"0",right:"0",bottom:"0","background-color":"#ccc",transition:".3s","border-radius":"34px","&:before":{position:"absolute",content:'""',height:"16px",width:"16px",left:"4px",bottom:"3px","background-color":"white",transition:".3s","border-radius":"50%"}}),on=i.$.css(`
  position: relative;
  width: 40px;
  height: 22px;
`),rn=i.$.css(`
  white-space: nowrap;
  color: rgba(255, 255, 255, 0.7);
  font-size: 12px
`),an=i.$.css({height:"35px",cursor:"pointer",color:"#fff","justify-content":"space-between","align-items":"center",padding:"0 10px","line-height":"1",display:"flex",overflow:"hidden","& > *":{"pointer-events":"none"},"&:hover":{"background-color":"rgba(255, 255, 255, 0.1)"},["&[data-selected='true']"]:{["& ."+kt]:{display:"block"},["&[data-index]"]:{"background-color":"rgba(255, 255, 255, 0.1)"},["& ."+Lt]:{"background-color":"var(--primary-color)","&:before":{transform:"translateX(16px)"}}}}),it=i.$.css({display:"flex","align-items":"center","margin-right":"10px","& > svg":{width:"22px","margin-right":"6px"}}),Tt=i.$.css(`
  display: flex;
  align-items: center;
`),ln=i.$.css({width:"100%",display:"flex","align-items":"center","border-bottom":"1px solid rgb(255 255 255 / 10%)"}),Pt=function(){return'<svg class="'+(arguments.length>0&&arguments[0]!==void 0?arguments[0]:nn)+'"  xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="m 12.59,20.34 4.58,-4.59 -4.58,-4.59 1.41,-1.41 6,6 -6,6 z" fill="#fff"></path></svg>'},cn=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return'<div class="'+it+`">
      `+n+`
      <span>`+e+`</span>
    </div>
    <svg class=`+kt+` xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 24 24">
      <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" fill="#fff"></path>
    </svg>
`},un=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return'<div class="'+it+`">
      `+n+`
      <span>`+e+`</span>
    </div>
    <div class=`+Tt+`>
      <span role="label" class=`+rn+`></span>
      `+Pt()+`
    </div>
`},dn=e=>'<div class="'+ln+`">
      `+Pt(sn)+`
      <span>`+e+`</span>
    </div>
`,hn=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return'<div class="'+it+`">
    `+n+`
    <span>`+e+`</span>
  </div>
  <div class=`+Tt+`>
    <label class=`+on+`>
      <span class=`+Lt+`></span>
    </label>
  </div>
`};function _t(e){let n=e.type,t=e.key,s=e.name,a=e.icon,v=e.default,m=e.index,p=i.$.create("div."+an,{"data-key":t});const g={$row:p,$label:void 0};switch(n){case"switcher":p.innerHTML=hn(s,a),p.setAttribute("data-selected",v||!1);break;case"selector":p.innerHTML=un(s,a),g.$label=p.querySelector('span[role="label"]');break;case"back":p.innerHTML=dn(s);break;default:p.innerHTML=cn(s,a),p.setAttribute("data-selected",v||!1),typeof m=="number"&&p.setAttribute("data-index",m.toString());break}return g}function ot(e,n,t){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!t||t.length==0)return;const a=s.isPatch,v=s.key,m=s.target,p=s.parent,g=s.isSelectorOptionsPanel,b=s.name;let c={},w=v||"root";a?(c=n[0],w=n[0].key):(c.$ref=i.$.create("div."+(n[0]&&g?tn:en),{"data-key":w}),c.key=w,n.push(c)),c.parent=p;const E=c.key=="root";if(!E){const O=_t({name:b,type:"back"}),F=O.$row;F.addEventListener("click",()=>{var H;c.$ref.classList.remove(le),(H=c.parent)==null||H.$ref.classList.add(le)}),i.$.render(F,c.$ref)}for(let O=0;O<t.length;O++){const F=t[O],H=F.name,S=F.type,T=F.key,$=F.children,y=F.icon,C=F.default,D=F.onChange,B=_t(Object.assign({name:H,type:S,key:T,icon:y,default:C},!E&&g&&{index:O})),ge=B.$row,ke=B.$label;if(i.$.render(ge,c.$ref),i.$.render(c.$ref,m),$){const te=S=="selector"&&$.every(fe=>!Boolean(fe.type)),re=ot(e,n,$,{key:T,target:m,parent:c,isSelectorOptionsPanel:te,name:S=="selector"?H:void 0});if(ge.addEventListener("click",()=>{c.$ref.classList.remove(le),re.$ref.classList.add(le)}),te){const fe=$.find(J=>J.default);fe&&(ke.innerText=fe.name),re.select=J=>{const at=re.$ref.children[J+1];if(at.getAttribute("data-selected")!="true"){at.setAttribute("data-selected","true"),Xe(at,Ot=>{Ot.hasAttribute("data-selected")&&Ot.setAttribute("data-selected","false")});const At=$[J];ke.innerText=At.name,D==null||D(At,{index:J})}c.$ref.classList.add(le),re.$ref.classList.remove(le)},re.$ref.addEventListener("click",J=>{re.select(+J.target.getAttribute("data-index"))})}}else S=="switcher"&&ge.addEventListener("click",function(){const te=this.getAttribute("data-selected")=="true";this.setAttribute("data-selected",""+!te),D==null||D(!te)})}return c}function gn(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const s=i.$.create("div."+Jt);let a=[],v=null,m=!1;const p=[{name:e.locales.get("Loop"),type:"switcher",key:"loop",icon:M.get("loop"),default:e.isLoop,onChange:b=>e.setLoop(b)}].concat(t);ot(e,a,p,{target:s}),a[0].onHide=()=>{m=!1,e.$root.classList.remove(N)},e.on("addsetting",b=>{let c=b.payload;ot(e,a,Array.isArray(c)?c:[c],{isPatch:!0,target:s})}),e.on("updatesettinglabel",b=>{let c=b.payload;const w=s.querySelector('[data-key="'+c.key+'"] span[role="label"]');w&&(w.innerText=c.name)}),e.on("selectsetting",b=>{var c;let w=b.payload;const E=w.key,O=w.value,F=w.shouldBeCallFn,H=F===void 0?!0:F;if(typeof O=="number")for(let S=0;S<a.length;S++){const T=a[S];if(T.key==E){H&&T.select(O);break}}else(c=s.querySelector('[data-key="'+E+'"][data-selected]'))==null||c.click()}),e.on("removesetting",b=>{var c;let w=b.payload;(c=a[0].$ref.querySelector("[data-key="+w+"]"))==null||c.remove(),a=a.filter(E=>E.key===w?(E.$ref.remove(),E=null,!1):!0)}),e.on("settingvisibilitychange",b=>{v=b.payload.target,m=e.$root.classList.toggle(N),m?a[0].$ref.classList.toggle(le):a.forEach(w=>w.$ref.classList.remove(le))});function g(b){v!=b.target&&b.target!=s&&!s.contains(b.target)&&(m=!1,e.$root.classList.remove(N),a.forEach(c=>c.$ref.classList.remove(le)))}document.addEventListener("click",g),e.on("destroy",()=>document.removeEventListener("click",g)),i.$.render(s,n)}function fn(e){return e.replace(/(\d\d:\d\d:\d\d)[,.](\d+)/g,(n,t,s)=>{let a=s.slice(0,3);return s.length===1&&(a=s+"00"),s.length===2&&(a=s+"0"),t+","+a})}function pn(e){return`WEBVTT \r
\r
`.concat(fn(e).replace(/\{\\([ibu])\}/g,"</$1>").replace(/\{\\([ibu])1\}/g,"<$1>").replace(/\{([ibu])\}/g,"<$1>").replace(/\{\/([ibu])\}/g,"</$1>").replace(/(\d\d:\d\d:\d\d),(\d\d\d)/g,"$1.$2").replace(/{[\s\S]*?}/g,"").concat(`\r
\r
`))}function rt(e){return URL.createObjectURL(new Blob([e],{type:"text/vtt"}))}function Ct(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split(/[:.]/).map((n,t,s)=>{if(t===s.length-1){if(n.length===1)return"."+n+"00";if(n.length===2)return"."+n+"0"}else if(n.length===1)return(t===0?"0":":0")+n;return t===0?n:t===s.length-1?"."+n:":"+n}).join("")}function vn(e){const n=new RegExp("Dialogue:\\s\\d,(\\d+:\\d\\d:\\d\\d.\\d\\d),(\\d+:\\d\\d:\\d\\d.\\d\\d),([^,]*),([^,]*),(?:[^,]*,){4}([\\s\\S]*)$","i");return`WEBVTT

`+e.split(/\r?\n/).map(t=>{const s=t.match(n);return s?{start:Ct(s[1].trim()),end:Ct(s[2].trim()),text:s[5].replace(/{[\s\S]*?}/g,"").replace(/(\\N)/g,`
`).trim().split(/\r?\n/).map(a=>a.trim()).join(`
`)}:null}).filter(t=>t).map((t,s)=>t?s+1+`
`+t.start+" --> "+t.end+`
`+t.text:"").filter(t=>t.trim()).join(`

`)}function mn(e,n,t){new bn(e,n,t)}class bn{constructor(n,t,s){if(ne(this,"options"),ne(this,"$track"),ne(this,"$iosTrack"),ne(this,"$dom"),ne(this,"isShow",!1),ne(this,"currentSubtitle"),ne(this,"update",a=>{var v,m;const p=this.$dom,b=(v=this.player.$video.textTracks[0])==null?void 0:v.activeCues;if(b!=null&&b.length){let c="";for(let w=0;w<b.length;w++){const E=b[w];E&&(c+=(m=E.text)==null?void 0:m.split(/\r?\n/).map(O=>"<p>"+O+"</p>").join(""))}p.innerHTML=c}else p.innerHTML=""}),this.player=n,this.el=t,!window.TextDecoder){n.emit("notice",{text:n.locales.get("TextDecoder not supported")});return}this.options=s||{source:[]},this.processDefault(),this.createContainer(),this.initEvents(),this.loadSetting(),this.load()}processDefault(){this.currentSubtitle=xn(this.options.source)}createContainer(){var n,t;const s=this.el,a=this.options;this.$dom=i.$.create("div."+i.$.css({color:(n=a.color)!=null?n:"#fff",left:"2%",right:"2%","text-align":"center","pointer-events":"none","text-shadow":"1px 0 1px #000, 0 1px 1px #000, -1px 0 1px #000, 0 -1px 1px #000, 1px 1px 1px #000, -1px -1px 1px #000, 1px -1px 1px #000, -1px 1px 1px #000",position:"absolute",bottom:""+((t=a.bottom)!=null?t:"5%"),"line-height":"1.2","font-size":(a.fontSize||(i.tq?14:16))+"px","& > p":{margin:0}})),i.$.render(this.$dom,s)}createTrack(){this.$track=i.$.render(i.$.create("track",{default:!0,kind:"metadata"}),this.player.$video),i.gn&&(this.$iosTrack=i.$.render(i.$.create("track",{default:!1,kind:"captions"}),this.player.$video),this.player.$video.textTracks[1].mode="hidden",this.player.on("fullscreenchange",n=>{n.payload.isWeb||(this.player.isFullScreen?this.isShow&&(this.player.$video.textTracks[1].mode="showing"):this.player.$video.textTracks[1].mode="hidden")}))}initEvents(){this.player.on(["destroy","videosourcechange"],this.destroy.bind(this)),this.player.on("subtitlechange",n=>{let t=n.payload;this.destroy(),this.options.source=t,this.processDefault(),this.loadSetting(),this.load()})}load(){!this.currentSubtitle||(this.$track||this.createTrack(),this.loadSubtitle().then(()=>this.show()).catch(n=>{this.player.emit("notice",{text:n.message})}))}destroy(){const n=this.player,t=this.$dom,s=this.$track,a=this.$iosTrack;s==null||s.removeEventListener("cuechange",this.update),t.innerHTML="",n.emit("removesetting",Dt),s!=null&&s.src&&URL.revokeObjectURL(s.src),a!=null&&a.src&&URL.revokeObjectURL(a.src),s==null||s.remove(),a==null||a.remove()}show(){this.isShow=!0,this.$track.addEventListener("cuechange",this.update)}hide(){const n=this.$track,t=this.$dom;this.isShow=!1,t.innerHTML="",n.removeEventListener("cuechange",this.update)}loadSubtitle(){const n=this.currentSubtitle,t=this.player,s=this.$track,a=this.$iosTrack,v=n.src,m=n.encoding,p=n.type;return fetch(v).then(g=>g.arrayBuffer()).then(g=>{const c=new TextDecoder(m).decode(g);switch(p==null||p=="auto"?new URL(v).pathname.split(".")[1]:p){case"srt":return rt(pn(c));case"ass":return rt(vn(c));case"vtt":return rt(c);default:return v}}).then(g=>{s!=null&&s.src&&URL.revokeObjectURL(s.src),s.src=g,a&&(a.src&&URL.revokeObjectURL(a.src),a.src=g)}).catch(g=>{t.emit("notice",{text:"Subtitle"+g.message})})}loadSetting(){const n=this.options.source;n.length&&this.player.emit("addsetting",{name:this.player.locales.get("Subtitle"),type:"selector",icon:M.get("subtitle"),key:Dt,onChange:t=>{let s=t.value;s?(this.currentSubtitle=s,this.load()):this.hide()},children:[{name:this.player.locales.get("OFF"),default:!this.currentSubtitle}].concat(n==null?void 0:n.map(t=>{var s;return{name:t.name,default:((s=this.currentSubtitle)==null?void 0:s.src)==t.src,value:t}}))})}}const Dt="Subtitle";function xn(e){return e.find(n=>n.default)}const wn=(e,n)=>{if(e.evil()){wt(e,e.$root);return}Ue(e),ze(e),Ne(e),i.tq||(we(e,n.autoFocus),pt(e)),M.setupIcons(e,n.icons);const t=document.createDocumentFragment(),s=i.$.create("div."+Q(n.theme));Ht(e,t,n),Zt(e,t),Wt(e,t),wt(e,t),Xt(e,t,Vt(e,t,n)),gn(e,t,n.settings),Yt(e,t,n.menu),vt(e,n.speed),mn(e,t,n.subtitle),i.$.render(t,s),i.$.render(s,e.$root)},$n={theme:{primaryColor:"#6668ab"},hotkey:!0,speed:["2.0","1.75","1.25","1.0","0.75","0.5"],fullscreen:!0,pictureInPicture:!0,miniProgressBar:!0},yn=e=>({name:"oplayer-theme-ui",apply:n=>wn(n,Object.assign($n,e))})}}]);
