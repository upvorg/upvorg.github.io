(self.webpackChunk_web_index=self.webpackChunk_web_index||[]).push([[176],{7645:function(T,S,l){"use strict";l.d(S,{Om:function(){return Z},PX:function(){return Q},in:function(){return q}});var n=Object.defineProperty,o=Object.defineProperties,C=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,B=(p,d,g)=>d in p?n(p,d,{enumerable:!0,configurable:!0,writable:!0,value:g}):p[d]=g,P=(p,d)=>{for(var g in d||(d={}))w.call(d,g)&&B(p,g,d[g]);if(x)for(var g of x(d))O.call(d,g)&&B(p,g,d[g]);return p},H=(p,d)=>o(p,C(d));const Z=p=>{var d,g,M,U,W,G;return p.anime||(p.anime=p),H(P({},p),{enime:!0,ID:(d=p.anime)==null?void 0:d.slug,Cover:((g=p.anime)==null?void 0:g.coverImage)||"",Title:((M=p.anime)==null?void 0:M.title.native)||"",Content:p.description||"",Tags:"\u5176\u4ED6",Type:"video",CreatedAt:p.createdAt,UpdatedAt:p.updatedAt,Meta:{TitleJapanese:"",TitleRomanji:"",Genre:(U=p.genre)==null?void 0:U.toString(),Region:"enime",Episodes:13,IsEnd:2,PublishDate:"2015-01-01T08:00:00+08:00",UpdatedDate:null},Creator:{ID:1,Name:"enime.moe",Nickname:"enime",Avatar:"https://q1.qlogo.cn/g?b=qq&nk=7619376472&s=640",Bio:"\u8FD9\u4E2A\u4EBA\u5F88\u9177\uFF0C\u4EC0\u4E48\u90FD\u6CA1\u6709\u7559\u4E0B"},episodes:(G=(W=p.anime)==null?void 0:W.episodes)==null?void 0:G.map(E=>{var J;return{ID:E.id,Episode:E.number,Cover:E.image,Title:E.title,TitleJapanese:"",TitleRomanji:"",VideoUrl:"",Synopsis:"",Uid:1,Pid:(J=p.anime)==null?void 0:J.slug,CreatedAt:E.airedAt||E.createdAt,UpdatedAt:E.updatedAt}})})},Q=(p=[])=>p.map(Z),q=(p=[])=>p.map(d=>{var g;return H(P({},d),{enime:!0,ID:d==null?void 0:d.slug,Cover:(d==null?void 0:d.coverImage)||"",Title:(d==null?void 0:d.title.native)||"",Content:d.description||"",Tags:"\u5176\u4ED6",Type:"video",CreatedAt:d.createdAt,UpdatedAt:d.updatedAt,Meta:{TitleJapanese:"",TitleRomanji:"",Genre:(g=d.genre)==null?void 0:g.toString(),Region:"enime",Episodes:13,IsEnd:2,PublishDate:"2015-01-01T08:00:00+08:00",UpdatedDate:null},Creator:{ID:1,Name:"enime.moe",Nickname:"enime",Avatar:"https://q1.qlogo.cn/g?b=qq&nk=7619376472&s=640",Bio:"\u8FD9\u4E2A\u4EBA\u5F88\u9177\uFF0C\u4EC0\u4E48\u90FD\u6CA1\u6709\u7559\u4E0B"}})})},2049:function(T,S,l){"use strict";l.r(S),l.d(S,{default:function(){return pt}});var n=l(1897),o=l(5637),C=l(2892),x=l(6541),w=l(32),O=l(2317),B=l(4115),P=l(7424);const H=30;class Z{constructor(){this.name="anime4k.js"}apply(t){if(x.tq)return;const{context:a,$video:r,$root:s}=this.player=t,i=!!+(localStorage.getItem("anime4k")||0),m=h=>{var b;if(!this.anime4kUpscaler&&h){const j=document.createElement("canvas");j.style.cssText="width:100%;height:100%;position:absolute;left:0;top:0;",s.insertBefore(j,a.ui.$root),this.anime4kUpscaler=new P.VideoUpscaler(H,P.ANIME4KJS_SIMPLE_M_2X),this.anime4kUpscaler.attachVideo(this.player.$video,j)}localStorage.setItem("anime4k",Number(h).toString()),h?this.anime4kUpscaler.start():(b=this.anime4kUpscaler)==null||b.stop()};a.ui.setting.register({name:"Anime4k",type:"switcher",key:"anime4k",icon:'<span style="margin: 0 .7em 0 .2em;">4K</span>',default:i,onChange:m}),i&&r.addEventListener("loadeddata",()=>{m(!0)},{once:!0})}destroy(){var t,a;(t=this.anime4kUpscaler)==null||t.stop(),(a=this.anime4kUpscaler)==null||a.detachVideo(),this.player=this.anime4kUpscaler=void 0}}var Q=Object.defineProperty,q=Object.defineProperties,p=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,U=(e,t,a)=>t in e?Q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,W=(e,t)=>{for(var a in t||(t={}))g.call(t,a)&&U(e,a,t[a]);if(d)for(var a of d(t))M.call(t,a)&&U(e,a,t[a]);return e},G=(e,t)=>q(e,p(t)),E=(e,t)=>{var a={};for(var r in e)g.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&d)for(var r of d(e))t.indexOf(r)<0&&M.call(e,r)&&(a[r]=e[r]);return a};const J=[(0,B.Z)({screenshot:!0,topSetting:x.tq,slideToSeek:"always",keyboard:{global:!0},controlBar:{back:"fullscreen"},subtitle:{background:!0,shadow:"none"},icons:{loadingIndicator:`<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" fill="none" data-spinner="true" class="spinner">
      <circle data-spinner-trace="true" cx="24" cy="24" r="22" stroke="white"></circle>
      <circle data-spinner-circle="true" cx="24" cy="24" r="22" stroke="white"></circle>
      </svg>`}}),(0,w.Z)({forceHLS:!0}),new Z];var Pe=o.forwardRef((e,t)=>{var a=e,{playerIsPlaying:r,duration:s,onEvent:i,autoplay:m}=a,h=E(a,["playerIsPlaying","duration","onEvent","autoplay"]);const b=(0,o.useRef)(null);return(0,o.useImperativeHandle)(t,()=>b.current),o.createElement(O.ZP,G(W({ref:b},h),{plugins:J,onEvent:i,autoplay:m,duration:s,playing:r}))}),$=l(4046),K=l(1067),Ee=l(3539),_=l.n(Ee),Ne=l(4784);const le="@player/";function Se(e){const t=(0,o.useMemo)(()=>{const m=new URLSearchParams(window.location.search),h={id:e,duration:0,episode:m.has("v")?+m.get("v")-1:0,time:0};return m.has("v")?h:JSON.parse(localStorage.getItem(le+e)||"null")||h},[]),[a,r]=(0,o.useState)(t.episode),s=(0,o.useCallback)(m=>{localStorage.setItem(le+e,JSON.stringify(m))},[]),i=(0,o.useCallback)((m,h,b)=>{const j=h==a;s({id:m,episode:h,duration:b,time:Date.now()}),j||r(h)},[a]);return[a,t.duration,i]}var Ie=l(4361),Ae=l(495),Le=l(6935),De=l(1686),Fe=l(2527),Nt={};function ke({post:e,show:t,onChange:a}){const{Title:r,Content:s,IsOriginal:i,Tags:m}=e,{Region:h,Genre:b,IsEnd:j,UpdatedDate:V,PublishDate:F}=e.Meta||{};return(0,n.jsxs)("div",{className:_()("PlayerInfo modal",{"is-active":t}),children:[(0,n.jsx)("div",{className:"modal-background",onClick:()=>a(!1)}),(0,n.jsxs)("div",{className:"modal-card",children:[(0,n.jsx)("button",{className:"delete","aria-label":"close",onClick:()=>a(!1)}),(0,n.jsxs)("section",{className:"modal-card-body",children:[(0,n.jsxs)("div",{className:"post-head",children:[(0,n.jsx)("div",{children:(0,n.jsx)(De.Z,{ratio:3/4,mw:"200px",children:(0,n.jsx)("img",{src:e.Cover,alt:e.Title})})}),(0,n.jsxs)("div",{className:"post-info",children:[(0,n.jsx)("h3",{className:"title",children:r}),(0,n.jsxs)("div",{className:"post-info-item is-h",children:[(0,n.jsxs)("div",{className:"post-info-item",children:[(0,n.jsx)("label",{className:"name",children:"\u5730\u533A"}),(0,n.jsx)("div",{className:"body",children:h||"-"})]}),(0,n.jsxs)("div",{className:"post-info-item",children:[(0,n.jsx)("label",{className:"name",children:"\u7C7B\u578B"}),(0,n.jsx)("div",{className:"body",children:b})]})]}),(0,n.jsxs)("div",{className:"post-info-item is-h",children:[(0,n.jsxs)("div",{className:"post-info-item",children:[(0,n.jsx)("label",{className:"name",children:"\u5E74\u4EFD"}),(0,n.jsx)("div",{className:"body",children:F&&new Date(F).getFullYear()+" \u5E74"||"-"})]}),(0,n.jsxs)("div",{className:"post-info-item",children:[(0,n.jsx)("label",{className:"name",children:"\u5B8C\u7ED3"}),(0,n.jsx)("div",{className:"body",children:j==2?"\u662F":"\u5426"})]})]}),(0,n.jsxs)("div",{className:"post-info-item",children:[(0,n.jsx)("label",{className:"name",children:"\u66F4\u65B0"}),(0,n.jsx)("div",{className:"body",children:V&&`\u6BCF${$.zA[new Date(V).getDay()]} ${new Date(V).getHours()} \u70B9\u66F4\u65B0`||"-"})]}),(0,n.jsxs)("div",{className:"post-info-item tags",children:[i==2&&(0,n.jsx)("div",{className:"body tag is-primary is-light",children:"\u539F\u521B"}),m&&m.split(" ").map(y=>(0,n.jsx)("div",{className:"body tag is-primary is-light",children:y},y))]})]})]}),(0,n.jsx)(Fe.U,{type:"render",value:s||"#### \u6682\u65E0\u8BE6\u60C5"})]})]})]})}var Te=l(7645),ce,Be=["title","titleId"];function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ee.apply(this,arguments)}function Re(e,t){if(e==null)return{};var a=Me(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Me(e,t){if(e==null)return{};var a={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(a[s]=e[s]);return a}var Ue=function(t,a){var r=t.title,s=t.titleId,i=Re(t,Be);return o.createElement("svg",ee({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",ref:a,"aria-labelledby":s},i),r?o.createElement("title",{id:s},r):null,ce||(ce=o.createElement("path",{d:"M279.6 160.4C282.4 160.1 285.2 160 288 160C341 160 384 202.1 384 256C384 309 341 352 288 352C234.1 352 192 309 192 256C192 253.2 192.1 250.4 192.4 247.6C201.7 252.1 212.5 256 224 256C259.3 256 288 227.3 288 192C288 180.5 284.1 169.7 279.6 160.4zM480.6 112.6C527.4 156 558.7 207.1 573.5 243.7C576.8 251.6 576.8 260.4 573.5 268.3C558.7 304 527.4 355.1 480.6 399.4C433.5 443.2 368.8 480 288 480C207.2 480 142.5 443.2 95.42 399.4C48.62 355.1 17.34 304 2.461 268.3C-.8205 260.4-.8205 251.6 2.461 243.7C17.34 207.1 48.62 156 95.42 112.6C142.5 68.84 207.2 32 288 32C368.8 32 433.5 68.84 480.6 112.6V112.6zM288 112C208.5 112 144 176.5 144 256C144 335.5 208.5 400 288 400C367.5 400 432 335.5 432 256C432 176.5 367.5 112 288 112z"})))},$e=(0,o.forwardRef)(Ue),St=l.p+"static/media/fa-eye.6081475b9bda458f2aa19687000650a7.svg",de,_e=["title","titleId"];function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},te.apply(this,arguments)}function Ve(e,t){if(e==null)return{};var a=ze(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ze(e,t){if(e==null)return{};var a={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(a[s]=e[s]);return a}var He=function(t,a){var r=t.title,s=t.titleId,i=Ve(t,_e);return o.createElement("svg",te({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:a,"aria-labelledby":s},i),r?o.createElement("title",{id:s},r):null,de||(de=o.createElement("path",{d:"M0 190.9V185.1C0 115.2 50.52 55.58 119.4 44.1C164.1 36.51 211.4 51.37 244 84.02L256 96L267.1 84.02C300.6 51.37 347 36.51 392.6 44.1C461.5 55.58 512 115.2 512 185.1V190.9C512 232.4 494.8 272.1 464.4 300.4L283.7 469.1C276.2 476.1 266.3 480 256 480C245.7 480 235.8 476.1 228.3 469.1L47.59 300.4C17.23 272.1 .0003 232.4 .0003 190.9L0 190.9z"})))},Ze=(0,o.forwardRef)(He),It=l.p+"static/media/fa-heart.877791eb3fcf005481f684a0ecd27643.svg",ue,We=["title","titleId"];function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ae.apply(this,arguments)}function Ge(e,t){if(e==null)return{};var a=Je(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Je(e,t){if(e==null)return{};var a={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(a[s]=e[s]);return a}var Ke=function(t,a){var r=t.title,s=t.titleId,i=Ge(t,We);return o.createElement("svg",ae({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:a,"aria-labelledby":s},i),r?o.createElement("title",{id:s},r):null,ue||(ue=o.createElement("path",{d:"M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 128c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S224 177.7 224 160C224 142.3 238.3 128 256 128zM296 384h-80C202.8 384 192 373.3 192 360s10.75-24 24-24h16v-64H224c-13.25 0-24-10.75-24-24S210.8 224 224 224h32c13.25 0 24 10.75 24 24v88h16c13.25 0 24 10.75 24 24S309.3 384 296 384z"})))},Ye=(0,o.forwardRef)(Ke),At=l.p+"static/media/fa-info-circle.98be1242692ee31e98b17205bb5c9aaa.svg",pe,Xe=["title","titleId"];function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ne.apply(this,arguments)}function Qe(e,t){if(e==null)return{};var a=qe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qe(e,t){if(e==null)return{};var a={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(a[s]=e[s]);return a}var et=function(t,a){var r=t.title,s=t.titleId,i=Qe(t,Xe);return o.createElement("svg",ne({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:a,"aria-labelledby":s},i),r?o.createElement("title",{id:s},r):null,pe||(pe=o.createElement("path",{d:"M511.1 63.1v287.1c0 35.25-28.75 63.1-64 63.1h-144l-124.9 93.68c-7.875 5.75-19.12 .0497-19.12-9.7v-83.98h-96c-35.25 0-64-28.75-64-63.1V63.1c0-35.25 28.75-63.1 64-63.1h384C483.2 0 511.1 28.75 511.1 63.1z"})))},tt=(0,o.forwardRef)(et),Lt=l.p+"static/media/fa-message.2c4915772cd73f0e62933b66ee503fde.svg",fe,at=["title","titleId"];function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},re.apply(this,arguments)}function nt(e,t){if(e==null)return{};var a=rt(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rt(e,t){if(e==null)return{};var a={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(a[s]=e[s]);return a}var st=function(t,a){var r=t.title,s=t.titleId,i=nt(t,at);return o.createElement("svg",re({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",ref:a,"aria-labelledby":s},i),r?o.createElement("title",{id:s},r):null,fe||(fe=o.createElement("path",{d:"M381.2 150.3L524.9 171.5C536.8 173.2 546.8 181.6 550.6 193.1C554.4 204.7 551.3 217.3 542.7 225.9L438.5 328.1L463.1 474.7C465.1 486.7 460.2 498.9 450.2 506C440.3 513.1 427.2 514 416.5 508.3L288.1 439.8L159.8 508.3C149 514 135.9 513.1 126 506C116.1 498.9 111.1 486.7 113.2 474.7L137.8 328.1L33.58 225.9C24.97 217.3 21.91 204.7 25.69 193.1C29.46 181.6 39.43 173.2 51.42 171.5L195 150.3L259.4 17.97C264.7 6.954 275.9-.0391 288.1-.0391C300.4-.0391 311.6 6.954 316.9 17.97L381.2 150.3z"})))},it=(0,o.forwardRef)(st),Dt=l.p+"static/media/fa-star.6b2027c0ff37a21f8f9b4ce362121a79.svg",Ft={},ot=Object.defineProperty,lt=Object.defineProperties,ct=Object.getOwnPropertyDescriptors,ve=Object.getOwnPropertySymbols,dt=Object.prototype.hasOwnProperty,ut=Object.prototype.propertyIsEnumerable,me=(e,t,a)=>t in e?ot(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,I=(e,t)=>{for(var a in t||(t={}))dt.call(t,a)&&me(e,a,t[a]);if(ve)for(var a of ve(t))ut.call(t,a)&&me(e,a,t[a]);return e},A=(e,t)=>lt(e,ct(t));function pt({id:e}){var t,a;const[r,s]=(0,o.useState)(!1),[i,m]=(0,o.useState)(!1),[h,b]=(0,o.useState)(!1),[j,V,F]=Se(e),[y,L]=(0,o.useState)({}),[D,he]=(0,o.useState)([]),N=(0,o.useRef)(null),[ge,ft]=(0,o.useState)(!1),[vt,je]=(0,o.useState)({poster:"https://api.imlazy.ink/img",title:"LOADING ..."}),[mt,ht]=(0,o.useState)(!0);(0,o.useEffect)(()=>{l(4953)(`./${e}.json`).catch(()=>{throw ft(!0),new Error("")}).then(c=>{if(!c.data||c.data.Type!=="video"){K.ZP.error("\u89C6\u9891\u4E0D\u89C1\u4E86",{duration:9e4});return}c.err||(c.data&&L(c.data),c.data.IsLiked==2&&m(!0),c.data.IsCollected==2&&b(!0),l(2341)(`./${e}.json`).then(u=>{u.data.sort((f,v)=>f.Episode-v.Episode),u.data&&he(u.data),u.data.length<=j&&F(e,0,0)}))})},[]),(0,o.useEffect)(()=>{var c;(c=D[j])!=null&&c.VideoUrl&&je({title:D[j].Title||y.Title,src:D[j].VideoUrl,format:e=="iptv"?"m3u8":"auto",poster:"https://api.imlazy.ink/img"})},[y,j,D]),(0,o.useEffect)(()=>{var c,u;if(!ge)return;(u=(c=N.current)==null?void 0:c.context.ui)==null||u.menu.unregister("Source");const f=fetch(`https://api.enime.moe/view/${e}/${j+1}`).then(v=>v.json()).then(Te.Om).then(v=>{var be,Ce;L(v),he(v.episodes);function Oe({id:k,url:z}){return fetch(`https://api.enime.moe/source/${k}`).then(R=>R.json()).then(R=>{var we;if(R.subtitle){let oe=function(){N.current.context.ui.subtitle.updateSource([{default:!0,src:R.subtitle,name:"English"}])};var kt=oe;N.current.once("loadedmetadata",oe),N.current.once("videosourcechange",()=>{N.current.off("loadedmetadata",oe)})}return A(I({},R),{title:v.title||v.Title,poster:y.image||((we=y.anime)==null?void 0:we.coverImage),src:`https://cdn.nade.me/redirect?url=${R.url}`})})}const ie=v.sources.length-1;return v.sources.length>1&&((Ce=(be=N.current)==null?void 0:be.context.ui)==null||Ce.menu.register({name:"Source",position:x.tq?"top":"bottom",icon:'<svg viewBox="0 0 1024 1024" style="transform: scale(0.9);"><path d="M554.666667 597.333333c-143.36 0-190.293333 57.6-205.653334 95.573334C394.666667 712.533333 426.666667 757.76 426.666667 810.666667a128 128 0 0 1-128 128 128 128 0 0 1-128-128c0-55.893333 35.413333-103.253333 85.333333-120.746667V334.08A127.573333 127.573333 0 0 1 170.666667 213.333333a128 128 0 0 1 128-128 128 128 0 0 1 128 128c0 55.893333-35.413333 103.253333-85.333334 120.746667v225.706667c37.546667-27.733333 92.16-47.786667 170.666667-47.786667 113.92 0 151.893333-57.173333 164.266667-95.146667A128.256 128.256 0 0 1 597.333333 298.666667a128 128 0 0 1 128-128 128 128 0 0 1 128 128c0 57.173333-37.546667 106.666667-89.173333 122.026666C753.066667 481.706667 711.68 597.333333 554.666667 597.333333m-256 170.666667a42.666667 42.666667 0 0 0-42.666667 42.666667 42.666667 42.666667 0 0 0 42.666667 42.666666 42.666667 42.666667 0 0 0 42.666666-42.666666 42.666667 42.666667 0 0 0-42.666666-42.666667M298.666667 170.666667a42.666667 42.666667 0 0 0-42.666667 42.666666 42.666667 42.666667 0 0 0 42.666667 42.666667 42.666667 42.666667 0 0 0 42.666666-42.666667 42.666667 42.666667 0 0 0-42.666666-42.666666m426.666666 85.333333a42.666667 42.666667 0 0 0-42.666666 42.666667 42.666667 42.666667 0 0 0 42.666666 42.666666 42.666667 42.666667 0 0 0 42.666667-42.666666 42.666667 42.666667 0 0 0-42.666667-42.666667z" fill="#ffffff" p-id="7015"></path></svg>',children:v.sources.map((k,z)=>({name:k.url.includes("zoro")?"ZORO":"GOGO",default:z==ie,value:{id:k.id,url:k.url}})),onChange({value:k}){var z;(z=N.current)==null||z.changeSource(Oe(k))}})),Oe({id:v.sources[ie].id,url:v.sources[ie].url})});je(f)},[ge,j]),(0,o.useEffect)(()=>{var c;x.tq||(c=N.current)==null||c.context.ui.menu.register({name:"Toggle Ep-Bar",position:"top",icon:'<svg style="transform: scale(1.2);" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M288 416v320h448V416H288z m0-64h448V288H288v64zM256 224h512a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H256a32 32 0 0 1-32-32V256a32 32 0 0 1 32-32z m384 224a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0v-192a32 32 0 0 1 32-32z"></path></svg>',onClick(u){ht(f=>(f?u.style.opacity="0.4":u.style.opacity="1",!f))}})},[]);const gt=(0,o.useCallback)(()=>{const c=i?-1:1,u=y.LikesCount||0;m(f=>!f),L(f=>A(I({},f),{LikesCount:u+c})),(i?$.od.delete(`/like/post/${e}`):$.od.post(`/like/post/${e}`)).then(f=>{f.err?(m(v=>!v),L(v=>A(I({},v),{LikesCount:v.LikesCount-c}))):i?K.ZP.error(`\u4F60\u6240\u70ED\u7231\u7684\uFF0C\u5C31\u662F\u4F60\u7684\u751F\u6D3B\u3002\r
 				--------?`):K.ZP.success("nice!")}).catch(()=>{setTimeout(()=>{m(f=>!f),L(f=>A(I({},f),{LikesCount:f.LikesCount-c}))},300)})},[y,i]),jt=(0,o.useCallback)(()=>{const c=h?-1:1;b(u=>!u),L(u=>A(I({},u),{CollectionCount:u.CollectionCount+c})),(h?$.od.delete(`/collect/post/${e}`):$.od.post(`/collect/post/${e}`)).then(u=>{u.err?(b(f=>!f),L(f=>A(I({},f),{CollectionCount:f.CollectionCount-c}))):h||K.ZP.success("nice!")}).catch(()=>{setTimeout(()=>{b(u=>!u),L(u=>A(I({},u),{CollectionCount:u.CollectionCount-1}))},300)})},[y,h]),yt=({type:c,payload:u})=>{var f;console.log({type:c,payload:u});const v=(f=u==null?void 0:u.target)==null?void 0:f.currentTime;c=="timeupdate"?v<1||F(e,j,v*1e3):c=="ended"&&F(e,j+1,0)},{Title:se,Creator:Y,Tags:X,IsOriginal:xt,Hits:bt,CommentCount:Ct,LikesCount:Ot,CollectionCount:wt,Content:ye,Meta:xe,Cover:Pt}=y;return(0,n.jsxs)("div",{className:_()("player",{"no-side":!mt}),children:[(0,n.jsxs)(Ne.q,{children:[(0,n.jsx)("title",{children:`${se||""} - UPV - free animes no ads`}),(0,n.jsx)("meta",{name:"description",content:ye==null?void 0:ye.substring(0,200)}),(0,n.jsx)("meta",{name:"keywords",content:`${se},${xe==null?void 0:xe.Genre},${X==null?void 0:X.split(" ")}`}),(0,n.jsx)("meta",{name:"author",content:Y==null?void 0:Y.Nickname}),(0,n.jsx)("meta",{property:"og:title",content:`${se} - UPV - free animes no ads`}),(0,n.jsx)("meta",{property:"og:type",content:"video"}),(0,n.jsx)("meta",{property:"og:image",content:Pt}),(0,n.jsx)("meta",{property:"og:url",content:location.origin+location.pathname})]}),(0,n.jsxs)("div",{className:"player-header",children:[(0,n.jsx)("div",{className:"player-header__player",children:(0,n.jsx)(Pe,{ref:N,autoplay:!0,source:vt,onEvent:yt,duration:V,isLive:e=="iptv"})}),(0,n.jsx)("div",{className:"player-header__r",children:(0,n.jsxs)("div",{className:"eplist_module",children:[(0,n.jsxs)("div",{className:"list-title",children:[(0,n.jsx)("h4",{children:"\u64AD\u653E\u5217\u8868"}),(0,n.jsxs)("span",{className:"ep-list-progress",children:[D.length>0?j+1:0,"/",D.length]})]}),(0,n.jsx)("div",{className:"list-wrapper",children:D.length>0?(0,n.jsx)("ul",{children:D.map((c,u)=>(0,n.jsx)("a",{children:(0,n.jsx)("li",A(I({className:_()("list-item has-tooltip-bottom",{cursor:u===j}),onClick:()=>F(e,u,0),title:c.Title},c.Title&&{"data-tooltip":c.Title}),{children:(0,n.jsxs)("span",{children:[" ",c.Episode]})}))},u))}):(0,n.jsx)("span",{className:"empty",children:"\u6682\u65E0\u89C6\u9891"})})]})})]}),(0,n.jsxs)("div",{className:"video-actions",children:[(0,n.jsxs)("div",{className:"icon-text",children:[(0,n.jsx)("span",{className:"icon",children:(0,n.jsx)($e,{})}),(0,n.jsx)("span",{className:"text",children:bt||"-"})]}),(0,n.jsxs)("div",{className:"icon-text",children:[(0,n.jsx)("span",{className:"icon",children:(0,n.jsx)(tt,{})}),(0,n.jsx)("span",{className:"text",children:Ct||"-"})]}),(0,n.jsxs)("div",{className:_()("icon-text",{"--active":i}),onClick:gt,children:[(0,n.jsx)("span",{className:"icon",children:(0,n.jsx)(Ze,{})}),(0,n.jsx)("span",{className:"text",children:Ot||"-"})]}),(0,n.jsxs)("div",{className:_()("icon-text",{"--active":h}),onClick:jt,children:[(0,n.jsx)("span",{className:"icon",children:(0,n.jsx)(it,{})}),(0,n.jsx)("span",{className:"text",children:wt||"-"})]})]}),y.ID?(0,n.jsxs)("div",{className:"video-info-wrapper",children:[(0,n.jsxs)("div",{className:"video-info",children:[(0,n.jsx)("img",{className:"video-info__avatar",src:((t=y.Creator)==null?void 0:t.Avatar)||"https://uplife/ic_launcher_round.png",alt:(a=y.Creator)==null?void 0:a.Nickname}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("h3",{className:"video-info__title",onClick:()=>s(!0),children:[y.Title||"-",(0,n.jsx)("span",{className:"icon has-text-info",children:(0,n.jsx)(Ye,{})})]}),(0,n.jsxs)("div",{className:"video-meta",children:[(0,n.jsx)("span",{children:(Y==null?void 0:Y.Nickname)||"-"}),(0,n.jsxs)("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6827",width:"200",height:"200",children:[(0,n.jsx)("defs",{}),(0,n.jsx)("path",{d:"M167.024 512a344.976 344.976 0 1 1 689.952 0 344.976 344.976 0 0 1-690 0zM512 106.976a405.024 405.024 0 1 0 0 810.048 405.024 405.024 0 0 0 0-810z m30 235.008a30 30 0 1 0-60 0V512c0 7.968 3.168 15.6 8.784 21.216l120 120a30 30 0 1 0 42.432-42.432L542 499.52V341.984z",fill:"#9499A0","p-id":"6828"})]}),(0,n.jsx)("span",{children:y.CreatedAt?(0,C.wb)(y.CreatedAt):"-"})]})]})]}),(0,n.jsx)(Le.$,{tags:X?X.trim().split(" ").map(c=>({title:c,href:`/pv/tag?type=video&title=${c}`})).concat(xt==2?{title:"\u539F\u521B",href:"/pv/tag?type=video&is_original=2&title=\u539F\u521B"}:[]):[]})]}):(0,n.jsx)(Ae.iR,{className:"video-info__skeleton",height:"200px"}),(0,n.jsx)(Ie.Z,{id:e}),(0,n.jsx)(ke,{post:y,show:r,onChange:s})]})}},1686:function(T,S,l){"use strict";l.d(S,{Z:function(){return x}});var n={},o=l(5637),x=w=>{const{children:O,ratio:B,mw:P}=w;return o.createElement("div",{className:"aspect-ratio",style:{width:typeof P=="string"?P:`${P}px`}},o.createElement("div",{className:"aspect-ratio__fill",style:{paddingTop:`${1/B*100}%`}},O))}},4953:function(T,S,l){var n={"./0.json":[8817,454],"./1.json":[7754,754],"./10.json":[6534,534],"./131478f2-31cd-446a-9cb2-15158b8c3efe.json":[9955,955],"./2.json":[5927,927],"./3.json":[1553,553],"./4.json":[5264,264],"./7.json":[1081,81],"./77745a95-b5db-4c0b-ad08-0a55a6e70f49.json":[7515,515],"./9.json":[3520,520],"./a7a1345e-1bc8-4793-9650-a0ee89b6d74b.json":[8085,85],"./b2cf7c39-3f62-45c0-bbe1-a9522ff24cb7.json":[9726,726]};function o(C){if(!l.o(n,C))return Promise.resolve().then(function(){var O=new Error("Cannot find module '"+C+"'");throw O.code="MODULE_NOT_FOUND",O});var x=n[C],w=x[0];return l.e(x[1]).then(function(){return l.t(w,19)})}o.keys=function(){return Object.keys(n)},o.id=4953,T.exports=o},2341:function(T,S,l){var n={"./0.json":[7894,894],"./1.json":[7331,331],"./10.json":[5374,374],"./131478f2-31cd-446a-9cb2-15158b8c3efe.json":[7418,418],"./2.json":[1526,526],"./3.json":[5424,424],"./4.json":[9154,525],"./7.json":[4941,941],"./77745a95-b5db-4c0b-ad08-0a55a6e70f49.json":[4063,63],"./9.json":[2807,807],"./b2cf7c39-3f62-45c0-bbe1-a9522ff24cb7.json":[6134,134]};function o(C){if(!l.o(n,C))return Promise.resolve().then(function(){var O=new Error("Cannot find module '"+C+"'");throw O.code="MODULE_NOT_FOUND",O});var x=n[C],w=x[0];return l.e(x[1]).then(function(){return l.t(w,19)})}o.keys=function(){return Object.keys(n)},o.id=2341,T.exports=o}}]);
