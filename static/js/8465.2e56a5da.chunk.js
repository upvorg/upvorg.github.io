(self.webpackChunk_web_index=self.webpackChunk_web_index||[]).push([[8465],{9476:function(B,N,l){"use strict";l.d(N,{Om:function(){return D},PX:function(){return z},in:function(){return V}});var a=Object.defineProperty,o=Object.defineProperties,C=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,_=(f,d,m)=>d in f?a(f,d,{enumerable:!0,configurable:!0,writable:!0,value:m}):f[d]=m,I=(f,d)=>{for(var m in d||(d={}))E.call(d,m)&&_(f,m,d[m]);if(O)for(var m of O(d))P.call(d,m)&&_(f,m,d[m]);return f},U=(f,d)=>o(f,C(d));const D=f=>{var d,m,Z,W,Q,H;return U(I({},f),{enime:!0,ID:(d=f.anime)==null?void 0:d.slug,Cover:((m=f.anime)==null?void 0:m.coverImage)||"",Title:((Z=f.anime)==null?void 0:Z.title.native)||"",Content:f.description||"",Tags:"\u5176\u4ED6",Type:"video",CreatedAt:f.createdAt,UpdatedAt:f.updatedAt,Meta:{TitleJapanese:"",TitleRomanji:"",Genre:(W=f.genre)==null?void 0:W.toString(),Region:"enime",Episodes:13,IsEnd:2,PublishDate:"2015-01-01T08:00:00+08:00",UpdatedDate:null},Creator:{ID:1,Name:"enime.moe",Nickname:"enime",Avatar:"https://q1.qlogo.cn/g?b=qq&nk=7619376472&s=640",Bio:"\u8FD9\u4E2A\u4EBA\u5F88\u9177\uFF0C\u4EC0\u4E48\u90FD\u6CA1\u6709\u7559\u4E0B"},episodes:(H=(Q=f.anime)==null?void 0:Q.episodes)==null?void 0:H.map(y=>{var T;return{ID:y.id,Episode:y.number,Cover:y.image,Title:y.title,TitleJapanese:"",TitleRomanji:"",VideoUrl:"",Synopsis:"",Uid:1,Pid:(T=f.anime)==null?void 0:T.slug,CreatedAt:y.airedAt||y.createdAt,UpdatedAt:y.updatedAt}})})},z=f=>f.map(D),V=f=>f.map(d=>{var m;return U(I({},d),{enime:!0,ID:d==null?void 0:d.slug,Cover:(d==null?void 0:d.coverImage)||"",Title:(d==null?void 0:d.title.native)||"",Content:d.description||"",Tags:"\u5176\u4ED6",Type:"video",CreatedAt:d.createdAt,UpdatedAt:d.updatedAt,Meta:{TitleJapanese:"",TitleRomanji:"",Genre:(m=d.genre)==null?void 0:m.toString(),Region:"enime",Episodes:13,IsEnd:2,PublishDate:"2015-01-01T08:00:00+08:00",UpdatedDate:null},Creator:{ID:1,Name:"enime.moe",Nickname:"enime",Avatar:"https://q1.qlogo.cn/g?b=qq&nk=7619376472&s=640",Bio:"\u8FD9\u4E2A\u4EBA\u5F88\u9177\uFF0C\u4EC0\u4E48\u90FD\u6CA1\u6709\u7559\u4E0B"}})})},9786:function(B,N,l){"use strict";l.r(N),l.d(N,{default:function(){return ct}});var a=l(3148),o=l(5168),C=l(4247),O=l(709),E=l(681),P=l(9294),_=Object.defineProperty,I=Object.defineProperties,U=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,z=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))z.call(t,n)&&f(e,n,t[n]);if(D)for(var n of D(t))V.call(t,n)&&f(e,n,t[n]);return e},m=(e,t)=>I(e,U(t)),Z=(e,t)=>{var n={};for(var r in e)z.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&D)for(var r of D(e))t.indexOf(r)<0&&V.call(e,r)&&(n[r]=e[r]);return n};const W=[(0,O.Z)({controlBar:!0,topSetting:!0,screenshot:!0,slideToSeek:"always",pictureInPicture:!0,keyboard:{global:!0},subtitle:{fontSize:20}}),(0,E.Z)({matcher:(e,t)=>t.format==="m3u8"||(t.format==="auto"||typeof t.format=="undefined")&&/m3u8(#|\?|$)/i.test(t.src)})];var H=o.forwardRef((e,t)=>{var n=e,{playerIsPlaying:r,duration:s,onEvent:i,autoplay:g}=n,j=Z(n,["playerIsPlaying","duration","onEvent","autoplay"]);const w=(0,o.useRef)(null);return(0,o.useImperativeHandle)(t,()=>w.current),(0,a.jsx)(P.ZP,m(d({ref:w},j),{plugins:W,onEvent:i,autoplay:g,duration:s,playing:r}))}),y=l(2787),T=l(3621),Oe=l(785),G=l.n(Oe),Pe=l(3156);const re="@player/";function we(e){const t=(0,o.useMemo)(()=>{const g=new URLSearchParams(window.location.search),j={id:e,duration:0,episode:g.has("v")?+g.get("v")-1:0,time:0};return g.has("v")?j:JSON.parse(localStorage.getItem(re+e)||"null")||j},[]),[n,r]=(0,o.useState)(t.episode),s=(0,o.useCallback)(g=>{localStorage.setItem(re+e,JSON.stringify(g))},[]),i=(0,o.useCallback)((g,j,w)=>{const x=j==n;s({id:g,episode:j,duration:w,time:Date.now()}),x||r(j)},[n]);return[n,t.duration,i]}var Ee=l(8469),Ne=l(882),Ie=l(3785),Se=l(2869),Ae=l(1426),yt={};function Fe({post:e,show:t,onChange:n}){const{Title:r,Content:s,IsOriginal:i,Tags:g}=e,{Region:j,Genre:w,IsEnd:x,UpdatedDate:$,PublishDate:R}=e.Meta||{};return(0,a.jsxs)("div",{className:G()("PlayerInfo modal",{"is-active":t}),children:[(0,a.jsx)("div",{className:"modal-background",onClick:()=>n(!1)}),(0,a.jsxs)("div",{className:"modal-card",children:[(0,a.jsx)("button",{className:"delete","aria-label":"close",onClick:()=>n(!1)}),(0,a.jsxs)("section",{className:"modal-card-body",children:[(0,a.jsxs)("div",{className:"post-head",children:[(0,a.jsx)("div",{children:(0,a.jsx)(Se.Z,{ratio:3/4,mw:"200px",children:(0,a.jsx)("img",{src:e.Cover,alt:e.Title})})}),(0,a.jsxs)("div",{className:"post-info",children:[(0,a.jsx)("h3",{className:"title",children:r}),(0,a.jsxs)("div",{className:"post-info-item is-h",children:[(0,a.jsxs)("div",{className:"post-info-item",children:[(0,a.jsx)("label",{className:"name",children:"\u5730\u533A"}),(0,a.jsx)("div",{className:"body",children:j||"-"})]}),(0,a.jsxs)("div",{className:"post-info-item",children:[(0,a.jsx)("label",{className:"name",children:"\u7C7B\u578B"}),(0,a.jsx)("div",{className:"body",children:w})]})]}),(0,a.jsxs)("div",{className:"post-info-item is-h",children:[(0,a.jsxs)("div",{className:"post-info-item",children:[(0,a.jsx)("label",{className:"name",children:"\u5E74\u4EFD"}),(0,a.jsx)("div",{className:"body",children:R&&new Date(R).getFullYear()+" \u5E74"||"-"})]}),(0,a.jsxs)("div",{className:"post-info-item",children:[(0,a.jsx)("label",{className:"name",children:"\u5B8C\u7ED3"}),(0,a.jsx)("div",{className:"body",children:x==2?"\u662F":"\u5426"})]})]}),(0,a.jsxs)("div",{className:"post-info-item",children:[(0,a.jsx)("label",{className:"name",children:"\u66F4\u65B0"}),(0,a.jsx)("div",{className:"body",children:$&&`\u6BCF${y.zA[new Date($).getDay()]} ${new Date($).getHours()} \u70B9\u66F4\u65B0`||"-"})]}),(0,a.jsxs)("div",{className:"post-info-item tags",children:[i==2&&(0,a.jsx)("div",{className:"body tag is-primary is-light",children:"\u539F\u521B"}),g&&g.split(" ").map(h=>(0,a.jsx)("div",{className:"body tag is-primary is-light",children:h},h))]})]})]}),(0,a.jsx)(Ae.U,{type:"render",value:s||"#### \u6682\u65E0\u8BE6\u60C5"})]})]})]})}var Le=l(9476),se,De=["title","titleId"];function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}function Te(e,t){if(e==null)return{};var n=Re(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function Re(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var Be=function(t,n){var r=t.title,s=t.titleId,i=Te(t,De);return o.createElement("svg",K({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",ref:n,"aria-labelledby":s},i),r?o.createElement("title",{id:s},r):null,se||(se=o.createElement("path",{d:"M279.6 160.4C282.4 160.1 285.2 160 288 160C341 160 384 202.1 384 256C384 309 341 352 288 352C234.1 352 192 309 192 256C192 253.2 192.1 250.4 192.4 247.6C201.7 252.1 212.5 256 224 256C259.3 256 288 227.3 288 192C288 180.5 284.1 169.7 279.6 160.4zM480.6 112.6C527.4 156 558.7 207.1 573.5 243.7C576.8 251.6 576.8 260.4 573.5 268.3C558.7 304 527.4 355.1 480.6 399.4C433.5 443.2 368.8 480 288 480C207.2 480 142.5 443.2 95.42 399.4C48.62 355.1 17.34 304 2.461 268.3C-.8205 260.4-.8205 251.6 2.461 243.7C17.34 207.1 48.62 156 95.42 112.6C142.5 68.84 207.2 32 288 32C368.8 32 433.5 68.84 480.6 112.6V112.6zM288 112C208.5 112 144 176.5 144 256C144 335.5 208.5 400 288 400C367.5 400 432 335.5 432 256C432 176.5 367.5 112 288 112z"})))},_e=(0,o.forwardRef)(Be),bt=l.p+"static/media/fa-eye.6081475b9bda458f2aa19687000650a7.svg",ie,Me=["title","titleId"];function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X.apply(this,arguments)}function $e(e,t){if(e==null)return{};var n=ke(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function ke(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var Ue=function(t,n){var r=t.title,s=t.titleId,i=$e(t,Me);return o.createElement("svg",X({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:n,"aria-labelledby":s},i),r?o.createElement("title",{id:s},r):null,ie||(ie=o.createElement("path",{d:"M0 190.9V185.1C0 115.2 50.52 55.58 119.4 44.1C164.1 36.51 211.4 51.37 244 84.02L256 96L267.1 84.02C300.6 51.37 347 36.51 392.6 44.1C461.5 55.58 512 115.2 512 185.1V190.9C512 232.4 494.8 272.1 464.4 300.4L283.7 469.1C276.2 476.1 266.3 480 256 480C245.7 480 235.8 476.1 228.3 469.1L47.59 300.4C17.23 272.1 .0003 232.4 .0003 190.9L0 190.9z"})))},ze=(0,o.forwardRef)(Ue),Ct=l.p+"static/media/fa-heart.877791eb3fcf005481f684a0ecd27643.svg",oe,Ve=["title","titleId"];function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}function Ze(e,t){if(e==null)return{};var n=We(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function We(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var He=function(t,n){var r=t.title,s=t.titleId,i=Ze(t,Ve);return o.createElement("svg",q({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:n,"aria-labelledby":s},i),r?o.createElement("title",{id:s},r):null,oe||(oe=o.createElement("path",{d:"M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 128c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S224 177.7 224 160C224 142.3 238.3 128 256 128zM296 384h-80C202.8 384 192 373.3 192 360s10.75-24 24-24h16v-64H224c-13.25 0-24-10.75-24-24S210.8 224 224 224h32c13.25 0 24 10.75 24 24v88h16c13.25 0 24 10.75 24 24S309.3 384 296 384z"})))},Ge=(0,o.forwardRef)(He),Ot=l.p+"static/media/fa-info-circle.98be1242692ee31e98b17205bb5c9aaa.svg",le,Je=["title","titleId"];function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ee.apply(this,arguments)}function Ye(e,t){if(e==null)return{};var n=Qe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function Qe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var Ke=function(t,n){var r=t.title,s=t.titleId,i=Ye(t,Je);return o.createElement("svg",ee({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:n,"aria-labelledby":s},i),r?o.createElement("title",{id:s},r):null,le||(le=o.createElement("path",{d:"M511.1 63.1v287.1c0 35.25-28.75 63.1-64 63.1h-144l-124.9 93.68c-7.875 5.75-19.12 .0497-19.12-9.7v-83.98h-96c-35.25 0-64-28.75-64-63.1V63.1c0-35.25 28.75-63.1 64-63.1h384C483.2 0 511.1 28.75 511.1 63.1z"})))},Xe=(0,o.forwardRef)(Ke),Pt=l.p+"static/media/fa-message.2c4915772cd73f0e62933b66ee503fde.svg",ce,qe=["title","titleId"];function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},te.apply(this,arguments)}function et(e,t){if(e==null)return{};var n=tt(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function tt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var at=function(t,n){var r=t.title,s=t.titleId,i=et(t,qe);return o.createElement("svg",te({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",ref:n,"aria-labelledby":s},i),r?o.createElement("title",{id:s},r):null,ce||(ce=o.createElement("path",{d:"M381.2 150.3L524.9 171.5C536.8 173.2 546.8 181.6 550.6 193.1C554.4 204.7 551.3 217.3 542.7 225.9L438.5 328.1L463.1 474.7C465.1 486.7 460.2 498.9 450.2 506C440.3 513.1 427.2 514 416.5 508.3L288.1 439.8L159.8 508.3C149 514 135.9 513.1 126 506C116.1 498.9 111.1 486.7 113.2 474.7L137.8 328.1L33.58 225.9C24.97 217.3 21.91 204.7 25.69 193.1C29.46 181.6 39.43 173.2 51.42 171.5L195 150.3L259.4 17.97C264.7 6.954 275.9-.0391 288.1-.0391C300.4-.0391 311.6 6.954 316.9 17.97L381.2 150.3z"})))},nt=(0,o.forwardRef)(at),wt=l.p+"static/media/fa-star.6b2027c0ff37a21f8f9b4ce362121a79.svg",Et={},rt=Object.defineProperty,st=Object.defineProperties,it=Object.getOwnPropertyDescriptors,de=Object.getOwnPropertySymbols,ot=Object.prototype.hasOwnProperty,lt=Object.prototype.propertyIsEnumerable,ue=(e,t,n)=>t in e?rt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S=(e,t)=>{for(var n in t||(t={}))ot.call(t,n)&&ue(e,n,t[n]);if(de)for(var n of de(t))lt.call(t,n)&&ue(e,n,t[n]);return e},A=(e,t)=>st(e,it(t));function ct({id:e}){var t,n;const[r,s]=(0,o.useState)(!1),[i,g]=(0,o.useState)(!1),[j,w]=(0,o.useState)(!1),[x,$,R]=we(e),[h,F]=(0,o.useState)({}),[L,fe]=(0,o.useState)([]),M=(0,o.useRef)(null),[pe,dt]=(0,o.useState)(!1),[ve,me]=(0,o.useState)({poster:"https://i.gifer.com/BxQY.gif",title:"\u5C11\u5973\u7948\u7977\u4E2D ..."});(0,o.useEffect)(()=>{l(4953)(`./${e}.json`).catch(()=>{throw dt(!0),new Error("")}).then(c=>{if(!c.data||c.data.Type!=="video"){T.ZP.error("\u89C6\u9891\u4E0D\u89C1\u4E86",{duration:9e4});return}c.err||(c.data&&F(c.data),c.data.IsLiked==2&&g(!0),c.data.IsCollected==2&&w(!0),l(2341)(`./${e}.json`).then(u=>{u.data.sort((v,p)=>v.Episode-p.Episode),u.data&&fe(u.data),u.data.length<=x&&R(e,0,0)}))})},[]),(0,o.useEffect)(()=>{var c;(c=L[x])!=null&&c.VideoUrl&&me({title:L[x].Title||h.Title,src:L[x].VideoUrl,format:e=="iptv"?"m3u8":"auto",poster:"https://i.gifer.com/BxQY.gif"})},[h,x,L]),(0,o.useEffect)(()=>{var c,u;if(!pe)return;(u=(c=M.current)==null?void 0:c.plugins.ui)==null||u.menu.unregister("Source");const v=fetch(`https://api.enime.moe/view/${e}/${x+1}`).then(p=>p.json()).then(Le.Om).then(p=>{var je,xe;F(p),fe(p.episodes);function ye(k){return fetch(`https://api.enime.moe/source/${k}`).then(b=>b.json()).then(b=>{var be;return b.subtitle&&M.current.on("loadedmetadata",()=>{var Ce;(Ce=M.current)==null||Ce.plugins.ui.subtitle.updateSource([{default:!0,src:b.subtitle,name:"English"}])},{once:!0}),A(S({},b),{title:p.title?p.title.length>=15?p.title.substring(0,15)+"...":p.title:p.Title,poster:h.image||((be=h.anime)==null?void 0:be.coverImage),src:(p.sources[1]||p.sources[0]).url.includes("zoro")?`https://cors.proxy.consumet.org/${b.url}`:b.url})})}return p.sources.length>1&&((xe=(je=M.current)==null?void 0:je.plugins.ui)==null||xe.menu.register({name:"Source",position:"top",icon:'<svg viewBox="0 0 1024 1024" style="transform: scale(0.9);"><path d="M554.666667 597.333333c-143.36 0-190.293333 57.6-205.653334 95.573334C394.666667 712.533333 426.666667 757.76 426.666667 810.666667a128 128 0 0 1-128 128 128 128 0 0 1-128-128c0-55.893333 35.413333-103.253333 85.333333-120.746667V334.08A127.573333 127.573333 0 0 1 170.666667 213.333333a128 128 0 0 1 128-128 128 128 0 0 1 128 128c0 55.893333-35.413333 103.253333-85.333334 120.746667v225.706667c37.546667-27.733333 92.16-47.786667 170.666667-47.786667 113.92 0 151.893333-57.173333 164.266667-95.146667A128.256 128.256 0 0 1 597.333333 298.666667a128 128 0 0 1 128-128 128 128 0 0 1 128 128c0 57.173333-37.546667 106.666667-89.173333 122.026666C753.066667 481.706667 711.68 597.333333 554.666667 597.333333m-256 170.666667a42.666667 42.666667 0 0 0-42.666667 42.666667 42.666667 42.666667 0 0 0 42.666667 42.666666 42.666667 42.666667 0 0 0 42.666666-42.666666 42.666667 42.666667 0 0 0-42.666666-42.666667M298.666667 170.666667a42.666667 42.666667 0 0 0-42.666667 42.666666 42.666667 42.666667 0 0 0 42.666667 42.666667 42.666667 42.666667 0 0 0 42.666666-42.666667 42.666667 42.666667 0 0 0-42.666666-42.666666m426.666666 85.333333a42.666667 42.666667 0 0 0-42.666666 42.666667 42.666667 42.666667 0 0 0 42.666666 42.666666 42.666667 42.666667 0 0 0 42.666667-42.666666 42.666667 42.666667 0 0 0-42.666667-42.666667z" fill="#ffffff" p-id="7015"></path></svg>',children:p.sources.map((k,b)=>({name:k.url.includes("zoro")?"ZORO":"GOGO",default:b==1,value:b})),onChange({value:k}){var b;(b=M.current)==null||b.changeSource(ye(p.sources[k].id))}})),ye((p.sources[1]||p.sources[0]).id)});me(v)},[pe,x]);const ut=(0,o.useCallback)(()=>{const c=i?-1:1,u=h.LikesCount||0;g(v=>!v),F(v=>A(S({},v),{LikesCount:u+c})),(i?y.od.delete(`/like/post/${e}`):y.od.post(`/like/post/${e}`)).then(v=>{v.err?(g(p=>!p),F(p=>A(S({},p),{LikesCount:p.LikesCount-c}))):i?T.ZP.error(`\u4F60\u6240\u70ED\u7231\u7684\uFF0C\u5C31\u662F\u4F60\u7684\u751F\u6D3B\u3002\r
 				--------?`):T.ZP.success("nice!")}).catch(()=>{setTimeout(()=>{g(v=>!v),F(v=>A(S({},v),{LikesCount:v.LikesCount-c}))},300)})},[h,i]),ft=(0,o.useCallback)(()=>{const c=j?-1:1;w(u=>!u),F(u=>A(S({},u),{CollectionCount:u.CollectionCount+c})),(j?y.od.delete(`/collect/post/${e}`):y.od.post(`/collect/post/${e}`)).then(u=>{u.err?(w(v=>!v),F(v=>A(S({},v),{CollectionCount:v.CollectionCount-c}))):j||T.ZP.success("nice!")}).catch(()=>{setTimeout(()=>{w(u=>!u),F(u=>A(S({},u),{CollectionCount:u.CollectionCount-1}))},300)})},[h,j]),ae=(0,o.useRef)(x);ae.current=x;const pt=({type:c,payload:u})=>{var v;const p=(v=u==null?void 0:u.target)==null?void 0:v.currentTime;c=="timeupdate"?p<1||R(e,ae.current,p*1e3):c=="ended"&&R(e,ae.current+1,0)},{Title:ne,Creator:J,Tags:Y,IsOriginal:vt,Hits:mt,CommentCount:ht,LikesCount:gt,CollectionCount:jt,Content:he,Meta:ge,Cover:xt}=h;return(0,a.jsxs)("div",{className:"player",children:[(0,a.jsxs)(Pe.q,{children:[(0,a.jsx)("title",{children:`${ne||""} - UPV - free animes no ads`}),(0,a.jsx)("meta",{name:"description",content:he==null?void 0:he.substring(0,200)}),(0,a.jsx)("meta",{name:"referrer",content:"no-referrer-when-downgrade"}),(0,a.jsx)("meta",{name:"keywords",content:`${ne},${ge==null?void 0:ge.Genre},${Y==null?void 0:Y.split(" ")}`}),(0,a.jsx)("meta",{name:"author",content:J==null?void 0:J.Nickname}),(0,a.jsx)("meta",{property:"og:title",content:`${ne} - UPV - free animes no ads`}),(0,a.jsx)("meta",{property:"og:type",content:"video"}),(0,a.jsx)("meta",{property:"og:image",content:xt}),(0,a.jsx)("meta",{property:"og:url",content:location.origin+location.pathname})]}),(0,a.jsxs)("div",{className:"player-header",children:[(0,a.jsx)("div",{className:"player-header__player",children:(0,o.useMemo)(()=>(0,a.jsx)(H,{ref:M,autoplay:!0,source:ve,onEvent:pt,duration:$,isLive:e=="iptv"}),[ve])}),(0,a.jsx)("div",{className:"player-header__r",children:(0,a.jsxs)("div",{className:"eplist_module",children:[(0,a.jsxs)("div",{className:"list-title",children:[(0,a.jsx)("h4",{children:"\u64AD\u653E\u5217\u8868"}),(0,a.jsxs)("span",{className:"ep-list-progress",children:[L.length>0?x+1:0,"/",L.length]})]}),(0,a.jsx)("div",{className:"list-wrapper",children:L.length>0?(0,a.jsx)("ul",{children:L.map((c,u)=>(0,a.jsx)("a",{children:(0,a.jsx)("li",A(S({className:G()("list-item has-tooltip-bottom",{cursor:u===x}),onClick:()=>R(e,u,0),title:c.Title},c.Title&&{"data-tooltip":c.Title}),{children:(0,a.jsxs)("span",{children:[" ",c.Episode]})}))},u))}):(0,a.jsx)("span",{className:"empty",children:"\u6682\u65E0\u89C6\u9891"})})]})})]}),(0,a.jsxs)("div",{className:"video-actions",children:[(0,a.jsxs)("div",{className:"icon-text",children:[(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)(_e,{})}),(0,a.jsx)("span",{className:"text",children:mt||"-"})]}),(0,a.jsxs)("div",{className:"icon-text",children:[(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)(Xe,{})}),(0,a.jsx)("span",{className:"text",children:ht||"-"})]}),(0,a.jsxs)("div",{className:G()("icon-text",{"--active":i}),onClick:ut,children:[(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)(ze,{})}),(0,a.jsx)("span",{className:"text",children:gt||"-"})]}),(0,a.jsxs)("div",{className:G()("icon-text",{"--active":j}),onClick:ft,children:[(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)(nt,{})}),(0,a.jsx)("span",{className:"text",children:jt||"-"})]})]}),h.ID?(0,a.jsxs)("div",{className:"video-info-wrapper",children:[(0,a.jsxs)("div",{className:"video-info",children:[(0,a.jsx)("img",{className:"video-info__avatar",src:((t=h.Creator)==null?void 0:t.Avatar)||"https://uplife/ic_launcher_round.png",alt:(n=h.Creator)==null?void 0:n.Nickname}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"video-info__title",onClick:()=>s(!0),children:[h.Title||"-",(0,a.jsx)("span",{className:"icon has-text-info",children:(0,a.jsx)(Ge,{})})]}),(0,a.jsxs)("div",{className:"video-meta",children:[(0,a.jsx)("span",{children:(J==null?void 0:J.Nickname)||"-"}),(0,a.jsxs)("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6827",width:"200",height:"200",children:[(0,a.jsx)("defs",{}),(0,a.jsx)("path",{d:"M167.024 512a344.976 344.976 0 1 1 689.952 0 344.976 344.976 0 0 1-690 0zM512 106.976a405.024 405.024 0 1 0 0 810.048 405.024 405.024 0 0 0 0-810z m30 235.008a30 30 0 1 0-60 0V512c0 7.968 3.168 15.6 8.784 21.216l120 120a30 30 0 1 0 42.432-42.432L542 499.52V341.984z",fill:"#9499A0","p-id":"6828"})]}),(0,a.jsx)("span",{children:h.CreatedAt?(0,C.wb)(h.CreatedAt):"-"})]})]})]}),(0,a.jsx)(Ie.$,{tags:Y?Y.trim().split(" ").map(c=>({title:c,href:`/pv/tag?type=video&title=${c}`})).concat(vt==2?{title:"\u539F\u521B",href:"/pv/tag?type=video&is_original=2&title=\u539F\u521B"}:[]):[]})]}):(0,a.jsx)(Ne.iR,{className:"video-info__skeleton",height:"200px"}),(0,a.jsx)(Ee.Z,{id:e}),(0,a.jsx)(Fe,{post:h,show:r,onChange:s})]})}},2869:function(B,N,l){"use strict";l.d(N,{Z:function(){return O}});var a=l(3148),o={},O=E=>{const{children:P,ratio:_,mw:I}=E;return(0,a.jsx)("div",{className:"aspect-ratio",style:{width:typeof I=="string"?I:`${I}px`},children:(0,a.jsx)("div",{className:"aspect-ratio__fill",style:{paddingTop:`${1/_*100}%`},children:P})})}},4953:function(B,N,l){var a={"./-1.json":[1276,1276],"./1.json":[7754,7754],"./10.json":[6534,6534],"./131478f2-31cd-446a-9cb2-15158b8c3efe.json":[9955,9955],"./163f51f8-76a4-4e41-8eeb-f27295520829.json":[3298,3298],"./2.json":[5927,5927],"./20221113.json":[9189,9189],"./3.json":[1553,1553],"./4.json":[5264,5264],"./7.json":[1081,1081],"./77745a95-b5db-4c0b-ad08-0a55a6e70f49.json":[7515,7515],"./9.json":[3520,3520],"./a7a1345e-1bc8-4793-9650-a0ee89b6d74b.json":[8085,8085],"./b2cf7c39-3f62-45c0-bbe1-a9522ff24cb7.json":[9726,9726],"./iptv.json":[9688,9688]};function o(C){if(!l.o(a,C))return Promise.resolve().then(function(){var P=new Error("Cannot find module '"+C+"'");throw P.code="MODULE_NOT_FOUND",P});var O=a[C],E=O[0];return l.e(O[1]).then(function(){return l.t(E,19)})}o.keys=function(){return Object.keys(a)},o.id=4953,B.exports=o},2341:function(B,N,l){var a={"./-1.json":[9671,9671],"./1.json":[7331,7331],"./10.json":[5374,5374],"./131478f2-31cd-446a-9cb2-15158b8c3efe.json":[7418,7418],"./163f51f8-76a4-4e41-8eeb-f27295520829.json":[4550,4550],"./2.json":[1526,1526],"./20221113.json":[7824,7824],"./3.json":[5424,5424],"./4.json":[8525,8525],"./7.json":[4941,4941],"./77745a95-b5db-4c0b-ad08-0a55a6e70f49.json":[4063,4063],"./9.json":[2807,2807],"./b2cf7c39-3f62-45c0-bbe1-a9522ff24cb7.json":[6134,6134],"./iptv.json":[5817,5817]};function o(C){if(!l.o(a,C))return Promise.resolve().then(function(){var P=new Error("Cannot find module '"+C+"'");throw P.code="MODULE_NOT_FOUND",P});var O=a[C],E=O[0];return l.e(O[1]).then(function(){return l.t(E,19)})}o.keys=function(){return Object.keys(a)},o.id=2341,B.exports=o}}]);
