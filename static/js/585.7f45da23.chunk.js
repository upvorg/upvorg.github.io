(self.webpackChunk_web_index=self.webpackChunk_web_index||[]).push([[585],{5526:function(M,P,o){"use strict";o.r(P),o.d(P,{default:function(){return ze}});var t=o(3148),l=o(5168),b=o(4247),O=o(5498),E=o(1462),N=o(5895);const T=[(0,O.Z)(),(0,E.Z)({options:{hlsQualityControl:!0,forceHLS:!0}})];function L({playerIsPlaying:e,src:a,poster:s,duration:n,onEvent:r}){return(0,t.jsx)(N.ZP,{playbackRate:1,playing:e,plugins:T,source:{src:a,poster:s},duration:n,onEvent:r})}var I=o(2787),F=o(3621),te=o(785),R=o.n(te),ae=o(3156);const U="@player/";function ne(e){const a=(0,l.useMemo)(()=>{const u=new URLSearchParams(window.location.search),v={id:e,duration:0,episode:u.has("v")?+u.get("v")-1:0,time:0};return u.has("v")?v:JSON.parse(localStorage.getItem(U+e)||"null")||v},[]),[s,n]=(0,l.useState)(a.episode),r=(0,l.useCallback)(u=>{localStorage.setItem(U+e,JSON.stringify(u))},[]),i=(0,l.useCallback)((u,v,h)=>{const j=v==s;r({id:u,episode:v,duration:h,time:Date.now()}),j||n(v)},[s]);return[s,a.duration,i]}var se=o(1486),re=o(882),ie=o(3785),le=o(6678),oe=o(948),Xe={};function ce({post:e,show:a,onChange:s}){const{Title:n,Content:r,IsOriginal:i,Tags:u}=e,{Region:v,Genre:h,IsEnd:j,UpdatedDate:m,PublishDate:D}=e.Meta||{};return(0,t.jsxs)("div",{className:R()("PlayerInfo modal",{"is-active":a}),children:[(0,t.jsx)("div",{className:"modal-background",onClick:()=>s(!1)}),(0,t.jsxs)("div",{className:"modal-card",children:[(0,t.jsx)("button",{className:"delete","aria-label":"close",onClick:()=>s(!1)}),(0,t.jsxs)("section",{className:"modal-card-body",children:[(0,t.jsxs)("div",{className:"post-head",children:[(0,t.jsx)("div",{children:(0,t.jsx)(le.Z,{ratio:3/4,mw:"200px",children:(0,t.jsx)("img",{src:e.Cover,alt:e.Title})})}),(0,t.jsxs)("div",{className:"post-info",children:[(0,t.jsx)("h3",{className:"title",children:n}),(0,t.jsxs)("div",{className:"post-info-item is-h",children:[(0,t.jsxs)("div",{className:"post-info-item",children:[(0,t.jsx)("label",{className:"name",children:"\u5730\u533A"}),(0,t.jsx)("div",{className:"body",children:v||"-"})]}),(0,t.jsxs)("div",{className:"post-info-item",children:[(0,t.jsx)("label",{className:"name",children:"\u7C7B\u578B"}),(0,t.jsx)("div",{className:"body",children:h})]})]}),(0,t.jsxs)("div",{className:"post-info-item is-h",children:[(0,t.jsxs)("div",{className:"post-info-item",children:[(0,t.jsx)("label",{className:"name",children:"\u5E74\u4EFD"}),(0,t.jsx)("div",{className:"body",children:D&&new Date(D).getFullYear()+" \u5E74"||"-"})]}),(0,t.jsxs)("div",{className:"post-info-item",children:[(0,t.jsx)("label",{className:"name",children:"\u5B8C\u7ED3"}),(0,t.jsx)("div",{className:"body",children:j==2?"\u662F":"\u5426"})]})]}),(0,t.jsxs)("div",{className:"post-info-item",children:[(0,t.jsx)("label",{className:"name",children:"\u66F4\u65B0"}),(0,t.jsx)("div",{className:"body",children:m&&`\u6BCF${I.zA[new Date(m).getDay()]} ${new Date(m).getHours()} \u70B9\u66F4\u65B0`||"-"})]}),(0,t.jsxs)("div",{className:"post-info-item tags",children:[i==2&&(0,t.jsx)("div",{className:"body tag is-primary is-light",children:"\u539F\u521B"}),u&&u.split(" ").map(w=>(0,t.jsx)("div",{className:"body tag is-primary is-light",children:w},w))]})]})]}),(0,t.jsx)(oe.U,{type:"render",value:r||"#### \u6682\u65E0\u8BE6\u60C5"})]})]})]})}var G,de=["title","titleId"];function $(){return $=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},$.apply(this,arguments)}function fe(e,a){if(e==null)return{};var s=ue(e,a),n,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(a.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(s[n]=e[n]))}return s}function ue(e,a){if(e==null)return{};var s={},n=Object.keys(e),r,i;for(i=0;i<n.length;i++)r=n[i],!(a.indexOf(r)>=0)&&(s[r]=e[r]);return s}var ve=function(a,s){var n=a.title,r=a.titleId,i=fe(a,de);return l.createElement("svg",$({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",ref:s,"aria-labelledby":r},i),n?l.createElement("title",{id:r},n):null,G||(G=l.createElement("path",{d:"M279.6 160.4C282.4 160.1 285.2 160 288 160C341 160 384 202.1 384 256C384 309 341 352 288 352C234.1 352 192 309 192 256C192 253.2 192.1 250.4 192.4 247.6C201.7 252.1 212.5 256 224 256C259.3 256 288 227.3 288 192C288 180.5 284.1 169.7 279.6 160.4zM480.6 112.6C527.4 156 558.7 207.1 573.5 243.7C576.8 251.6 576.8 260.4 573.5 268.3C558.7 304 527.4 355.1 480.6 399.4C433.5 443.2 368.8 480 288 480C207.2 480 142.5 443.2 95.42 399.4C48.62 355.1 17.34 304 2.461 268.3C-.8205 260.4-.8205 251.6 2.461 243.7C17.34 207.1 48.62 156 95.42 112.6C142.5 68.84 207.2 32 288 32C368.8 32 433.5 68.84 480.6 112.6V112.6zM288 112C208.5 112 144 176.5 144 256C144 335.5 208.5 400 288 400C367.5 400 432 335.5 432 256C432 176.5 367.5 112 288 112z"})))},pe=(0,l.forwardRef)(ve),_e=o.p+"static/media/fa-eye.6081475b9bda458f2aa19687000650a7.svg",Y,me=["title","titleId"];function k(){return k=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},k.apply(this,arguments)}function he(e,a){if(e==null)return{};var s=je(e,a),n,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(a.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(s[n]=e[n]))}return s}function je(e,a){if(e==null)return{};var s={},n=Object.keys(e),r,i;for(i=0;i<n.length;i++)r=n[i],!(a.indexOf(r)>=0)&&(s[r]=e[r]);return s}var ge=function(a,s){var n=a.title,r=a.titleId,i=he(a,me);return l.createElement("svg",k({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:s,"aria-labelledby":r},i),n?l.createElement("title",{id:r},n):null,Y||(Y=l.createElement("path",{d:"M0 190.9V185.1C0 115.2 50.52 55.58 119.4 44.1C164.1 36.51 211.4 51.37 244 84.02L256 96L267.1 84.02C300.6 51.37 347 36.51 392.6 44.1C461.5 55.58 512 115.2 512 185.1V190.9C512 232.4 494.8 272.1 464.4 300.4L283.7 469.1C276.2 476.1 266.3 480 256 480C245.7 480 235.8 476.1 228.3 469.1L47.59 300.4C17.23 272.1 .0003 232.4 .0003 190.9L0 190.9z"})))},xe=(0,l.forwardRef)(ge),qe=o.p+"static/media/fa-heart.877791eb3fcf005481f684a0ecd27643.svg",J,Ce=["title","titleId"];function z(){return z=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},z.apply(this,arguments)}function ye(e,a){if(e==null)return{};var s=be(e,a),n,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(a.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(s[n]=e[n]))}return s}function be(e,a){if(e==null)return{};var s={},n=Object.keys(e),r,i;for(i=0;i<n.length;i++)r=n[i],!(a.indexOf(r)>=0)&&(s[r]=e[r]);return s}var Oe=function(a,s){var n=a.title,r=a.titleId,i=ye(a,Ce);return l.createElement("svg",z({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:s,"aria-labelledby":r},i),n?l.createElement("title",{id:r},n):null,J||(J=l.createElement("path",{d:"M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 128c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S224 177.7 224 160C224 142.3 238.3 128 256 128zM296 384h-80C202.8 384 192 373.3 192 360s10.75-24 24-24h16v-64H224c-13.25 0-24-10.75-24-24S210.8 224 224 224h32c13.25 0 24 10.75 24 24v88h16c13.25 0 24 10.75 24 24S309.3 384 296 384z"})))},Ne=(0,l.forwardRef)(Oe),et=o.p+"static/media/fa-info-circle.98be1242692ee31e98b17205bb5c9aaa.svg",K,we=["title","titleId"];function V(){return V=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},V.apply(this,arguments)}function Pe(e,a){if(e==null)return{};var s=Ee(e,a),n,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(a.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(s[n]=e[n]))}return s}function Ee(e,a){if(e==null)return{};var s={},n=Object.keys(e),r,i;for(i=0;i<n.length;i++)r=n[i],!(a.indexOf(r)>=0)&&(s[r]=e[r]);return s}var Le=function(a,s){var n=a.title,r=a.titleId,i=Pe(a,we);return l.createElement("svg",V({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:s,"aria-labelledby":r},i),n?l.createElement("title",{id:r},n):null,K||(K=l.createElement("path",{d:"M511.1 63.1v287.1c0 35.25-28.75 63.1-64 63.1h-144l-124.9 93.68c-7.875 5.75-19.12 .0497-19.12-9.7v-83.98h-96c-35.25 0-64-28.75-64-63.1V63.1c0-35.25 28.75-63.1 64-63.1h384C483.2 0 511.1 28.75 511.1 63.1z"})))},Ie=(0,l.forwardRef)(Le),tt=o.p+"static/media/fa-message.2c4915772cd73f0e62933b66ee503fde.svg",Q,Se=["title","titleId"];function W(){return W=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},W.apply(this,arguments)}function Fe(e,a){if(e==null)return{};var s=Re(e,a),n,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(a.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(s[n]=e[n]))}return s}function Re(e,a){if(e==null)return{};var s={},n=Object.keys(e),r,i;for(i=0;i<n.length;i++)r=n[i],!(a.indexOf(r)>=0)&&(s[r]=e[r]);return s}var De=function(a,s){var n=a.title,r=a.titleId,i=Fe(a,Se);return l.createElement("svg",W({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",ref:s,"aria-labelledby":r},i),n?l.createElement("title",{id:r},n):null,Q||(Q=l.createElement("path",{d:"M381.2 150.3L524.9 171.5C536.8 173.2 546.8 181.6 550.6 193.1C554.4 204.7 551.3 217.3 542.7 225.9L438.5 328.1L463.1 474.7C465.1 486.7 460.2 498.9 450.2 506C440.3 513.1 427.2 514 416.5 508.3L288.1 439.8L159.8 508.3C149 514 135.9 513.1 126 506C116.1 498.9 111.1 486.7 113.2 474.7L137.8 328.1L33.58 225.9C24.97 217.3 21.91 204.7 25.69 193.1C29.46 181.6 39.43 173.2 51.42 171.5L195 150.3L259.4 17.97C264.7 6.954 275.9-.0391 288.1-.0391C300.4-.0391 311.6 6.954 316.9 17.97L381.2 150.3z"})))},Ae=(0,l.forwardRef)(De),at=o.p+"static/media/fa-star.6b2027c0ff37a21f8f9b4ce362121a79.svg",nt={},Be=Object.defineProperty,Me=Object.defineProperties,Te=Object.getOwnPropertyDescriptors,X=Object.getOwnPropertySymbols,$e=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable,_=(e,a,s)=>a in e?Be(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s,x=(e,a)=>{for(var s in a||(a={}))$e.call(a,s)&&_(e,s,a[s]);if(X)for(var s of X(a))ke.call(a,s)&&_(e,s,a[s]);return e},C=(e,a)=>Me(e,Te(a));function ze({id:e}){var a,s,n;const[r,i]=(0,l.useState)(!1),[u,v]=(0,l.useState)(!1),[h,j]=(0,l.useState)(!1),[m,D,w]=ne(e),[p,y]=(0,l.useState)({}),[S,Ve]=(0,l.useState)([]);(0,l.useEffect)(()=>{o(4953)(`./${e}.json`).then(d=>{if(!d.data||d.data.Type!=="video"){F.ZP.error("\u89C6\u9891\u4E0D\u89C1\u4E86",{duration:9e4});return}d.err||(d.data&&y(d.data),d.data.IsLiked==2&&v(!0),d.data.IsCollected==2&&j(!0),o(2341)(`./${e}.json`).then(c=>{c.data.sort((f,g)=>f.Episode-g.Episode),c.data&&Ve(c.data),c.data.length<=m&&setLastEpisode(0)}))})},[]);const We=(0,l.useCallback)(()=>{const d=u?-1:1,c=p.LikesCount||0;v(f=>!f),y(f=>C(x({},f),{LikesCount:c+d})),(u?I.od.delete(`/like/post/${e}`):I.od.post(`/like/post/${e}`)).then(f=>{f.err?(v(g=>!g),y(g=>C(x({},g),{LikesCount:c-d}))):u?F.ZP.error(`\u4F60\u6240\u70ED\u7231\u7684\uFF0C\u5C31\u662F\u4F60\u7684\u751F\u6D3B\u3002\r
 				--------?`):F.ZP.success("nice!")}).catch(()=>{setTimeout(()=>{v(f=>!f),y(f=>C(x({},f),{LikesCount:c-d}))},300)})},[p,u]),Ze=(0,l.useCallback)(()=>{const d=h?-1:1;j(c=>!c),y(c=>C(x({},c),{CollectionCount:c.CollectionCount+d})),(h?I.od.delete(`/collect/post/${e}`):I.od.post(`/collect/post/${e}`)).then(c=>{c.err?(j(f=>!f),y(f=>C(x({},f),{CollectionCount:f.CollectionCount-d}))):h||F.ZP.success("nice!")}).catch(()=>{setTimeout(()=>{j(c=>!c),y(c=>C(x({},c),{CollectionCount:c.CollectionCount-1}))},300)})},[p,h]),Z=(0,l.useRef)(m);Z.current=m;const He=({type:d,payload:c})=>{var f;const g=(f=c==null?void 0:c.target)==null?void 0:f.currentTime;d=="timeupdate"?g<1||w(e,Z.current,g*1e3):d=="ended"&&w(e,Z.current+1,0)},{Title:H,Creator:A,Tags:B,IsOriginal:Ue,Hits:Ge,CommentCount:Ye,LikesCount:Je,CollectionCount:Ke,Content:q,Meta:ee,Cover:Qe}=p;return(0,t.jsxs)("div",{className:"player",children:[(0,t.jsxs)(ae.q,{children:[(0,t.jsx)("title",{children:`${H||""} - UPV - free animes no ads`}),(0,t.jsx)("meta",{name:"description",content:q==null?void 0:q.substring(0,200)}),(0,t.jsx)("meta",{name:"referrer",content:"no-referrer-when-downgrade"}),(0,t.jsx)("meta",{name:"keywords",content:`${H},${ee==null?void 0:ee.Genre},${B==null?void 0:B.split(" ")}`}),(0,t.jsx)("meta",{name:"author",content:A==null?void 0:A.Nickname}),(0,t.jsx)("meta",{property:"og:title",content:`${H} - UPV - free animes no ads`}),(0,t.jsx)("meta",{property:"og:type",content:"video"}),(0,t.jsx)("meta",{property:"og:image",content:Qe}),(0,t.jsx)("meta",{property:"og:url",content:location.origin+location.pathname})]}),(0,t.jsxs)("div",{className:"player-header",children:[(0,t.jsx)("div",{className:"player-header__player",children:(0,t.jsx)(L,{src:(a=S[m])==null?void 0:a.VideoUrl,onEvent:He,duration:D})}),(0,t.jsx)("div",{className:"player-header__r",children:(0,t.jsxs)("div",{className:"eplist_module",children:[(0,t.jsxs)("div",{className:"list-title",children:[(0,t.jsx)("h4",{children:"\u64AD\u653E\u5217\u8868"}),(0,t.jsxs)("span",{className:"ep-list-progress",children:[S.length>0?m+1:0,"/",S.length]})]}),(0,t.jsx)("div",{className:"list-wrapper",children:S.length>0?(0,t.jsx)("ul",{children:S.map((d,c)=>(0,t.jsx)("a",{children:(0,t.jsx)("li",C(x({className:R()("list-item has-tooltip-bottom",{cursor:c===m}),onClick:()=>w(e,c,0),title:d.Title},d.Title&&{"data-tooltip":d.Title}),{children:(0,t.jsxs)("span",{children:[" ",d.Episode]})}))},c))}):(0,t.jsx)("span",{className:"empty",children:"\u6682\u65E0\u89C6\u9891"})})]})})]}),(0,t.jsxs)("div",{className:"video-actions",children:[(0,t.jsxs)("div",{className:"icon-text",children:[(0,t.jsx)("span",{className:"icon",children:(0,t.jsx)(pe,{})}),(0,t.jsx)("span",{className:"text",children:Ge||"-"})]}),(0,t.jsxs)("div",{className:"icon-text",children:[(0,t.jsx)("span",{className:"icon",children:(0,t.jsx)(Ie,{})}),(0,t.jsx)("span",{className:"text",children:Ye||"-"})]}),(0,t.jsxs)("div",{className:R()("icon-text",{"--active":u}),onClick:We,children:[(0,t.jsx)("span",{className:"icon",children:(0,t.jsx)(xe,{})}),(0,t.jsx)("span",{className:"text",children:Je||"-"})]}),(0,t.jsxs)("div",{className:R()("icon-text",{"--active":h}),onClick:Ze,children:[(0,t.jsx)("span",{className:"icon",children:(0,t.jsx)(Ae,{})}),(0,t.jsx)("span",{className:"text",children:Ke||"-"})]})]}),p.ID?(0,t.jsxs)("div",{className:"video-info-wrapper",children:[(0,t.jsxs)("div",{className:"video-info",children:[(0,t.jsx)("img",{className:"video-info__avatar",src:((s=p.Creator)==null?void 0:s.Avatar)||"https://uplife/ic_launcher_round.png",alt:(n=p.Creator)==null?void 0:n.Nickname}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"video-info__title",onClick:()=>i(!0),children:[p.Title||"-",(0,t.jsx)("span",{className:"icon has-text-info",children:(0,t.jsx)(Ne,{})})]}),(0,t.jsxs)("div",{className:"video-meta",children:[(0,t.jsx)("span",{children:(A==null?void 0:A.Nickname)||"-"}),(0,t.jsxs)("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6827",width:"200",height:"200",children:[(0,t.jsx)("defs",{}),(0,t.jsx)("path",{d:"M167.024 512a344.976 344.976 0 1 1 689.952 0 344.976 344.976 0 0 1-690 0zM512 106.976a405.024 405.024 0 1 0 0 810.048 405.024 405.024 0 0 0 0-810z m30 235.008a30 30 0 1 0-60 0V512c0 7.968 3.168 15.6 8.784 21.216l120 120a30 30 0 1 0 42.432-42.432L542 499.52V341.984z",fill:"#9499A0","p-id":"6828"})]}),(0,t.jsx)("span",{children:p.CreatedAt?(0,b.wb)(p.CreatedAt):"-"})]})]})]}),(0,t.jsx)(ie.$,{tags:B?B.trim().split(" ").map(d=>({title:d,href:`/pv/tag?type=video&title=${d}`})).concat(Ue==2?{title:"\u539F\u521B",href:"/pv/tag?type=video&is_original=2&title=\u539F\u521B"}:[]):[]})]}):(0,t.jsx)(re.iR,{className:"video-info__skeleton",height:"200px"}),(0,t.jsx)(se.Z,{id:e}),(0,t.jsx)(ce,{post:p,show:r,onChange:i})]})}},6678:function(M,P,o){"use strict";o.d(P,{Z:function(){return O}});var t=o(3148),l={},O=E=>{const{children:N,ratio:T,mw:L}=E;return(0,t.jsx)("div",{className:"aspect-ratio",style:{width:typeof L=="string"?L:`${L}px`},children:(0,t.jsx)("div",{className:"aspect-ratio__fill",style:{paddingTop:`${1/T*100}%`},children:N})})}},2341:function(M,P,o){var t={"./1.json":[7331,331],"./10.json":[5374,374],"./131478f2-31cd-446a-9cb2-15158b8c3efe.json":[7418,418],"./163f51f8-76a4-4e41-8eeb-f27295520829.json":[4550,550],"./2.json":[1526,526],"./20221113.json":[7824,824],"./3.json":[5424,424],"./4.json":[8525,525],"./7.json":[4941,941],"./77745a95-b5db-4c0b-ad08-0a55a6e70f49.json":[4063,63],"./9.json":[2807,807],"./b2cf7c39-3f62-45c0-bbe1-a9522ff24cb7.json":[6134,134]};function l(b){if(!o.o(t,b))return Promise.resolve().then(function(){var N=new Error("Cannot find module '"+b+"'");throw N.code="MODULE_NOT_FOUND",N});var O=t[b],E=O[0];return o.e(O[1]).then(function(){return o.t(E,19)})}l.keys=function(){return Object.keys(t)},l.id=2341,M.exports=l}}]);
