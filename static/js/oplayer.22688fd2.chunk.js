"use strict";(self.webpackChunk_web_index=self.webpackChunk_web_index||[]).push([[193],{7486:function(at,Pe,ce){ce.d(Pe,{$:function(){return De},ZP:function(){return ye},gn:function(){return O},tq:function(){return He}});var i=(l,o,c)=>new Promise((d,a)=>{var p=P=>{try{m(c.next(P))}catch(S){a(S)}},h=P=>{try{m(c.throw(P))}catch(S){a(S)}},m=P=>P.done?d(P.value):Promise.resolve(P.value).then(p,h);m((c=c.apply(l,o)).next())}),q=(l,o,c)=>(o=l[Symbol.asyncIterator],c=(d,a)=>(a=l[d])&&(o[d]=p=>new Promise((h,m,P)=>(p=a.call(l,p),P=p.done,Promise.resolve(p.value).then(S=>h({value:S,done:P}),m)))),o?o.call(l):(l=l[Symbol.iterator](),o={},c("next"),c("return"),o)),ke=Object.defineProperty,se=(l,o,c)=>o in l?ke(l,o,{enumerable:!0,configurable:!0,writable:!0,value:c}):l[o]=c,L=(l,o,c)=>(se(l,typeof o!="symbol"?o+"":o,c),c),ve,me,V,J,G,N,X,ee;function be(l){return Y(l).toString(36)}function Y(l){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=1540483477,d=24,a=o^l.length,p=l.length,h=0;for(;p>=4;){let m=te(l,h);m=M(m,c),m^=m>>>d,m=M(m,c),a=M(a,c),a^=m,h+=4,p-=4}switch(p){case 3:a^=I(l,h),a^=l.charCodeAt(h+2)<<16,a=M(a,c);break;case 2:a^=I(l,h),a=M(a,c);break;case 1:a^=l.charCodeAt(h),a=M(a,c);break}return a^=a>>>13,a=M(a,c),a^=a>>>15,a>>>0}function te(l,o){return l.charCodeAt(o++)+(l.charCodeAt(o++)<<8)+(l.charCodeAt(o++)<<16)+(l.charCodeAt(o)<<24)}function I(l,o){return l.charCodeAt(o++)+(l.charCodeAt(o++)<<8)}function M(l,o){l=l|0,o=o|0;let c=l&65535,d=l>>>16;return c*o+((d*o&65535)<<16)|0}function A(l){return Boolean(l&&typeof l=="object"&&!Array.isArray(l))}function K(l){for(var o=arguments.length,c=new Array(o>1?o-1:0),d=1;d<o;d++)c[d-1]=arguments[d];if(!c.length)return l;const a=c.shift();if(A(l)&&A(a))for(const p in a)A(a[p])?(l[p]||Object.assign(l,{[p]:{}}),K(l[p],a[p])):Object.assign(l,{[p]:a[p]});return K.apply(void 0,[l].concat(c))}function fe(l){let o=[":",".","[",">"," "],c=!1,d=l.charAt(0);for(let a=0;a<o.length;a++)if(d===o[a]){c=!0;break}return c||l.indexOf("&")>=0}var C=/[(),]|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g;function R(l){if(l.indexOf(",")===-1)return[l];for(var o=[],c=[],d=0,a;a=C.exec(l);)switch(a[0]){case"(":d++;break;case")":d--;break;case",":if(d)break;o.push(a.index)}for(a=o.length;a--;)c.unshift(l.slice(o[a]+1)),l=l.slice(0,o[a]);return c.unshift(l),c}function ue(l,o){let c=R(l);return R(o).map(a=>a.indexOf("&")>=0?a:"&"+a).reduce((a,p)=>a.concat(c.map(h=>p.replace(/\&/g,h))),[]).join(",")}function _e(l,o){return l?"@media "+l.substring(6)+" and "+o.substring(6):o}function Le(l){return l.indexOf("@media")===0}function Ie(l){return l.indexOf("@keyframes")===0}function lt(l){return l.indexOf("@global")===0}function Ce(l,o){var c;let d=o.rules,a=o.mediaQuery,p=o.globalSelector,h={};return p&&(l=p),(c=Object.keys(d))==null||c.forEach(m=>{var P,S,W,ie;if(lt(m)){const j=m;m=m.substring(8);const Q=m.indexOf("&");let U;Q!=-1?(U=ue(l,m),p=m.substring(0,Q-1).trim()):U=m,K(h,Ce(U,{mediaQuery:a,rules:d[j],globalSelector:U}))}else fe(m)?K(h,Ce(ue(l,m),{rules:d[m],mediaQuery:a})):Le(m)?K(h,Ce(l,{mediaQuery:_e(a,m),rules:d[m]})):a?((P=h[a])!=null||(h[a]={}),(W=(S=h[a])[l])!=null||(S[l]={}),h[a][l][m]=d[m]):Ie(m)?h[m]=d[m]:((ie=h[l])!=null||(h[l]={}),h[l][m]=d[m])}),h}function qe(l){let o=[];for(const c in l)if(Object.hasOwnProperty.call(l,c)){const d=l[c];A(d)?o.push(c+"{"+qe(d)+"}"):o.push(c+":"+d)}return/^\d%/.test(o[0])?o.join(" "):o.join(";")}function je(l){let o=[];for(const c in l)if(Object.hasOwnProperty.call(l,c)){const d=l[c];if(Le(c))o.push(c+"{"+je(d)+"}");else if(Ie(c))o.push(c+"{"+qe(d)+"}");else{const a=Object.entries(d).map(p=>{let h=p[0],m=p[1];return h+":"+m}).join(";");o.push(c+"{"+a+"}")}}return o}function ct(l,o){return je(Ce(o,{rules:l}))}var De;(l=>{l.create=function(a){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";const m=a.indexOf("#")!==-1,P=a.indexOf(".")!==-1,S=m?a.split("#"):P?a.split("."):[a],W=S[0],ie=S[1],j=document.createElement(W);return m&&(j.id=ie),P&&j.classList.add(ie),h&&(j.innerHTML=h),Object.keys(p).forEach(Q=>{const U=p[Q];(W==="video"||W==="audio")&&typeof U=="boolean"?U&&j.setAttribute(Q,""):typeof U!="undefined"&&j.setAttribute(Q,""+U)}),j},l.render=(a,p)=>p.appendChild(a),l.isBrowser=()=>Boolean(typeof globalThis!="undefined"&&globalThis.document&&globalThis.document.documentElement);function o(a){if(!l.isBrowser())return null;let p=document.createElement("style");p.setAttribute("data-"+a,""),p.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(p);for(let h=0;h<document.styleSheets.length;h++)if(document.styleSheets[h].ownerNode===p)return document.styleSheets.item(h);return null}l.createSheet=o;const c=(()=>{const a=Object.create({});return p=>{const h=typeof p=="object"?JSON.stringify(p):p;return a[h]||(a[h]="css-"+be(h)),a[h]}})();l.createCss=a=>{let p=a.sheet,h=a.ssrData;return function(){for(var m,P=arguments.length,S=new Array(P),W=0;W<P;W++)S[W]=arguments[W];const ie=Boolean(S[0]&&S[0].length&&S[0].raw);let j="";if(ie){let oe=S[0];j+=oe[0];for(let Ee=1;Ee<S.length;Ee++)j+=typeof S[Ee]!="string"?"":S[Ee],j+=oe[Ee]}else typeof S[0]=="string"?j=S[0]:j=JSON.stringify(S[0]);const Q=c(j);if(p){for(let oe=0;oe<p.cssRules.length;oe++)if(((m=p.cssRules[oe])==null?void 0:m.selectorText)=="."+Q)return Q}let U=["."+Q+"{"+j+"}"];return!ie&&typeof S[0]=="object"&&(U=ct(S[0],"."+Q)),p?U.forEach(oe=>{p.insertRule(oe,p.cssRules.length)}):h=h.concat(U),Q}},l.createStyled=()=>{const a=[],p=o("oplayer");return{css:l.createCss({sheet:p,ssrData:a}),getCssValue:()=>a}};var d=l.createStyled();l.css=d.css,l.getCssValue=d.getCssValue,l.cls=a=>"css-"+be(a)})(De||(De={}));const xe=De,ut=/(iPad)/gi.test((ve=globalThis.navigator)==null?void 0:ve.userAgent)||/Macintosh/i.test((me=globalThis.navigator)==null?void 0:me.userAgent)&&Boolean((V=globalThis.navigator)==null?void 0:V.maxTouchPoints)&&((J=globalThis.navigator)==null?void 0:J.maxTouchPoints)>=1,O=/iPhone/gi.test((G=globalThis.navigator)==null?void 0:G.userAgent)||ut,He=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test((N=globalThis.navigator)==null?void 0:N.userAgent)||O,Ue=/mqqbrowser/i.test((X=globalThis.navigator)==null?void 0:X.userAgent)&&!/ qq/i.test((ee=globalThis.navigator)==null?void 0:ee.userAgent),Fe=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","encrypted","waitingforkey","enterpictureinpicture","leavepictureinpicture"],we=["contextmenu","fullscreenchange","fullscreenerror"],Ne=["loadedplugin","videoqualitychange","videosourcechange","destroy"],dt=[].concat(Fe,we,Ne);class We{constructor(){L(this,"events",Object.create(null))}on(o,c){this.events[o]||(this.events[o]=[]),this.events[o].push(c)}onAny(o,c){o.forEach(d=>this.on(d,c))}once(o,c){const d=a=>{c({type:o,payload:a.payload}),this.off(o,d)};this.on(o,d)}off(o,c){if(!this.events[o])return;const d=this.events[o].indexOf(c);d>-1&&this.events[o].splice(d,1)}offAny(o){this.events[o]=[]}offAll(){this.events=Object.create(null)}emit(o,c){var d,a;(d=this.events[o])!=null&&d.length&&this.events[o].forEach(p=>{p({type:o,payload:c})}),(a=this.events["*"])==null||a.forEach(p=>{p({type:o,payload:c})})}}const Ae={Play:"\u64AD\u653E",Pause:"\u6682\u505C",Loop:"\u5FAA\u73AF\u64AD\u653E",Volume:"\u97F3\u91CF","Volume: %s":"\u97F3\u91CF\uFF1A%s",Mute:"\u9759\u97F3",Speed:"\u64AD\u653E\u901F\u5EA6",Screenshot:"\u622A\u56FE",Subtitle:"\u5B57\u5E55",Quality:"\u753B\u8D28",Fullscreen:"\u5168\u5C4F","TextDecoder Not Supported":"\u4E0D\u652F\u6301\u539F\u751F\u5B57\u5E55",Setting:"\u8BBE\u7F6E","Picture in Picture":"\u753B\u4E2D\u753B",Danmaku:"\u5F39\u5E55",Display:"\u663E\u793A",Opacity:"\u900F\u660E\u5EA6",FontSize:"\u5B57\u4F53\u5927\u5C0F","Display Area":"\u663E\u793A\u533A\u57DF",Close:"\u5173\u95ED",Auto:"\u81EA\u52A8",Default:"\u9ED8\u8BA4",Normal:"\u6B63\u5E38","%ss":"%s\u79D2","Can be closed after %ss":"%s\u79D2\u540E\u53EF\u5173\u95ED\u5E7F\u544A"};class Be{constructor(o){L(this,"lang"),L(this,"languages",{zh:Ae,"zh-CN":Ae,en:Object.keys(Ae).reduce((c,d)=>(c[d]=d,c),{})}),this.lang=o==="auto"?navigator.language:o,this.languages[this.lang]||navigator.languages.some(c=>{if(this.languages[c])return this.lang=c,!0;if(c.indexOf("-")!==-1){const d=c.split("-")[0];if(d&&this.languages[d])return this.lang=d,!0}return!1}),this.languages[this.lang]||(this.lang="zh-CN")}get(o){for(var c=arguments.length,d=new Array(c>1?c-1:0),a=1;a<c;a++)d[a-1]=arguments[a];const p=this.languages[this.lang][o];if(p==null)return o;let h=0;return p.replace(/%s/gi,()=>{var m;return(m=d[h++])!=null?m:""})}update(o){this.languages=K(this.languages,o)}}class ye{constructor(o,c){L(this,"container"),L(this,"options"),L(this,"eventEmitter",new We),L(this,"locales"),L(this,"plugins",new Set),L(this,"$root"),L(this,"$video"),L(this,"listeners",Object.create(null)),L(this,"hasError",!1),L(this,"isCustomLoader",!1),L(this,"evil"),L(this,"_playPromise"),L(this,"use",d=>([d].flat().forEach(a=>{this.plugins.add(a)}),this)),L(this,"on",(()=>{var d=this;return function(a,p){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{once:!1};return typeof a=="string"?h.once?d.eventEmitter.once(a,p):d.eventEmitter.on(a,p):Array.isArray(a)?d.eventEmitter.onAny(a,p):typeof a=="function"&&d.eventEmitter.on("*",a),d}})()),L(this,"off",(d,a)=>{this.eventEmitter.off(d,a)}),L(this,"offAny",d=>{this.eventEmitter.offAny(d)}),L(this,"emit",(d,a)=>{this.eventEmitter.emit(d,a)}),L(this,"create",()=>(this.render(),this.initEvent(),this._applyPlugins(),this.options.source.src&&this.load(this.options.source),this)),L(this,"initEvent",()=>{const d=h=>{this.hasError=!0,this.emit("error",h)};this.listeners.error=d,this.$video.addEventListener("error",h=>this.listeners.error(h));const a=h=>this.emit("fullscreenchange",h);[[this.$video,"webkitbeginfullscreen","webkitendfullscreen"],[this.$root,"fullscreenchange","webkitfullscreenchange"]].forEach(h=>{const m=h[0];h.slice(1).forEach(S=>{this.listeners[S]=a,m.addEventListener(S,W=>this.listeners[S](W))})});const p=(h,m)=>this.eventEmitter.emit(h,m);Fe.filter(h=>h!=="error").forEach(h=>{this.listeners[h]=p,this.$video.addEventListener(h,m=>this.listeners[h](h,m),{passive:!0})}),we.filter(h=>h!=="fullscreenchange").forEach(h=>{this.listeners[h]=p,this.$root.addEventListener(h,m=>this.listeners[h](h,m),{passive:!0})})}),L(this,"render",()=>{this.$video=xe.create("video."+xe.css(`
        width: 100%;
        height: 100%;
        display: block;
        position: relative;
      `),Object.assign({autoplay:this.options.autoplay,loop:this.options.loop,playsinline:this.options.playsinline,"webkit-playsinline":this.options.playsinline,"x5-playsinline":this.options.playsinline,preload:this.options.preload,poster:this.options.source.poster},this.options.videoAttr)),this.$video.muted=!!this.options.muted,this.$video.volume=this.options.volume,this.$root=xe.create("div."+xe.css(`
        position: relative;
        -moz-user-select: none;
        -webkit-user-select: none;
        -ms-user-select: none;
        user-select: none;
        width: 100%;
        height: 100%;
        overflow: hidden;
        background-color: #000;
      `)),xe.render(this.$video,this.$root),xe.render(this.$root,this.container)}),L(this,"load",d=>i(this,null,function*(){try{for(var a=q(this.plugins),p,h,m;p=!(h=yield a.next()).done;p=!1){const P=h.value;P.load&&(yield P.load(this,d,{loader:this.isCustomLoader}))&&!this.isCustomLoader&&(this.isCustomLoader=!0)}}catch(P){m=[P]}finally{try{p&&(h=a.return)&&(yield h.call(a))}finally{if(m)throw m[0]}}this.isCustomLoader||(this.$video.src=d.src)})),L(this,"_applyPlugins",()=>{this.plugins.forEach(d=>{d.apply&&d.apply(this)})}),L(this,"play",()=>{if(!this.$video.src)throw Error("The element has no supported sources.");return this._playPromise=this.$video.play()}),this.container=o,this.options=Object.assign({autoplay:!1,muted:!1,loop:!1,volume:1,preload:"metadata",playbackRate:1,playsinline:!0,lang:"auto",source:{},videoAttr:{},isLive:!1,evil:()=>Ue},typeof c=="string"?{source:{src:c}}:c),this.evil=this.options.evil,this.locales=new Be(this.options.lang)}static make(o,c){return new ye(o,c)}setPoster(o){this.$video.poster=o}pause(){var o;return(o=this._playPromise)!=null&&o.then?this._playPromise.then(()=>this.$video.pause()):this.$video.pause()}togglePlay(){return this.isPlaying?this.pause():this.play()}mute(){this.$video.muted=!0}unmute(){this.$video.muted=!1}toggleMute(){this.isMuted?this.unmute():this.mute()}setVolume(o){this.$video.volume=o>1?1:o<0?0:o,this.$video.volume>0&&this.isMuted&&this.unmute()}setPlaybackRate(o){this.$video.playbackRate=o}seek(o){this.$video.currentTime=o}setLoop(o){this.$video.loop=o}enterFullscreen(){return O?this.$video.webkitEnterFullscreen():this._requestFullscreen.call(this.$root,{navigationUI:"hide"})}exitFullscreen(){return this._exitFullscreen.call(document)}get isFullscreenEnabled(){return Boolean(O&&this.$video.webkitEnterFullscreen)||document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}get isFullScreen(){return Boolean(O&&this.$video.webkitDisplayingFullscreen||(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)===this.$root)}toggleFullScreen(){return this.isFullScreen?this.exitFullscreen():this.enterFullscreen()}get isPipEnabled(){return document.pictureInPictureEnabled}enterPip(){return this.$video.requestPictureInPicture()}exitPip(){return this.isInPip?document.exitPictureInPicture():!1}get isInPip(){return document.pictureInPictureElement==this.$video}togglePip(){return this.isInPip?this.exitPip():this.enterPip()}_resetStatus(){this._playPromise=void 0,this.hasError=!1,this.isCustomLoader=!1}changeQuality(o){return i(this,null,function*(){this._resetStatus(),this.emit("videoqualitychange",o),yield this.load(o)})}changeSource(o){return i(this,null,function*(){this._resetStatus(),this.$video.poster=o.poster||"",this.emit("videosourcechange",o),yield this.load(o)})}destroy(){this.emit("destroy"),this.pause(),this.isFullScreen&&this.exitFullscreen(),this.plugins.clear(),this.$video.src="",this.$video.remove(),this.container.remove(),this.eventEmitter.offAll()}get state(){return this.$video.readyState}get isLoading(){return this.$video.readyState<this.$video.HAVE_ENOUGH_DATA&&!this.hasError}get isLoaded(){return this.$video.readyState>=this.$video.HAVE_FUTURE_DATA}get canPlay(){return this.$video.readyState>=this.$video.HAVE_ENOUGH_DATA}get isPlaying(){return this.$video.paused===!1}get isMuted(){return this.$video.muted}get isEnded(){return this.$video.ended}get isLoop(){return this.$video.loop}get isAutoPlay(){return this.$video.autoplay}get duration(){return this.$video.duration}get buffered(){return this.$video.buffered}get currentTime(){return this.$video.currentTime}get volume(){return this.$video.volume}get playbackRate(){return this.$video.playbackRate}get _requestFullscreen(){return HTMLElement.prototype.requestFullscreen||HTMLElement.prototype.webkitRequestFullscreen||HTMLElement.prototype.mozRequestFullScreen||HTMLElement.prototype.msRequestFullscreen}get _exitFullscreen(){return Document.prototype.exitFullscreen||Document.prototype.webkitExitFullscreen||Document.prototype.cancelFullScreen||Document.prototype.mozCancelFullScreen||Document.prototype.msExitFullscreen}static get version(){return"1.0.56-beta.0"}}console.log("%c Oh Player %c v"+ye.version+" %c https://github.com/shiyiya/oplayer","color: #fff; background: #6668ab; padding: 4px 6px; margin: 4px 0;","color: #fff; background: #5f5f5f; padding: 4px 6px; margin: 4px 0;","")},331:function(at,Pe,ce){ce.d(Pe,{ZP:function(){return ve}});var i=ce(7486),q=ce(5168),ke=ce(3148);const se=["playing","duration","aspectRatio","plugins","onEvent"];function L(V,J){if(V==null)return{};var G={},N=Object.keys(V),X,ee;for(ee=0;ee<N.length;ee++)X=N[ee],!(J.indexOf(X)>=0)&&(G[X]=V[X]);return G}const ve=(0,q.forwardRef)((V,J)=>{const G=V.playing,N=V.duration,X=N===void 0?0:N,ee=V.aspectRatio,be=ee===void 0?9/16:ee,Y=V.plugins,te=V.onEvent,I=L(V,se),M=(0,q.useRef)(!0),A=(0,q.useRef)(null),K=me(I.source),fe=(0,q.useCallback)(C=>{if(C!==null){const R=i.ZP.make(C,I).use(Y||[]).create();A.current=R,R.seek(X/1e3),te&&R.on(te)}},[]);return(0,q.useEffect)(()=>{var C,R,ue;M.current||(G?A.current&&!A.current.isPlaying&&((C=A.current)==null||C.play()):(R=A.current)!=null&&R.isPlaying&&((ue=A.current)==null||ue.pause()))},[G]),(0,q.useEffect)(()=>{var C,R,ue,_e,Le;M.current||((K==null?void 0:K.src)!==((C=I.source)==null?void 0:C.src)&&((R=A.current)==null||R.changeSource(I.source),(ue=A.current)==null||ue.setPlaybackRate(I.playbackRate||1)),(Le=A.current)==null||Le.setPoster(((_e=I.source)==null?void 0:_e.poster)||""))},[I.source]),(0,q.useEffect)(()=>{var C;M.current||(C=A.current)==null||C.seek(X/1e3)},[X]),(0,q.useEffect)(()=>{var C,R;M.current||(I.muted?(C=A.current)==null||C.mute():(R=A.current)==null||R.unmute())},[I.muted]),(0,q.useEffect)(()=>{var C;M.current||(C=A.current)==null||C.setPlaybackRate(I.playbackRate)},[I.playbackRate]),(0,q.useEffect)(()=>(M.current=!1,()=>{var C;return(C=A.current)==null?void 0:C.destroy()}),[]),(0,q.useImperativeHandle)(J,()=>A.current,[]),(0,ke.jsx)("div",{style:{width:"100%",paddingTop:be*100+"%",backgroundColor:"#f4f4f4",position:"relative"},children:(0,ke.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},ref:fe})})});function me(V){const J=(0,q.useRef)();return(0,q.useEffect)(()=>{J.current=V},[V]),J.current}},1846:function(at,Pe,ce){ce.d(Pe,{Z:function(){return kn}});var i=ce(7486),q=Object.defineProperty,ke=(e,t,n)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,se=(e,t,n)=>(ke(e,typeof t!="symbol"?t+"":t,n),n),L,ve,me,V,J;function G(e,t){return t||(t=e.slice(0)),e.raw=t,e}const N=i.$.css("/* settingShown */"),X=i.$.css("/* fullscreen */"),ee=e=>i.$.css(Object.assign({"--primary-color":""+e.primaryColor,"--shadow-background-color":"rgba(28 ,28 ,28 , .9)","--controller-Bottom-height":"3.25em",position:"absolute",top:"0",left:"0",width:"100%",height:"100%","font-size":"12px","&, & > *":{"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)"}},!i.tq&&{["&."+X]:{"font-size":"16px"}})),be=i.$.css(L||(L=G([`
  z-index: 9999 !important;
  position: fixed !important;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;`]))),Y=i.$.css({background:"none",border:"none",cursor:"pointer",padding:0,outline:"none",font:"inherit",color:"inherit","line-height":"inherit","text-align":"inherit",width:"100%"}),te=i.$.css("/* controllerHidden */"),I=i.$.css({"& > svg:nth-child(1)":{display:"none"}}),M=i.$.css({"& > svg:nth-child(2)":{display:"none"}}),A=i.$.cls("/* loading */"),K=i.$.cls("/* isInitialized */"),fe=i.$.cls("/* playing */"),C=i.$.cls("/* focused */"),R=i.tq?"":i.$.css({position:"relative","&:hover":{"&::after":{opacity:1,transform:"translateX(-50%) scale(1)"},"&[data-tooltip-pos=up-right]::after":{right:0,left:"auto",transform:"translateY(0) scale(1)"}},"&::after":{position:"absolute",content:"attr(aria-label)",bottom:"100%",left:"50%","margin-bottom":"0.5em","white-space":"nowrap",background:"var(--shadow-background-color)",transform:"translate(-50%, 10px) scale(.8)","transform-origin":"50% 100%",opacity:0,padding:"4px 8px","border-radius":"4px",transition:"transform .2s ease .1s,opacity .2s ease .1s","pointer-events":"none","font-size":"120%"},"&[data-tooltip-pos=up-right]::after":{right:0,left:"auto",transform:"translateY(10px) scale(.8)","transform-origin":"100% 100%"}}),Oe={play:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path  d="M245.76 785.203V238.797c0-50.442 34.918-69.182 77.967-42.046l422.196 266.117c43.11 27.157 43.069 71.128 0 98.284L323.727 827.249c-43.11 27.177-77.967 8.315-77.967-42.046z" /></svg>',pause:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path  d="M327.68 184.32a81.92 81.92 0 0 1 81.92 81.92v491.52a81.92 81.92 0 1 1-163.84 0V266.24a81.92 81.92 0 0 1 81.92-81.92z m368.64 0a81.92 81.92 0 0 1 81.92 81.92v491.52a81.92 81.92 0 1 1-163.84 0V266.24a81.92 81.92 0 0 1 81.92-81.92z" /></svg>',volume:['<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg width="200px" height="200.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path  d="M552.96 152.064v719.872c0 16.118-12.698 29.184-28.365 29.184a67.482 67.482 0 0 1-48.394-20.644L329.359 729.354a74.547 74.547 0 0 0-53.493-22.794H250.47c-104.386 0-189.03-87.101-189.03-194.56s84.644-194.56 189.03-194.56h25.396c20.07 0 39.3-8.192 53.473-22.794L476.18 143.503a67.482 67.482 0 0 1 48.436-20.623c15.646 0 28.344 13.066 28.344 29.184z m216.965 101.58a39.936 39.936 0 0 1 0-57.425 42.25 42.25 0 0 1 58.778 0c178.483 174.408 178.483 457.154 0 631.562a42.25 42.25 0 0 1-58.778 0 39.936 39.936 0 0 1 0-57.405 359.506 359.506 0 0 0 0-516.752zM666.542 373.884a39.731 39.731 0 0 1 0-55.235 37.52 37.52 0 0 1 53.944 0c104.305 106.783 104.305 279.921 0 386.704a37.52 37.52 0 0 1-53.944 0 39.731 39.731 0 0 1 0-55.235c74.486-76.288 74.486-199.946 0-276.234z" /></svg>','<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg width="200px" height="200.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path  d="M552.96 152.064v719.872c0 16.118-12.698 29.184-28.365 29.184a67.482 67.482 0 0 1-48.394-20.644L329.359 729.354a74.547 74.547 0 0 0-53.493-22.794H250.47c-104.386 0-189.03-87.101-189.03-194.56s84.644-194.56 189.03-194.56h25.396c20.07 0 39.3-8.192 53.473-22.794L476.18 143.503a67.482 67.482 0 0 1 48.436-20.623c15.646 0 28.344 13.066 28.344 29.184z m400.507 514.662a31.068 31.068 0 0 1-41.41 2.294l-88.167-70.656a40.243 40.243 0 0 0-50.34 0l-88.166 70.656a31.068 31.068 0 0 1-43.684-43.684l70.656-88.166a40.243 40.243 0 0 0 0-50.34L641.7 398.664a31.068 31.068 0 0 1 43.684-43.684l88.166 70.656c14.705 11.796 35.635 11.796 50.34 0l88.166-70.656a31.068 31.068 0 0 1 43.684 43.684l-70.656 88.166a40.243 40.243 0 0 0 0 50.34l70.656 88.166a31.068 31.068 0 0 1-2.273 41.41z" /></svg>'],fullscreen:['<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg width="200px" height="200.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path  d="M235.8322669 622.46683433h-110.46812886v276.16902763h276.16902763v-110.46812886h-165.70089877v-165.70089877z m-110.46812886-220.93366866h110.46812886v-165.70089877h165.70089877v-110.46812886H125.36413804v276.16902763z m662.80359506 386.63456743h-165.70089877v110.46812886h276.16902763V622.46683433h-110.46812886v165.70089877z m-165.70089877-662.80359506v110.46812886h165.70089877v165.70089877h110.46812886V125.36413804H622.46683433z" /></svg>','<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg width="200px" height="200.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path  d="M125.36413804 732.9349632h165.70089876v165.70089876h110.46812887V622.46683433H125.36413804v110.46812887z m165.70089876-441.8699264h-165.70089876v110.46812887h276.16902763V125.36413804h-110.46812887v165.70089876z m331.40179753 607.57082516h110.46812887v-165.70089876h165.70089876v-110.46812887H622.46683433v276.16902763z m110.46812887-607.57082516v-165.70089876h-110.46812887v276.16902763h276.16902763v-110.46812887h-165.70089876z" /></svg>'],pip:'<svg t="1655881687207" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="200" height="200"><path d="M896 811.989333l0-600.021333-768 0 0 600.021333 768 0zM982.016 809.984q0 34.005333-25.984 59.989333t-59.989333 25.984l-768 0q-34.005333 0-59.989333-25.984t-25.984-59.989333l0-598.016q0-34.005333 25.984-59.008t59.989333-25.002667l768 0q34.005333 0 59.989333 25.002667t25.984 59.008l0 598.016zM809.984 470.016l0 256-340.010667 0 0-256 340.010667 0z" p-id="4652"></path></svg>',setting:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1660103758898" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1788" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><path d="M132.915 475.689l-44.523-88.556a60.539 60.539 0 0 1 1.904-57.958l49.87-84.93a62.607 62.607 0 0 1 50.073-30.577l100.25-6.349a83.6 83.6 0 0 0 63.938-36.331L410.132 88.8a62.771 62.771 0 0 1 52.04-27.361h99.717c20.89 0 40.387 10.26 51.979 27.361l55.705 82.187a83.6 83.6 0 0 0 63.96 36.31l100.249 6.35a62.607 62.607 0 0 1 50.073 30.596l49.87 84.952a60.56 60.56 0 0 1 1.904 57.958l-44.524 88.535a80.691 80.691 0 0 0 0 72.622l44.524 88.556c9.257 18.411 8.54 40.14-1.905 57.958l-49.869 84.93a62.607 62.607 0 0 1-50.073 30.577l-100.25 6.349a83.6 83.6 0 0 0-63.938 36.331L613.888 935.2a62.771 62.771 0 0 1-52.06 27.361H462.11a62.771 62.771 0 0 1-51.979-27.361l-55.705-82.187a83.6 83.6 0 0 0-63.96-36.31l-100.249-6.35a62.607 62.607 0 0 1-50.073-30.596l-49.87-84.952a60.539 60.539 0 0 1-1.904-57.958l44.524-88.535a80.691 80.691 0 0 0 0-72.622zM512 696.32a184.32 184.32 0 1 0 0-368.64 184.32 184.32 0 0 0 0 368.64z" p-id="1789"></path></svg>',screenshot:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1659432399974" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9974" width="200" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><path d="M853.333333 128H170.666667c-25.6 0-42.666667 17.066667-42.666667 42.666667v384h85.333333V213.333333h597.333334v341.333334h85.333333V170.666667c0-25.6-17.066667-42.666667-42.666667-42.666667z" p-id="9975"></path><path d="M725.333333 597.333333c-29.866667 0-59.733333 8.533333-85.333333 25.6l-55.466667-55.466666 162.133334-162.133334L686.933333 341.333333l-162.133333 162.133334L358.4 341.333333 298.666667 401.066667l162.133333 162.133333-64 64c-25.6-17.066667-59.733333-29.866667-98.133333-29.866667-93.866667 0-170.666667 76.8-170.666667 170.666667s76.8 170.666667 170.666667 170.666667 170.666667-76.8 170.666666-170.666667c0-25.6-4.266667-51.2-17.066666-72.533333l68.266666-68.266667 55.466667 55.466667c-17.066667 25.6-25.6 55.466667-25.6 85.333333 0 93.866667 76.8 170.666667 170.666667 170.666667s170.666667-76.8 170.666666-170.666667-72.533333-170.666667-166.4-170.666667zM298.666667 853.333333c-46.933333 0-85.333333-38.4-85.333334-85.333333s38.4-85.333333 85.333334-85.333333 85.333333 38.4 85.333333 85.333333-38.4 85.333333-85.333333 85.333333z m426.666666 0c-46.933333 0-85.333333-38.4-85.333333-85.333333s38.4-85.333333 85.333333-85.333333 85.333333 38.4 85.333334 85.333333-38.4 85.333333-85.333334 85.333333z" p-id="9976"></path></svg>',playbackRate:'<svg t="1662793741675" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4313" width="200" height="200"><path d="M512 951.04a435.2 435.2 0 1 1 435.2-435.2 435.2 435.2 0 0 1-435.2 435.2z m0-819.2a384 384 0 1 0 384 384A384 384 0 0 0 512 132.096z" p-id="4314" fill="#ffffff"></path><path d="M468.992 493.824l-130.048-75.008a20.992 20.992 0 0 0-31.232 18.176v150.016a20.992 20.992 0 0 0 31.232 18.176l130.048-75.008a20.992 20.992 0 0 0 0-36.352zM684.8 493.824l-129.536-75.008a21.248 21.248 0 0 0-31.744 18.432v149.504a21.248 21.248 0 0 0 31.744 18.432l129.536-75.008a20.992 20.992 0 0 0 0-36.352z" p-id="4315" fill="#ffffff"></path></svg>',subtitle:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1660451299604" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M853.333333 170.666667H170.666667c-47.061333 0-85.333333 38.272-85.333334 85.333333v512c0 47.061333 38.272 85.333333 85.333334 85.333333h682.666666c47.061333 0 85.333333-38.272 85.333334-85.333333V256c0-47.061333-38.272-85.333333-85.333334-85.333333z m-384 256H341.333333v170.666666h128v85.333334H341.333333c-47.061333 0-85.333333-38.272-85.333333-85.333334v-170.666666c0-47.061333 38.272-85.333333 85.333333-85.333334h128v85.333334z m298.666667 0h-128v170.666666h128v85.333334h-128c-47.061333 0-85.333333-38.272-85.333333-85.333334v-170.666666c0-47.061333 38.272-85.333333 85.333333-85.333334h128v85.333334z" p-id="1366"></path></svg>',loop:'<svg style="transform: scale(.8);" t="1662029141436" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2497"><path d="M677.944889 589.909333c25.713778-16.952889 41.301333-46.478222 41.301333-78.222222 0-31.772444-15.587556-61.297778-41.301333-78.222222L440.32 276.906667c-58.88-38.741333-135.566222 5.518222-135.566222 78.279111V668.16c0 72.789333 76.686222 116.992 135.566222 78.222222l237.596444-156.472889h0.028445z m-47.132445-78.222222l-237.624888 156.472889V355.128889l237.624888 156.501333v0.028445z" p-id="2498" fill="#ffffff"></path><path d="M486.968889 104.106667c-128-0.227556-248.974222 57.457778-328.078222 156.444444h54.072889c16.469333 0 31.658667 8.647111 39.879111 22.641778 8.248889 14.023111 8.248889 31.288889 0 45.283555-8.248889 14.023111-23.409778 22.641778-39.879111 22.641778H74.865778c-25.400889 0-46.023111-20.252444-46.023111-45.283555v-164.693334c0-25.031111 20.622222-45.283556 46.023111-45.283555 25.429333 0 46.051556 20.252444 46.051555 45.283555v24.746667C216.832 68.266667 348.984889 13.255111 486.968889 13.482667 767.658667 13.511111 995.555556 236.316444 995.555556 511.715556c0 275.342222-227.868444 498.147556-508.586667 498.147555-190.862222 0.199111-365.738667-104.675556-453.006222-271.644444a44.657778 44.657778 0 0 1 1.678222-45.767111 46.250667 46.250667 0 0 1 41.415111-20.906667 46.08 46.08 0 0 1 38.798222 25.315555c71.509333 136.760889 214.812444 222.634667 371.114667 222.435556 230.257778 0 416.512-182.698667 416.512-407.608889 0-224.881778-186.254222-407.580444-416.512-407.580444z" p-id="2499" fill="#ffffff"></path></svg>',progressIndicator:null,loadingIndicator:null};var O;(e=>{e.setupIcons=(t,n)=>{for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(Oe[s]=n[s]);t.icons=Oe},e.get=t=>Oe[t]})(O||(O={}));const He=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function n(s){let r=s.target;r&&(e.$root.contains(r)||e.$root==r)?e.$root.classList.add(C):e.$root.classList.remove(C)}t&&e.$root.classList.add(C),document.addEventListener("click",n),document.addEventListener("contextmenu",n),e.on("destroy",()=>{document.removeEventListener("click",n),document.removeEventListener("contextmenu",n)})},Ue=e=>e.$root.classList.contains(C),Fe=e=>{let t=!1;const n=()=>{t&&e.$root.classList.remove(K),t=!1},s=()=>{t||(t=!0,e.$root.classList.add(K),e.emit("videoinitialized"))};i.tq?e.on("durationchange",function(){e.duration!==1/0&&e.duration>0&&s()}):e.on("canplaythrough",s),e.on("videosourcechange",n)},we=e=>e.$root.classList.contains(K),Ne=e=>{e.on("play",()=>{e.$root.classList.add(fe)}),e.on(["pause","videosourcechange"],()=>{e.$root.classList.remove(fe)})},dt=e=>{let t=0,n=0,s=!1,r=!1;const v=()=>e.$root.classList.add(A),b=()=>e.$root.classList.remove(A);v(),e.on("videoinitialized",b),e.on("seeking",()=>{e.isPlaying||(v(),e.on("canplaythrough",b,{once:!0}))}),e.on("play",()=>r=!0),e.on("pause",()=>(r=!1,b())),e.on("videosourcechange",()=>{v(),r=!1,t=n=0}),setInterval(()=>{r&&we(e)&&(n=e.currentTime,!s&&n===t&&e.isPlaying&&(v(),s=!0),s&&n>t&&e.isPlaying&&(b(),s=!1),t=n)},100)},We=e=>e.$root.classList.contains(A),ht=(e,t)=>{e.on("fullscreenchange",()=>{t.classList.toggle(X)})},gt=(e,t,n)=>{Fe(e),Ne(e),dt(e),ht(e,n),i.tq||He(e,t.autoFocus)};function ze(e){return e<10?"0"+e:""+e}function ae(e){if(!isFinite(e))return"--:--";const t=Math.floor(e/3600),n=Math.floor(e%3600/60),s=Math.floor(e%3600%60);return(t>0?ze(t)+":":"")+ze(n)+":"+ze(s)}function ft(e,t){const n=document.createElement("a");n.href=e,n.download=t,n.click()}const pt=e=>{var t;try{const n=document.createElement("canvas"),s=e.videoWidth,r=e.videoHeight;return n.width=s,n.height=r,(t=n.getContext("2d"))==null||t.drawImage(e,0,0,s,r),n.toDataURL("image/png")}catch(n){return n}},Ge=e=>{if(We(e)||!we(e)){e.emit("notice",{text:e.locales.get("Please wait for loading to complete")});return}const t=pt(e.$video);t instanceof Error?e.emit("notice",{text:t.message}):ft(t,ae(e.currentTime).replace(/:/g,"-")+"-OPlayer-ScreenShot.png")},Xe=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1500,n=null;const s=()=>n&&clearTimeout(n);return{callee:()=>{s(),n=setTimeout(()=>{e()},t)},clear:s}},Ye=(e,t)=>{var n=[],s=e.parentNode.children;for(let r=0,v=s.length;r<v;r++)s[r]!==e&&(t==null||t(s[r]),n.push(s[r]));return n};function Re(e,t){return e.classList.add(t),e}function Me(e,t){return e.classList.remove(t),e}function vt(e,t){return e.classList.toggle(t)}function Te(e,t){return e.classList.contains(t)}const de={dragStart:i.tq?"touchstart":"mousedown",dragMove:i.tq?"touchmove":"mousemove",dragEnd:i.tq?"touchend":"mouseup"},Ke=10,Qe=5,$e={ArrowUp:e=>{const t=e.volume*100+Ke;e.setVolume(t/100),e.emit("notice",{text:e.locales.get("Volume: %s",~~(e.volume*100)+"%")})},ArrowDown:e=>{const t=e.volume*100-Ke;e.setVolume(t/100),e.emit("notice",{text:e.locales.get("Volume: %s",~~(e.volume*100)+"%")})},ArrowLeft:e=>{e.seek(e.currentTime-Qe),e.emit("notice",{text:ae(e.currentTime)+" / "+ae(e.duration)})},ArrowRight:e=>{e.seek(e.currentTime+Qe),e.emit("notice",{text:ae(e.currentTime)+" / "+ae(e.duration)})}," ":e=>e.togglePlay(),Escape:e=>{if(e.isFullScreen){e.exitFullscreen();return}e.$root.classList.contains(be)&&e.emit("fullscreenchange",{isWeb:!0})},"s+s":Ge};function mt(e){let t;function n(s){var r;if(((r=document.activeElement)==null?void 0:r.getAttribute("contenteditable"))||!Ue(e))return;const v=s.key;$e[v]&&(s.preventDefault(),$e[v](e)),t&&t===v&&$e[t+"+"+v]&&(s.preventDefault(),$e[t+"+"+v](e)),t=v,setTimeout(()=>{t=void 0},200)}e.on("addhotkey",s=>{let r=s.payload;for(const v in r)Object.prototype.hasOwnProperty.call(r,v)&&($e[v]=r[v])}),e.on("removehotkey",s=>{s.payload.forEach(v=>{delete $e[v]})}),document.addEventListener("keydown",n),e.on("destroy",()=>{document.removeEventListener("keydown",n)})}function bt(e,t){t!=null&&t.length&&e.emit("addsetting",{name:e.locales.get("Speed"),type:"selector",icon:O.get("playbackRate"),key:"speed",children:t.map(n=>({name:+n==1?"Normal":n+"x",value:+n,default:e.playbackRate==+n})),onChange:n=>{let s=n.value;return e.setPlaybackRate(s)}})}const Ae=i.$.css(ve||(ve=G([`
  width: 2.5em;
  height: 110px;
  padding-bottom: 3px;
  box-sizing: content-box;
`]))),Be=i.$.css(`
  width: 100%;
  text-align: center;
  height: 28px;
  line-height: 28px;
  margin-bottom: 2px;
  font-size: 80%;
`),ye=i.$.css(`
  position:relative;
  display: flex;
  justify-content: center;
  height: 70px;
  cursor: pointer;
`),l=i.$.css(`
  height: 100%;
  width: 2px;
  position: relative;

`),o=i.$.css(`
  background: rgb(231 231 231);
  height: 100%;
  width: 2px;
  border-radius: 2px;
`),c=i.$.css(`
  height: 100%;
  width: 100%;
  background-color: var(--primary-color);
  transform-origin: 0 100%;
  border-radius: 2px;
`),d=i.$.css(me||(me=G([`
  position:absolute;
  bottom: 0;
  top: auto;
  left: -5px;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background-color: var(--primary-color);
  vertical-align: middle;
  pointer-events: none;
  `]))),p=(e,t)=>{const n=i.$.create("div."+Ae,{},"<div class="+Be+`>100</div>

    <div class=`+ye+`>
        <div class=`+l+`>
          <div class=`+o+`>
            <div class=`+c+`></div>
          </div>

          <div class=`+d+`></div>
        <div>
      </div>`),s=n.querySelector("."+ye),r=n.querySelector("."+d),v=n.querySelector("."+c),b=n.querySelector("."+Be),f=u=>{const w=s.getBoundingClientRect(),E=(w.bottom-(u.clientY||u.changedTouches[0].clientY))/w.height;return E>=1?1:E<=0?0:E},g=u=>{u.preventDefault(),e.setVolume(x(f(u)))},x=u=>(b.innerText=""+~~(u*100),v.style.transform="scaleY("+u+")",r.style.bottom="calc("+~~(u*100)+"% - 6px)",u);x(e.volume),e.on("volumechange",()=>{x(e.isMuted?0:e.volume)}),s.addEventListener(de.dragStart,u=>{g(u),document.addEventListener(de.dragMove,g,{passive:!1}),document.addEventListener(de.dragEnd,()=>{document.removeEventListener(de.dragMove,g)},{once:!0})}),i.$.render(n,t)},h=i.$.css(V||(V=G([`
  padding: `,`;
  font-variant-numeric: tabular-nums;
  font-size: 120%;
`])),i.tq?0:"0px 0.5em"),m=i.$.css(`
    position: absolute;
    top: 0;
    right: 50%;
    z-index: 10;
    border-radius: 3px;
    box-sizing: border-box;
    transform: translate(50%, -100%);
    transition: visibility 0s, opacity 0.1s linear;
    font-size: 120%;
`),P=i.$.css({position:"relative",display:"flex",["& ."+m]:{visibility:"hidden",opacity:0,"background-color":"var(--shadow-background-color)"}}),S=i.$.css({["&:hover"]:{"padding-top":"0.5em","margin-top":"-0.5em",["& ."+m]:{visibility:"visible",opacity:1}}}),W=i.$.css({"min-width":"6em",display:"block",height:"2.4em","line-height":"2.4em",cursor:"pointer","text-align":"center","word-break":"keep-all","&:nth-last-child(1)":{"margin-bottom":"0px"},"& *":{"pointer-events":"none"},"&[data-selected=true]":{color:"var(--primary-color)"},"&:hover":{"background-color":"rgba(255, 255, 255, 0.1)"}}),ie=i.$.css({display:"flex","justify-content":"space-between",color:"#fff",fill:"#fff",height:"var(--controller-Bottom-height)",padding:i.tq?0:"0px 0px 5px 0px","margin-right":i.tq?"-8px":"0px","text-align":"center",["& ."+Y+".--text"]:{width:"auto",margin:"0 8px","font-size":"120%"},["& ."+Y]:{width:"3em",height:"1.9em",["& svg"]:{width:"100%",height:"100%","pointer-events":"none"}},"> div":{display:"flex","align-items":"center"}}),Q=(e,t,n)=>{const s=[e.locales.get("Play"),e.locales.get("Pause"),e.locales.get("Screenshot"),e.locales.get("Setting"),e.locales.get("Picture in Picture"),e.locales.get(e.isFullscreenEnabled?"Fullscreen":"WebFullscreen")],r=s[0],v=s[1],b=s[2],f=s[3],g=s[4],x=s[5],u=i.$.create("div."+ie,{},`<div>
      `+(i.tq?"":`<button
              class="`+Y+" "+(e.isPlaying?I:M)+" "+R+`"
              aria-label="`+r+`"
            >
              `+O.get("play")+`
              `+O.get("pause")+`
            </button>`)+`

      <span class=`+h+">"+(e.options.isLive?"00:00":"00:00 / --:--")+`</span>
    </div>

    <!-- right -->
    <div>
      `+(n.screenshot?'<button class="'+Y+" "+R+'" aria-label="'+b+`">
              `+O.get("screenshot")+`
            </button>`:"")+`

      <div class="`+P+" "+S+`">
        <button class="`+Y+" "+(e.isMuted?I:M)+`" aria-label="Volume">
            `+O.get("volume")[0]+`
            `+O.get("volume")[1]+`
        </button>
        `+(i.gn?"":"<div class="+m+"></div>")+`
      </div>

      <button class="`+Y+" "+R+'" aria-label="'+f+`">
        `+O.get("setting")+`
      </button>

      `+(n.pictureInPicture&&e.isPipEnabled?'<button class="'+Y+" "+R+'" aria-label="'+g+`">
                `+O.get("pip")+`
            </button>`:"")+`

      `+(n.fullscreen?'<button class="'+Y+" "+M+" "+R+'" data-tooltip-pos="up-right" aria-label="'+x+`">
                `+O.get("fullscreen")[0]+`
                `+O.get("fullscreen")[1]+`
              </button>`:"")+`
    </div>`),w=u.querySelector("button[aria-label=Volume]");i.gn||p(e,w.nextElementSibling);const E=u.querySelector("button[aria-label="+r+"]"),F=u.querySelector("."+h),z=u.querySelector('button[aria-label="'+x+'"]'),H=(k,T)=>{k.classList.add(T?I:M),k.classList.remove(T?M:I)};n.fullscreen&&e.on("fullscreenchange",k=>{let T=k.payload;return setTimeout(()=>{T.isWeb?H(z,vt(e.$root,be)):H(z,e.isFullScreen)})}),i.tq||e.on(["play","pause","videosourcechange"],()=>{E.setAttribute("aria-label",e.isPlaying?v:r),H(E,e.isPlaying)}),e.on("volumechange",()=>H(w,e.isMuted)),e.on(["durationchange","timeupdate","seeking","seeked"],()=>{F.innerText=ae(e.currentTime)+" "+(e.options.isLive?"":" / "+ae(e.duration))}),e.on("videosourcechange",()=>F.innerText=e.options.isLive?"00:00":"00:00 / --:--"),u.addEventListener("click",k=>{switch(k.target.getAttribute("aria-label")){case r:case v:return e.togglePlay();case"Volume":if(i.tq&&!i.gn)return;e.isMuted?e.unmute():e.mute();break;case g:return e.togglePip();case x:e.isFullscreenEnabled?e.toggleFullScreen():e.emit("fullscreenchange",{isWeb:!0});return;case b:Ge(e);break;case f:{e.emit("settingvisibilitychange",k);break}}}),i.$.render(u,t)},U=i.$.css(`
  display: none;
  bottom: 15px;
  position: absolute;
  left: 50%;
  padding: 5px 8px;
  background-color: var(--shadow-background-color);
  color: #fff;
  border-radius: 4px;
  white-space: nowrap;
  word-break: nowrap;
  transform: translateX(-50%);`),oe=i.$.css({position:"absolute",width:"6px",height:"4px","border-radius":"1px","background-color":"#fff",transform:"translateX(-3px)",transition:"all 0.2s",["&:hover > ."+U]:{display:"block"}});function Ee(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const s=document.createDocumentFragment();let r=[],v=!0;function b(g){const x=i.$.create("div."+oe,{},'<span class="'+U+'">'+g.text+"</san>");return x.style.left=g.left+"%",x}function f(g,x){for(let u=0;u<g.length;u++){const w=g[u],E=b({left:w.time/x*100,text:w.text});r.push(E),i.$.render(E,s)}i.$.render(s,t)}e.on("videoinitialized",()=>{v&&f(n,e.duration)}),e.on("videosourcechange",()=>{v=!1,r.forEach(g=>g.remove())}),e.on("highlightchange",()=>{v=!0,r.forEach(g=>g.remove()),f(n,e.duration)})}const Ze=()=>{},xt=i.$.css(`
  position: absolute;
  left: 0;
  bottom: 12px;
  pointer-events: none;
  transform: translateX(-50%);
  background-position-y: center;
  display: none;`);function Rt(e,t,n){if(!n)return{update:Ze,hide:Ze,init:Ze};const s=i.$.render(i.$.create("div."+xt),t);let r=0,v=0,b=n.src,f=!1,g=100/n.number;setTimeout(()=>{const u=(n==null?void 0:n.width)||160,w=(n==null?void 0:n.height)||90;s.style.width=u+"px",s.style.height=w+"px",r=u/2/t.clientWidth,v=(t.clientWidth-u/2)/t.clientWidth});const x=()=>{f||(f=!0,s.style.backgroundImage="url("+b+")")};return e.on("videosourcechange",()=>{f=!1}),e.on("thumbnailssourcechange",u=>{b=u.payload}),{init:x,update:u=>{s.style.left=(u<r?r:u>v?v:u)*100+"%";const w=~~(u*100/g)*n.number*g;s.style.backgroundPositionX=-w+"%"}}}const Je=()=>{},wt=i.$.css(`
  position: absolute;
  left: 0;
  bottom: 12px;
  pointer-events: none;
  transform: translateX(-50%);
  background-position-y: center;
  display: none;`);function Mt(e,t,n){if(!n)return{update:Je,hide:Je,init:Je};let s=[],r={},v,b=!1,f=n.src;const g=i.$.render(i.$.create("div."+wt),t);g.style.width=((n==null?void 0:n.width)||160)+"px",g.style.height=((n==null?void 0:n.height)||90)+"px";const x=$=>{fetch($).then(y=>y.text()).then(y=>{s=u(y),b=!0,g.style.opacity="1"})};n.src&&x(n.src),e.on("videosourcechange",()=>{b=!1,g.style.opacity="0",s=[],r={}}),e.on("thumbnailssourcechange",$=>{let y=$.payload;x(y)});const u=$=>{const y=[];return $.split(/[\r\n][\r\n]/i).forEach(D=>{if(D.match(/([0-9]{2}:)?([0-9]{2}:)?[0-9]{2}(.[0-9]{3})?( ?--> ?)([0-9]{2}:)?([0-9]{2}:)?[0-9]{2}(.[0-9]{3})?[\r\n]{1}.*/gi)){const B=D.split(/[\r\n]/i),he=isFinite(+B[0])?B[1]:B[0],Se=isFinite(+B[0])?B[2]:B[1],ne=he.split(/ ?--> ?/i),re=ne[0],ge=ne[1],Z=F(Se);y.push({start:w(re),end:w(ge),css:Z})}return y}),y},w=$=>{const y=E($);return y.hours*(60*60)+y.minutes*60+y.seconds+y.milliseconds/1e3},E=$=>{const y=$.split("."),D=y[0].split(":");return{milliseconds:parseInt(y[1],10)||0,seconds:parseInt(D.pop(),10)||0,minutes:parseInt(D.pop(),10)||0,hours:parseInt(D.pop(),10)||0}},F=$=>{const y={};if(!$.match(/#xywh=/i))return y.background='url("'+z($)+'")',y;const _=H($);return y.background='url("'+z(_.image)+'") no-repeat -'+_.x+"px -"+_.y+"px",y.width=_.w+"px",y.height=_.h+"px",y.url=z(_.image),y},z=(()=>{const $={};return y=>{if($[y])return $[y];if(/(https?:)?\/\//.test(y))return y;let _=f;/(https?:)?\/\//.test(y)&&(_=f.substring(0,f.indexOf("?")||void 0));const D=_.lastIndexOf("/");if(_.startsWith("https://")&&D<8||_.startsWith("http://")&&D<7)return f+y;const B=_.substring(D+1);return $[y]=f.replace(B,y),$[y]}})(),H=$=>{const y=$.split(/#xywh=/i),_=y[0],B=y[1].match(/[0-9]+/gi);return{x:B[0],y:B[1],w:B[2],h:B[3],image:_}},k=$=>{if(!b)return;const y=e.duration,_=$*y,D=T(_);if(!D){g.style.opacity="0";return}const B=t.clientWidth,he=$*B,Se=parseInt(D.width,10),ne=Se>>1,re=B-(he+ne),ge=he-ne;if(g.style.opacity="1",ge>0&&re>0?g.style.transform="translateX("+(he-ne)+"px)":ge<=0?g.style.transform="translateX("+0+"px)":re<=0&&(g.style.transform="translateX("+(B-Se)+"px)"),!(v&&v===D)){v=D;for(const Z in D)D.hasOwnProperty(Z)&&(g.style[Z]=D[Z])}},T=$=>{for(let y=0;y<s.length;++y){const _=s[y];if($>=_.start&&$<_.end){if(_.css.url&&!r[_.css.url]){const D=new Image;D.src=_.css.url,r[_.css.url]=D}return _.css}}};return{init:()=>{},update:k}}const et=i.$.css({"background-color":"hsla(0, 0%, 100%, 0.4)"}),tt=i.$.css({"background-color":"var(--primary-color)"}),Ve=i.$.css({width:"100%","pointer-events":"none",position:"relative","z-index":1,"& > *":{content:"''",display:"block",position:"absolute",width:"1.4em",height:"1.4em",top:"calc(-0.7em + 2px)",left:"-0.7em",bottom:"0",transform:"scale(0)",transition:"transform 0.3s ease","z-index":"1"},"& > *:not(svg)":{width:"1em",height:"1em",top:"calc(-0.5em + 2px)",left:"-0.5em","border-radius":"50%","background-color":"#fff"}}),nt=i.$.css({position:"absolute",left:"0","border-radius":"4px",padding:"5px 8px","background-color":"var(--shadow-background-color)",color:"#fff","word-wrap":"nowrap","word-break":"nowrap","z-index":"2","pointer-events":"none",transform:"translateX(-50%)",display:"none","white-space":"pre",bottom:"15px"}),pe=i.$.css("/* progressDragging */"),Bt=i.$.css({position:"relative","box-sizing":"border-box",padding:"5px 0",cursor:"pointer",width:"100%",["&."+pe+" ."+Ve+" > * "+(i.tq?"":",&:hover ."+Ve+" > *")]:{transform:"scale(1)"},["&."+pe+" ."+nt+", &."+pe+" ."+xt+", &."+pe+" ."+wt]:{display:"block"}}),Vt=i.$.css({position:"relative",height:"4px",width:"100%","background-color":"hsla(0, 0%, 100%, 0.2)","border-radius":"2px",["& ."+et+", & ."+tt]:{position:"absolute",left:"0",top:"0",bottom:"0","will-change":"width","pointer-events":"none","border-radius":"2px"}}),It=(e,t,n)=>{var s;const r=i.$.create("div."+Bt,{},"<div class="+Vt+`>
      <div class="`+nt+`">00:00</div>
      <div class="`+et+`" style="width:0%"></div>
      <div class="`+tt+`" style="width:0%"></div>
      <div class="`+Ve+`" style="transform: translateX(0%);">
        `+(O.get("progressIndicator")||"<span />")+`
      </div>
  </div>`),v=r.firstElementChild,b=(s=n.thumbnails)!=null&&s.isVTT?Mt(e,v,n.thumbnails):Rt(e,v,n.thumbnails),f=b.init,g=b.update;Ee(e,v,n.highlight);const x=r.querySelector("."+et),u=r.querySelector("."+tt),w=r.querySelector("."+Ve),E=r.querySelector("."+nt);let F=!1;const z=k=>{const T=r.getBoundingClientRect(),$=((k.clientX||k.changedTouches[0].clientX)-T.left)/T.width;return $>=1?1:$<=0?0:$},H=k=>{const T=z(k),$=T*100;return u.style.width=$+"%",w.style.transform="translateX("+$+"%)",E.innerText=ae(e.duration*T),E.style.left=$+"%",T};r.addEventListener(de.dragStart,k=>{F=!0,r.classList.add(pe),f(),g(H(k));function T($){$.preventDefault(),g(H($))}document.addEventListener(de.dragMove,T,{passive:!1}),document.addEventListener(de.dragEnd,$=>{r.classList.remove(pe),F=!1,document.removeEventListener(de.dragMove,T),e.seek(z($)*e.duration)},{once:!0})}),i.tq||(r.addEventListener("mouseenter",()=>{F||f()}),r.addEventListener("mousemove",k=>{if(F)return;r.classList.add(pe),k.target.classList.contains(oe)?E.style.display="none":E.removeAttribute("style");const T=z(k);E.innerText=ae(e.duration*T),E.style.left=T*100+"%",g(T)},{passive:!1}),r.addEventListener("mouseleave",()=>{F||r.classList.remove(pe)})),e.on(["timeupdate","seeking"],()=>{if(F)return;const k=e.currentTime,T=e.duration,$=k/T*100||0;u.style.width=$+"%",w.style.transform="translateX("+$+"%)"}),e.on("progress",()=>{const k=e.buffered.length?e.buffered.end(e.buffered.length-1)/e.duration*100:0;x.style.width=k+"%"}),e.on("videosourcechange",()=>{x.style.width="0%",u.style.width="0%",w.style.transform="translateX(0%)"}),i.$.render(r,t)},$t=i.$.css({position:"absolute",left:"0",right:"0",bottom:"0","z-index":"97",padding:"0 1.25em",transition:"transform 0.3s ease, padding 0.3s ease","background-image":"linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.3))"}),qt=1500,jt=(e,t,n)=>{const s=i.$.create("div."+$t);e.options.isLive||It(e,s,n),Q(e,s,n),i.$.render(s,t),i.$.css({["@global ."+te]:{cursor:"none",["& ."+$t]:n.miniProgressBar?{transform:"translateY(calc(100% - 7px))",padding:"0","pointer-events":"none"}:{transform:"translateY(100%)"}}});const r=()=>{!we(e)||!e.isPlaying&&!i.tq||Te(e.$root,te)||Te(e.$root,N)||Re(e.$root,te)},v=Xe(r,qt),b=v.callee,f=v.clear,g=()=>{Te(e.$root,te)&&(f(),Me(e.$root,te))};return e.on("play",b),e.on(["pause","videosourcechange"],g),i.tq||(e.$root.addEventListener("mousemove",()=>{g(),b()}),e.$root.addEventListener("mouseleave",r)),()=>{Te(e.$root,te)?g():r()}},Ht=i.$.css(Object.assign({"& > button":{position:"absolute",right:"40px",bottom:"5em",fill:"#fff",width:"4.5em","z-index":"97","& > svg":Object.assign({filter:"drop-shadow(4px 4px 6px rgba(0, 0, 0, 0.3))"},i.tq&&{"&:nth-child(1)":{display:"block"},"&:nth-child(2)":{display:"none"},["@global ."+fe+" &"]:{"&:nth-child(1)":{display:"none"},"&:nth-child(2)":{display:"block"}}})},"@media only screen and (max-width: 991px)":{"& > button":{top:"0",bottom:"0",left:"0",right:"0",margin:"auto",width:"3.5em",height:"3.5em"}}},i.tq?{display:"none",["@global ."+K+" &"]:{display:"block"},["@global ."+te+" &"]:{display:"none"}}:{["@global ."+A+" &"]:{display:"none"},["@global ."+fe+" &"]:{display:"none"}})),yt=(e,t)=>{const n=!e.evil()&&i.tq,s=i.$.create("div."+Ht,{},'<button aria-label="Play" class="'+Y+`" type="button">
      `+O.get("play")+`
      `+(n?O.get("pause"):"")+`
    </button>`);e.evil()?(s.style.display="block",s.addEventListener("click",()=>(e.play(),s.remove()),{once:!0})):s.addEventListener("click",()=>e.togglePlay()),i.$.render(s,t)},Ut=i.$.css(`
  display: none;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  color: #fff;
  font-size: 1.25em;
  background: #000;
  z-index: 99;
  align-items: center;
  padding: 0 10px;
  -moz-user-select: text;
  -webkit-user-select: text;
  -ms-user-select: text;
  user-select: text;
  word-break: break-all;
  justify-content: center;
`),Et=i.$.css("display: flex;"),Nt={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"},Wt=(e,t,n)=>{if(n.errorBuilder){e.on("error",r=>{let v=r.payload;n.errorBuilder(v)});return}const s=i.$.create("div."+Ut,{"aria-label":"Error Overlay"});e.on("error",r=>{var v;let b=r.payload,f=b.message;if(b instanceof Event){const g=(v=b.target)==null?void 0:v.error;if(!g||!g.message&&typeof g.code!="number")return;f=g.message||Nt[g.code]}else f=b.message;s.innerText=f||"UNKNOWN_ERROR",Re(s,Et)}),e.on("videosourcechange",()=>{Me(s,Et),s.innerText=""}),i.$.render(s,t)},Gt=i.$.css({position:"absolute",top:"0",bottom:"0",left:"0",right:"0",display:"none","align-items":"center","justify-content":"center",["@global ."+A+" &"]:{display:"flex"}}),Xt=i.$.css({position:"relative",overflow:"hidden",width:"20%",height:"4px","border-radius":"4px","&::before,&::after":{display:"block",content:"''",position:"absolute",height:"100%",width:"100%","background-color":"var(--primary-color)","border-radius":"4px"},"&::before":{opacity:"0.4"},"&::after":{animation:"indeterminate 1.3s infinite linear","transform-origin":"0% 50%"},"@keyframes indeterminate":{"0%":{transform:"translateX(0) scaleX(0)"},"10%":{transform:"translateX(0) scaleX(0.2)"},"40%":{transform:"translateX(0) scaleX(0.7)"},"60%":{transform:"translateX(60%) scaleX(0.4)"},"100%":{transform:"translateX(100%) scaleX(0.2)"}}}),Yt=(e,t)=>{const n=i.$.create("div."+Gt,{"aria-label":"Loading"},""+(O.get("loadingIndicator")||'<div class="'+Xt+'"></div>'));i.$.render(n,t)},Kt=i.$.css({width:"100%",height:"100%",position:"absolute",top:"0",left:"0",right:"0",bottom:"0",["@global ."+N+" &"]:{"z-index":"98"}}),Qt=(e,t,n)=>{const s=i.$.create("div."+Kt);s.addEventListener("click",()=>{!we(e)||Te(e.$root,N)||(i.tq?n():e.togglePlay())}),i.$.render(s,t)},St=e=>{const t=e.getAttribute("data-selected")=="true";e.setAttribute("data-selected",""+!t),Ye(e,n=>n.setAttribute("data-selected",""+t))},Zt=(e,t,n)=>{const s=[],r=t.querySelector("."+ie).children[1];n&&n.forEach(b=>v(b)),r.addEventListener("click",b=>{var f,g;const x=b.target,u=x.getAttribute("aria-label"),w=s.find(E=>E.name==u);!w||x.getAttribute("data-selected")=="true"||(x.tagName.toUpperCase()=="SPAN"?(St(x),(f=w.onChange)==null||f.call(w,w.children[+x.getAttribute("data-index")])):x.tagName.toUpperCase()=="BUTTON"&&((g=w.onClick)==null||g.call(w,x)))}),e.on("menubar:register",b=>{let f=b.payload;return v(f)}),e.on("menubar:unregister",b=>{var f,g;let x=b.payload;(f=r.querySelector("button[aria-label="+x.name+"]"))==null||f.remove(),(g=r.querySelector("div[aria-label="+x.name+"]"))==null||g.remove()}),e.on("menubar:select",b=>{let f=b.payload;St(r.querySelector("."+m+" > span[aria-label="+f.name+"]:nth-child("+(f.index+1)+")"))});function v(b){const f=b.name,g=b.icon,x=b.children;let u="";const w=`
    <button
      aria-label="`+f+`"
      class="`+Y+" "+(g?"":"--text")+`"
      type="button"
    >`+(g||f)+"</button>";b.children?u=`
      <div class="`+P+" "+S+'" aria-label="'+f+`">
        `+w+`
        <div class=`+m+`>
          `+x.map((E,F)=>`<span
                  aria-label=`+f+`
                  class=`+W+`
                  data-selected=`+Boolean(E.default)+`
                  data-index=`+F+`
                >`+E.name+"</span>").join("")+`
          </div>
      </div>`:u=w,s.push(b),r.insertAdjacentHTML("afterbegin",u)}},Jt=i.$.css(J||(J=G([`
  position: absolute;
  display: none;
  top: 10px;
  left: 10px;
  right: 10px;
  z-index: 99;
`]))),kt=i.$.css(`
  -moz-user-select: all;
  -webkit-user-select: all;
  -ms-user-select: all;
  user-select: all;
  color: #fff;
  background-color: var(--shadow-background-color);
  border-radius: 2px;
  padding: 5px 10px;
  font-size: 120%;
`),en=2e3,Lt=i.$.css("display:block;"),tn=(e,t)=>{const n=i.$.create("div."+Jt,{"aria-label":"Notice"},'<span class="'+kt+'"></span>'),s=n.querySelector("."+kt),r=Xe(()=>Me(n,Lt),en),v=r.callee;function b(f){return function(){return f.apply(void 0,arguments),Re(n,Lt),v()}}["play","pause","enterFullscreen","exitFullscreen","enterPip","exitPip"].forEach(f=>{const g=e[f].bind(e);Object.defineProperty(e,f,{get:()=>function(){const x=g.apply(void 0,arguments);return x!=null&&x.catch?x.catch(u=>(b(()=>s.innerText=u.message)(),u)):x}})}),e.on("notice",b(f=>{s.innerText=f.payload.text})),i.$.render(n,t)},le=i.$.css("display: block;"),nn=i.$.css({"z-index":"98","max-height":"75%","border-radius":"3px",display:"block",position:"absolute",right:"1.25em",bottom:"3.4em",overflow:"auto","background-color":"var(--shadow-background-color)",fill:"#fff","&::-webkit-scrollbar":{width:"2px"},"&::-webkit-scrollbar-thumb":{background:"var(--primary-color)"},"& > div":{display:"none","font-size":"120%"},["& > div."+le]:{display:"block"}}),sn=i.$.css("min-width: 15.5em;"),on=i.$.css("min-width: 10.5em;"),Tt=i.$.css(`
  display: none;
  width: 18px;
  height: 18px;
`),rn=i.$.css(`
  width: 30px;
  height: 30px;
  margin: 0 -10px 0 -5px;
`),an=i.$.css(`
  width: 30px;
  height: 30px;
  transform: rotate(180deg);
  margin-left: -10px;
`),Pt=i.$.css({position:"absolute",cursor:"pointer",top:"0",left:"0",right:"0",bottom:"0","background-color":"#ccc",transition:".3s","border-radius":"34px","&:before":{position:"absolute",content:'""',height:"16px",width:"16px",left:"4px",bottom:"3px","background-color":"white",transition:".3s","border-radius":"50%"}}),ln=i.$.css(`
  position: relative;
  width: 40px;
  height: 22px;
`),cn=i.$.css(`
  white-space: nowrap;
  color: rgba(255, 255, 255, 0.7);
  font-size: 80%;
`),un=i.$.css({height:"2.4em",cursor:"pointer",color:"#fff","justify-content":"space-between","align-items":"center",padding:"0 10px","line-height":"1",display:"flex",overflow:"hidden","& > *":{"pointer-events":"none"},"&:hover":{"background-color":"rgba(255, 255, 255, 0.1)"},["&[data-selected='true']"]:{["& ."+Tt]:{display:"block"},["&[data-index]"]:{"background-color":"rgba(255, 255, 255, 0.1)"},["& ."+Pt]:{"background-color":"var(--primary-color)","&:before":{transform:"translateX(16px)"}}}}),st=i.$.css({display:"flex","align-items":"center","margin-right":"10px","& > svg":{width:"22px","margin-right":"6px"}}),_t=i.$.css(`
  display: flex;
  align-items: center;
`),dn=i.$.css({width:"100%",display:"flex","align-items":"center","border-bottom":"1px solid rgb(255 255 255 / 10%)"}),Ct=function(){return'<svg class="'+(arguments.length>0&&arguments[0]!==void 0?arguments[0]:rn)+'"  xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="m 12.59,20.34 4.58,-4.59 -4.58,-4.59 1.41,-1.41 6,6 -6,6 z" fill="#fff"></path></svg>'},hn=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return'<div class="'+st+`">
      `+t+`
      <span>`+e+`</span>
    </div>
    <svg class=`+Tt+` xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 24 24">
      <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" fill="#fff"></path>
    </svg>
`},gn=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return'<div class="'+st+`">
      `+t+`
      <span>`+e+`</span>
    </div>
    <div class=`+_t+`>
      <span role="label" class=`+cn+`></span>
      `+Ct()+`
    </div>
`},fn=e=>'<div class="'+dn+`">
      `+Ct(an)+`
      <span>`+e+`</span>
    </div>
`,pn=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return'<div class="'+st+`">
    `+t+`
    <span>`+e+`</span>
  </div>
  <div class=`+_t+`>
    <label class=`+ln+`>
      <span class=`+Pt+`></span>
    </label>
  </div>
`};function Dt(e){let t=e.type,n=e.key,s=e.name,r=e.icon,v=e.default,b=e.index,f=i.$.create("div."+un,{"data-key":n});const g={$row:f,$label:void 0};switch(t){case"switcher":f.innerHTML=pn(s,r),f.setAttribute("data-selected",v||!1);break;case"selector":f.innerHTML=gn(s,r),g.$label=f.querySelector('span[role="label"]');break;case"back":f.innerHTML=fn(s);break;default:f.innerHTML=hn(s,r),f.setAttribute("data-selected",v||!1),typeof b=="number"&&f.setAttribute("data-index",b.toString());break}return g}function it(e,t,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!n||n.length==0)return;const r=s.isPatch,v=s.key,b=s.target,f=s.parent,g=s.isSelectorOptionsPanel,x=s.name;let u={},w=v||"root";r?(u=t[0],w=t[0].key):(u.$ref=i.$.create("div."+(t[0]&&g?on:sn),{"data-key":w}),u.key=w,t.push(u)),u.parent=f;const E=u.key=="root";if(!E){const F=Dt({name:x,type:"back"}),z=F.$row;z.addEventListener("click",()=>{var H;u.$ref.classList.remove(le),(H=u.parent)==null||H.$ref.classList.add(le)}),i.$.render(z,u.$ref)}for(let F=0;F<n.length;F++){const z=n[F],H=z.name,k=z.type,T=z.key,$=z.children,y=z.icon,_=z.default,D=z.onChange,B=Dt(Object.assign({name:H,type:k,key:T,icon:y,default:_},!E&&g&&{index:F})),he=B.$row,Se=B.$label;if(i.$.render(he,u.$ref),i.$.render(u.$ref,b),$){const ne=k=="selector"&&$.every(ge=>!Boolean(ge.type)),re=it(e,t,$,{key:T,target:b,parent:u,isSelectorOptionsPanel:ne,name:k=="selector"?H:void 0});if(he.addEventListener("click",()=>{u.$ref.classList.remove(le),re.$ref.classList.add(le)}),ne){const ge=$.find(Z=>Z.default);ge&&(Se.innerText=ge.name),re.select=Z=>{const rt=re.$ref.children[Z+1];if(rt.getAttribute("data-selected")!="true"){rt.setAttribute("data-selected","true"),Ye(rt,zt=>{zt.hasAttribute("data-selected")&&zt.setAttribute("data-selected","false")});const Ft=$[Z];Se.innerText=Ft.name,D==null||D(Ft,{index:Z})}u.$ref.classList.add(le),re.$ref.classList.remove(le)},re.$ref.addEventListener("click",Z=>{re.select(+Z.target.getAttribute("data-index"))})}}else k=="switcher"&&he.addEventListener("click",function(){const ne=this.getAttribute("data-selected")=="true";this.setAttribute("data-selected",""+!ne),D==null||D(!ne)})}return u}function vn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const s=i.$.create("div."+nn);let r=[],v=null,b=!1;const f=[{name:e.locales.get("Loop"),type:"switcher",key:"loop",icon:O.get("loop"),default:e.isLoop,onChange:x=>e.setLoop(x)}].concat(n);it(e,r,f,{target:s}),r[0].onHide=()=>{b=!1,e.$root.classList.remove(N)},e.on("addsetting",x=>{let u=x.payload;it(e,r,Array.isArray(u)?u:[u],{isPatch:!0,target:s})}),e.on("updatesettinglabel",x=>{let u=x.payload;const w=s.querySelector('[data-key="'+u.key+'"] span[role="label"]');w&&(w.innerText=u.name)}),e.on("selectsetting",x=>{var u;let w=x.payload;const E=w.key,F=w.value,z=w.shouldBeCallFn,H=z===void 0?!0:z;if(typeof F=="number")for(let k=0;k<r.length;k++){const T=r[k];if(T.key==E){H&&T.select(F);break}}else(u=s.querySelector('[data-key="'+E+'"][data-selected]'))==null||u.click()}),e.on("removesetting",x=>{var u;let w=x.payload;(u=r[0].$ref.querySelector("[data-key="+w+"]"))==null||u.remove(),r=r.filter(E=>E.key===w?(E.$ref.remove(),E=null,!1):!0)}),e.on("settingvisibilitychange",x=>{v=x.payload.target,b=e.$root.classList.toggle(N),b?r[0].$ref.classList.toggle(le):r.forEach(w=>w.$ref.classList.remove(le))});function g(x){v!=x.target&&x.target!=s&&!s.contains(x.target)&&(b=!1,e.$root.classList.remove(N),r.forEach(u=>u.$ref.classList.remove(le)))}document.addEventListener("click",g),e.on("destroy",()=>document.removeEventListener("click",g)),i.$.render(s,t)}function mn(e){return e.replace(/(\d\d:\d\d:\d\d)[,.](\d+)/g,(t,n,s)=>{let r=s.slice(0,3);return s.length===1&&(r=s+"00"),s.length===2&&(r=s+"0"),n+","+r})}function bn(e){return`WEBVTT \r
\r
`.concat(mn(e).replace(/\{\\([ibu])\}/g,"</$1>").replace(/\{\\([ibu])1\}/g,"<$1>").replace(/\{([ibu])\}/g,"<$1>").replace(/\{\/([ibu])\}/g,"</$1>").replace(/(\d\d:\d\d:\d\d),(\d\d\d)/g,"$1.$2").replace(/{[\s\S]*?}/g,"").concat(`\r
\r
`))}function ot(e){return URL.createObjectURL(new Blob([e],{type:"text/vtt"}))}function At(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split(/[:.]/).map((t,n,s)=>{if(n===s.length-1){if(t.length===1)return"."+t+"00";if(t.length===2)return"."+t+"0"}else if(t.length===1)return(n===0?"0":":0")+t;return n===0?t:n===s.length-1?"."+t:":"+t}).join("")}function xn(e){const t=new RegExp("Dialogue:\\s\\d,(\\d+:\\d\\d:\\d\\d.\\d\\d),(\\d+:\\d\\d:\\d\\d.\\d\\d),([^,]*),([^,]*),(?:[^,]*,){4}([\\s\\S]*)$","i");return`WEBVTT

`+e.split(/\r?\n/).map(n=>{const s=n.match(t);return s?{start:At(s[1].trim()),end:At(s[2].trim()),text:s[5].replace(/{[\s\S]*?}/g,"").replace(/(\\N)/g,`
`).trim().split(/\r?\n/).map(r=>r.trim()).join(`
`)}:null}).filter(n=>n).map((n,s)=>n?s+1+`
`+n.start+" --> "+n.end+`
`+n.text:"").filter(n=>n.trim()).join(`

`)}function wn(e,t,n){new $n(e,t,n)}class $n{constructor(t,n,s){if(se(this,"options"),se(this,"$track"),se(this,"$iosTrack"),se(this,"$dom"),se(this,"isShow",!1),se(this,"currentSubtitle"),se(this,"update",r=>{var v,b;const f=this.$dom,x=(v=this.player.$video.textTracks[0])==null?void 0:v.activeCues;if(x!=null&&x.length){let u="";for(let w=0;w<x.length;w++){const E=x[w];E&&(u+=(b=E.text)==null?void 0:b.split(/\r?\n/).map(F=>"<p>"+F+"</p>").join(""))}f.innerHTML=u}else f.innerHTML=""}),this.player=t,this.el=n,!window.TextDecoder){t.emit("notice",{text:t.locales.get("TextDecoder not supported")});return}this.options=s||{source:[]},this.processDefault(),this.createContainer(),this.initEvents(),this.loadSetting(),this.load()}processDefault(){this.currentSubtitle=yn(this.options.source)}createContainer(){var t,n;const s=this.el,r=this.options;this.$dom=i.$.create("div."+i.$.css({color:(t=r.color)!=null?t:"#fff",left:"2%",right:"2%","text-align":"center","pointer-events":"none","text-shadow":"1px 0 1px #000, 0 1px 1px #000, -1px 0 1px #000, 0 -1px 1px #000, 1px 1px 1px #000, -1px -1px 1px #000, 1px -1px 1px #000, -1px 1px 1px #000",position:"absolute",bottom:""+((n=r.bottom)!=null?n:"5%"),"line-height":"1.2","font-size":(r.fontSize||(i.tq?14:16))/.12+"%","& > p":{margin:0}})),i.$.render(this.$dom,s)}createTrack(){this.$track=i.$.render(i.$.create("track",{default:!0,kind:"metadata"}),this.player.$video),i.gn&&(this.$iosTrack=i.$.render(i.$.create("track",{default:!1,kind:"captions"}),this.player.$video),this.player.$video.textTracks[1].mode="hidden",this.player.on("fullscreenchange",t=>{t.payload.isWeb||(this.player.isFullScreen?this.isShow&&(this.player.$video.textTracks[1].mode="showing"):this.player.$video.textTracks[1].mode="hidden")}))}initEvents(){this.player.on(["destroy","videosourcechange"],this.destroy.bind(this)),this.player.on("subtitlechange",t=>{let n=t.payload;this.destroy(),this.options.source=n,this.processDefault(),this.loadSetting(),this.load()})}load(){!this.currentSubtitle||(this.$track||this.createTrack(),this.loadSubtitle().then(()=>this.show()).catch(t=>{this.player.emit("notice",{text:t.message})}))}destroy(){const t=this.player,n=this.$dom,s=this.$track,r=this.$iosTrack;s==null||s.removeEventListener("cuechange",this.update),n.innerHTML="",t.emit("removesetting",Ot),s!=null&&s.src&&URL.revokeObjectURL(s.src),r!=null&&r.src&&URL.revokeObjectURL(r.src),s==null||s.remove(),r==null||r.remove()}show(){this.isShow=!0,this.$track.addEventListener("cuechange",this.update)}hide(){const t=this.$track,n=this.$dom;this.isShow=!1,n.innerHTML="",t.removeEventListener("cuechange",this.update)}loadSubtitle(){const t=this.currentSubtitle,n=this.player,s=this.$track,r=this.$iosTrack,v=t.src,b=t.encoding,f=t.type;return fetch(v).then(g=>g.arrayBuffer()).then(g=>{const u=new TextDecoder(b).decode(g);switch(f==null||f=="auto"?new URL(v).pathname.split(".")[1]:f){case"srt":return ot(bn(u));case"ass":return ot(xn(u));case"vtt":return ot(u);default:return v}}).then(g=>{s!=null&&s.src&&URL.revokeObjectURL(s.src),s.src=g,r&&(r.src&&URL.revokeObjectURL(r.src),r.src=g)}).catch(g=>{n.emit("notice",{text:"Subtitle"+g.message})})}loadSetting(){const t=this.options.source;t.length&&this.player.emit("addsetting",{name:this.player.locales.get("Subtitle"),type:"selector",icon:O.get("subtitle"),key:Ot,onChange:n=>{let s=n.value;s?(this.currentSubtitle=s,this.load()):this.hide()},children:[{name:this.player.locales.get("OFF"),default:!this.currentSubtitle}].concat(t==null?void 0:t.map(n=>{var s;return{name:n.name,default:((s=this.currentSubtitle)==null?void 0:s.src)==n.src,value:n}}))})}}const Ot="Subtitle";function yn(e){return e.find(t=>t.default)}const En=(e,t)=>{if(e.evil()){yt(e,e.$root);return}const n=i.$.create("div."+ee(t.theme)),s=document.createDocumentFragment();O.setupIcons(e,t.icons),gt(e,t,n),i.tq||mt(e),Wt(e,s,t),tn(e,s),Yt(e,s),yt(e,s),Qt(e,s,jt(e,s,t)),vn(e,s,t.settings),Zt(e,s,t.menu),bt(e,t.speed),wn(e,s,t.subtitle),i.$.render(s,n),i.$.render(n,e.$root)},Sn={theme:{primaryColor:"#6668ab"},hotkey:!0,speed:["2.0","1.75","1.25","1.0","0.75","0.5"],fullscreen:!0,pictureInPicture:!0,miniProgressBar:!0},kn=e=>({name:"oplayer-theme-ui",apply:t=>En(t,Object.assign(Sn,e))})}}]);
