"use strict";(self.webpackChunk_web_index=self.webpackChunk_web_index||[]).push([[193],{3806:function(at,_e,le){le.d(_e,{$:function(){return De},ZP:function(){return Se},gn:function(){return R},tq:function(){return Ue}});var i=(l,r,c)=>new Promise((u,a)=>{var p=P=>{try{b(c.next(P))}catch(T){a(T)}},h=P=>{try{b(c.throw(P))}catch(T){a(T)}},b=P=>P.done?u(P.value):Promise.resolve(P.value).then(p,h);b((c=c.apply(l,r)).next())}),U=(l,r,c)=>(r=l[Symbol.asyncIterator],c=(u,a)=>(a=l[u])&&(r[u]=p=>new Promise((h,b,P)=>(p=a.call(l,p),P=p.done,Promise.resolve(p.value).then(T=>h({value:T,done:P}),b)))),r?r.call(l):(l=l[Symbol.iterator](),r={},c("next"),c("return"),r)),ke=Object.defineProperty,se=(l,r,c)=>r in l?ke(l,r,{enumerable:!0,configurable:!0,writable:!0,value:c}):l[r]=c,_=(l,r,c)=>(se(l,typeof r!="symbol"?r+"":r,c),c),be,xe,q,ee,G,X,Y,te;function we(l){return K(l).toString(36)}function K(l){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=1540483477,u=24,a=r^l.length,p=l.length,h=0;for(;p>=4;){let b=ne(l,h);b=I(b,c),b^=b>>>u,b=I(b,c),a=I(a,c),a^=b,h+=4,p-=4}switch(p){case 3:a^=j(l,h),a^=l.charCodeAt(h+2)<<16,a=I(a,c);break;case 2:a^=j(l,h),a=I(a,c);break;case 1:a^=l.charCodeAt(h),a=I(a,c);break}return a^=a>>>13,a=I(a,c),a^=a>>>15,a>>>0}function ne(l,r){return l.charCodeAt(r++)+(l.charCodeAt(r++)<<8)+(l.charCodeAt(r++)<<16)+(l.charCodeAt(r)<<24)}function j(l,r){return l.charCodeAt(r++)+(l.charCodeAt(r++)<<8)}function I(l,r){l=l|0,r=r|0;let c=l&65535,u=l>>>16;return c*r+((u*r&65535)<<16)|0}function F(l){return Boolean(l&&typeof l=="object"&&!Array.isArray(l))}function Q(l){for(var r=arguments.length,c=new Array(r>1?r-1:0),u=1;u<r;u++)c[u-1]=arguments[u];if(!c.length)return l;const a=c.shift();if(F(l)&&F(a))for(const p in a)F(a[p])?(l[p]||Object.assign(l,{[p]:{}}),Q(l[p],a[p])):Object.assign(l,{[p]:a[p]});return Q.apply(void 0,[l].concat(c))}function ge(l){let r=[":",".","[",">"," "],c=!1,u=l.charAt(0);for(let a=0;a<r.length;a++)if(u===r[a]){c=!0;break}return c||l.indexOf("&")>=0}var A=/[(),]|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g;function B(l){if(l.indexOf(",")===-1)return[l];for(var r=[],c=[],u=0,a;a=A.exec(l);)switch(a[0]){case"(":u++;break;case")":u--;break;case",":if(u)break;r.push(a.index)}for(a=r.length;a--;)c.unshift(l.slice(r[a]+1)),l=l.slice(0,r[a]);return c.unshift(l),c}function ce(l,r){let c=B(l);return B(r).map(a=>a.indexOf("&")>=0?a:"&"+a).reduce((a,p)=>a.concat(c.map(h=>p.replace(/\&/g,h))),[]).join(",")}function Pe(l,r){return l?"@media "+l.substring(6)+" and "+r.substring(6):r}function Le(l){return l.indexOf("@media")===0}function Ve(l){return l.indexOf("@keyframes")===0}function lt(l){return l.indexOf("@global")===0}function Ce(l,r){var c;let u=r.rules,a=r.mediaQuery,p=r.globalSelector,h={};return p&&(l=p),(c=Object.keys(u))==null||c.forEach(b=>{var P,T,N,re;if(lt(b)){const V=b;b=b.substring(8);const Z=b.indexOf("&");let W;Z!=-1?(W=ce(l,b),p=b.substring(0,Z-1).trim()):W=b,Q(h,Ce(W,{mediaQuery:a,rules:u[V],globalSelector:W}))}else ge(b)?Q(h,Ce(ce(l,b),{rules:u[b],mediaQuery:a})):Le(b)?Q(h,Ce(l,{mediaQuery:Pe(a,b),rules:u[b]})):a?((P=h[a])!=null||(h[a]={}),(N=(T=h[a])[l])!=null||(T[l]={}),h[a][l][b]=u[b]):Ve(b)?h[b]=u[b]:((re=h[l])!=null||(h[l]={}),h[l][b]=u[b])}),h}function qe(l){let r=[];for(const c in l)if(Object.hasOwnProperty.call(l,c)){const u=l[c];F(u)?r.push(c+"{"+qe(u)+"}"):r.push(c+":"+u)}return/^\d%/.test(r[0])?r.join(" "):r.join(";")}function je(l){let r=[];for(const c in l)if(Object.hasOwnProperty.call(l,c)){const u=l[c];if(Le(c))r.push(c+"{"+je(u)+"}");else if(Ve(c))r.push(c+"{"+qe(u)+"}");else{const a=Object.entries(u).map(p=>{let h=p[0],b=p[1];return h+":"+b}).join(";");r.push(c+"{"+a+"}")}}return r}function ct(l,r){return je(Ce(r,{rules:l}))}var De;(l=>{l.create=function(a){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";const b=a.indexOf("#")!==-1,P=a.indexOf(".")!==-1,T=b?a.split("#"):P?a.split("."):[a],N=T[0],re=T[1],V=document.createElement(N);return b&&(V.id=re),P&&V.classList.add(re),h&&(V.innerHTML=h),Object.keys(p).forEach(Z=>{const W=p[Z];(N==="video"||N==="audio")&&typeof W=="boolean"?W&&V.setAttribute(Z,""):typeof W!="undefined"&&V.setAttribute(Z,""+W)}),V},l.render=(a,p)=>p.appendChild(a),l.isBrowser=()=>Boolean(typeof globalThis!="undefined"&&globalThis.document&&globalThis.document.documentElement);function r(a){if(!l.isBrowser())return null;let p=document.createElement("style");p.setAttribute("data-"+a,""),p.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(p);for(let h=0;h<document.styleSheets.length;h++)if(document.styleSheets[h].ownerNode===p)return document.styleSheets.item(h);return null}l.createSheet=r;const c=(()=>{const a=Object.create({});return p=>{const h=typeof p=="object"?JSON.stringify(p):p;return a[h]||(a[h]="css-"+we(h)),a[h]}})();l.createCss=a=>{let p=a.sheet,h=a.ssrData;return function(){for(var b,P=arguments.length,T=new Array(P),N=0;N<P;N++)T[N]=arguments[N];const re=Boolean(T[0]&&T[0].length&&T[0].raw);let V="";if(re){let ie=T[0];V+=ie[0];for(let fe=1;fe<T.length;fe++)V+=typeof T[fe]!="string"?"":T[fe],V+=ie[fe]}else typeof T[0]=="string"?V=T[0]:V=JSON.stringify(T[0]);const Z=c(V);if(p){for(let ie=0;ie<p.cssRules.length;ie++)if(((b=p.cssRules[ie])==null?void 0:b.selectorText)=="."+Z)return Z}let W=["."+Z+"{"+V+"}"];return!re&&typeof T[0]=="object"&&(W=ct(T[0],"."+Z)),p?W.forEach(ie=>{p.insertRule(ie,p.cssRules.length)}):h=h.concat(W),Z}},l.createStyled=()=>{const a=[],p=r("oplayer");return{css:l.createCss({sheet:p,ssrData:a}),getCssValue:()=>a}};var u=l.createStyled();l.css=u.css,l.getCssValue=u.getCssValue,l.cls=a=>"css-"+we(a)})(De||(De={}));const $e=De,ut=/(iPad)/gi.test((be=globalThis.navigator)==null?void 0:be.userAgent)||/Macintosh/i.test((xe=globalThis.navigator)==null?void 0:xe.userAgent)&&Boolean((q=globalThis.navigator)==null?void 0:q.maxTouchPoints)&&((ee=globalThis.navigator)==null?void 0:ee.maxTouchPoints)>=1,R=/iPhone/gi.test((G=globalThis.navigator)==null?void 0:G.userAgent)||ut,Ue=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test((X=globalThis.navigator)==null?void 0:X.userAgent)||R,He=/mqqbrowser/i.test((Y=globalThis.navigator)==null?void 0:Y.userAgent)&&!/ qq/i.test((te=globalThis.navigator)==null?void 0:te.userAgent),Fe=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","encrypted","waitingforkey","enterpictureinpicture","leavepictureinpicture"],ye=["contextmenu","fullscreenchange","fullscreenerror"],Ne=["loadedplugin","videoqualitychange","videosourcechange","destroy"],dt=[].concat(Fe,ye,Ne);class We{constructor(){_(this,"events",Object.create(null))}on(r,c){this.events[r]||(this.events[r]=[]),this.events[r].push(c)}onAny(r,c){r.forEach(u=>this.on(u,c))}once(r,c){const u=a=>{c({type:r,payload:a.payload}),this.off(r,u)};this.on(r,u)}off(r,c){if(!this.events[r])return;const u=this.events[r].indexOf(c);u>-1&&this.events[r].splice(u,1)}offAny(r){this.events[r]=[]}offAll(){this.events=Object.create(null)}emit(r,c){var u,a;(u=this.events[r])!=null&&u.length&&this.events[r].forEach(p=>{p({type:r,payload:c})}),(a=this.events["*"])==null||a.forEach(p=>{p({type:r,payload:c})})}}const Ae={Play:"\u64AD\u653E",Pause:"\u6682\u505C",Loop:"\u5FAA\u73AF\u64AD\u653E",Volume:"\u97F3\u91CF","Volume: %s":"\u97F3\u91CF\uFF1A%s",Mute:"\u9759\u97F3",Speed:"\u64AD\u653E\u901F\u5EA6",Screenshot:"\u622A\u56FE",Subtitle:"\u5B57\u5E55",Quality:"\u753B\u8D28",Fullscreen:"\u5168\u5C4F","TextDecoder Not Supported":"\u4E0D\u652F\u6301\u539F\u751F\u5B57\u5E55",Setting:"\u8BBE\u7F6E","Picture in Picture":"\u753B\u4E2D\u753B",Danmaku:"\u5F39\u5E55",Display:"\u663E\u793A",Opacity:"\u900F\u660E\u5EA6",FontSize:"\u5B57\u4F53\u5927\u5C0F","Display Area":"\u663E\u793A\u533A\u57DF",Close:"\u5173\u95ED",Auto:"\u81EA\u52A8",Default:"\u9ED8\u8BA4",Normal:"\u6B63\u5E38","%ss":"%s\u79D2","Can be closed after %ss":"%s\u79D2\u540E\u53EF\u5173\u95ED\u5E7F\u544A"};class Ze{constructor(r){_(this,"lang"),_(this,"languages",{zh:Ae,"zh-CN":Ae,en:Object.keys(Ae).reduce((c,u)=>(c[u]=u,c),{})}),this.lang=r==="auto"?navigator.language:r,this.languages[this.lang]||navigator.languages.some(c=>{if(this.languages[c])return this.lang=c,!0;if(c.indexOf("-")!==-1){const u=c.split("-")[0];if(u&&this.languages[u])return this.lang=u,!0}return!1}),this.languages[this.lang]||(this.lang="zh-CN")}get(r){for(var c=arguments.length,u=new Array(c>1?c-1:0),a=1;a<c;a++)u[a-1]=arguments[a];const p=this.languages[this.lang][r];if(p==null)return r;let h=0;return p.replace(/%s/gi,()=>{var b;return(b=u[h++])!=null?b:""})}update(r){this.languages=Q(this.languages,r)}}class Se{constructor(r,c){_(this,"container"),_(this,"options"),_(this,"locales"),_(this,"eventEmitter",new We),_(this,"pluginsFactory",[]),_(this,"plugins",{}),_(this,"$root"),_(this,"$video"),_(this,"listeners",Object.create(null)),_(this,"hasError",!1),_(this,"isCustomLoader",!1),_(this,"_playPromise"),_(this,"use",u=>(u.forEach(a=>{this.pluginsFactory.push(a)}),this)),_(this,"create",()=>(this.render(),this.initEvent(),this.applyPlugins(),this.options.source.src&&this.load(this.options.source),this)),_(this,"initEvent",()=>{const u=h=>{this.hasError=!0,this.emit("error",h)};this.listeners.error=u,this.$video.addEventListener("error",h=>this.listeners.error(h));const a=h=>this.emit("fullscreenchange",h);[[this.$video,"webkitbeginfullscreen","webkitendfullscreen"],[this.$root,"fullscreenchange","webkitfullscreenchange"]].forEach(h=>{const b=h[0];h.slice(1).forEach(T=>{this.listeners[T]=a,b.addEventListener(T,N=>this.listeners[T](N))})});const p=(h,b)=>this.eventEmitter.emit(h,b);Fe.filter(h=>h!=="error").forEach(h=>{this.listeners[h]=p,this.$video.addEventListener(h,b=>this.listeners[h](h,b),{passive:!0})}),ye.filter(h=>h!=="fullscreenchange").forEach(h=>{this.listeners[h]=p,this.$root.addEventListener(h,b=>this.listeners[h](h,b),{passive:!0})})}),_(this,"render",()=>{this.$video=$e.create("video."+$e.css(`
        width: 100%;
        height: 100%;
        display: block;
        position: relative;
      `),Object.assign({autoplay:this.options.autoplay,loop:this.options.loop,playsinline:this.options.playsinline,"webkit-playsinline":this.options.playsinline,"x5-playsinline":this.options.playsinline,preload:this.options.preload,poster:this.options.source.poster},this.options.videoAttr)),this.$video.muted=!!this.options.muted,this.$video.volume=this.options.volume,this.$root=$e.create("div."+$e.css(`
        position: relative;
        -moz-user-select: none;
        -webkit-user-select: none;
        -ms-user-select: none;
        user-select: none;
        width: 100%;
        height: 100%;
        overflow: hidden;
        background-color: #000;
      `)),$e.render(this.$video,this.$root),$e.render(this.$root,this.container)}),_(this,"load",u=>i(this,null,function*(){try{for(var a=U(this.pluginsFactory),p,h,b;p=!(h=yield a.next()).done;p=!1){const P=h.value;P.load&&(yield P.load(this,u,{loader:this.isCustomLoader}))&&!this.isCustomLoader&&(this.isCustomLoader=!0)}}catch(P){b=[P]}finally{try{p&&(h=a.return)&&(yield h.call(a))}finally{if(b)throw b[0]}}this.isCustomLoader||(this.$video.src=u.src)})),_(this,"applyPlugins",()=>{this.pluginsFactory.forEach(u=>{if(u.apply){const a=u.apply(this);if(a){const p=u.key||u.name;this.plugins[p]=Object.assign({},this.plugins[p],a)}}})}),_(this,"on",(()=>{var u=this;return function(a,p){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{once:!1};return typeof a=="string"?h.once?u.eventEmitter.once(a,p):u.eventEmitter.on(a,p):Array.isArray(a)?u.eventEmitter.onAny(a,p):typeof a=="function"&&u.eventEmitter.on("*",a),u}})()),_(this,"off",(u,a)=>{this.eventEmitter.off(u,a)}),_(this,"offAny",u=>{this.eventEmitter.offAny(u)}),_(this,"emit",(u,a)=>{this.eventEmitter.emit(u,a)}),_(this,"play",()=>{if(!this.$video.src)throw Error("The element has no supported sources.");return this._playPromise=this.$video.play()}),this.container=r,this.options=Object.assign({autoplay:!1,muted:!1,loop:!1,volume:1,preload:"metadata",playbackRate:1,playsinline:!0,lang:"auto",source:{},videoAttr:{},isLive:!1,isNativeUI:()=>He},typeof c=="string"?{source:{src:c}}:c),this.locales=new Ze(this.options.lang)}static make(r,c){return new Se(r,c)}setPoster(r){this.$video.poster=r}pause(){var r;return(r=this._playPromise)!=null&&r.then?this._playPromise.then(()=>this.$video.pause()):this.$video.pause()}togglePlay(){return this.isPlaying?this.pause():this.play()}mute(){this.$video.muted=!0}unmute(){this.$video.muted=!1}toggleMute(){this.isMuted?this.unmute():this.mute()}setVolume(r){this.$video.volume=r>1?1:r<0?0:r,this.$video.volume>0&&this.isMuted&&this.unmute()}setPlaybackRate(r){this.$video.playbackRate=r}seek(r){this.$video.currentTime=r}setLoop(r){this.$video.loop=r}enterFullscreen(){return R?this.$video.webkitEnterFullscreen():this._requestFullscreen.call(this.$root,{navigationUI:"hide"})}exitFullscreen(){return this._exitFullscreen.call(document)}get isFullscreenEnabled(){return Boolean(R&&this.$video.webkitEnterFullscreen)||document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}get isFullScreen(){return Boolean(R&&this.$video.webkitDisplayingFullscreen||(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)===this.$root)}toggleFullScreen(){return this.isFullScreen?this.exitFullscreen():this.enterFullscreen()}get isPipEnabled(){return document.pictureInPictureEnabled}enterPip(){return this.$video.requestPictureInPicture()}exitPip(){return this.isInPip?document.exitPictureInPicture():!1}get isInPip(){return document.pictureInPictureElement==this.$video}togglePip(){return this.isInPip?this.exitPip():this.enterPip()}_resetStatus(){this._playPromise=void 0,this.hasError=!1,this.isCustomLoader=!1}changeQuality(r){return i(this,null,function*(){this._resetStatus(),this.emit("videoqualitychange",r),yield this.load(r)})}changeSource(r){return i(this,null,function*(){this._resetStatus(),this.$video.poster=r.poster||"",this.emit("videosourcechange",r),yield this.load(r)})}destroy(){this.emit("destroy"),this.pause(),this.isFullScreen&&this.exitFullscreen(),this.$video.src="",this.$video.remove(),this.container.remove(),this.eventEmitter.offAll()}get isNativeUI(){return this.options.isNativeUI()}get state(){return this.$video.readyState}get isLoading(){return this.$video.readyState<this.$video.HAVE_ENOUGH_DATA&&!this.hasError}get isLoaded(){return this.$video.readyState>=this.$video.HAVE_FUTURE_DATA}get canPlay(){return this.$video.readyState>=this.$video.HAVE_ENOUGH_DATA}get isPlaying(){return this.$video.paused===!1}get isMuted(){return this.$video.muted}get isEnded(){return this.$video.ended}get isLoop(){return this.$video.loop}get isAutoPlay(){return this.$video.autoplay}get duration(){return this.$video.duration}get buffered(){return this.$video.buffered}get currentTime(){return this.$video.currentTime}get volume(){return this.$video.volume}get playbackRate(){return this.$video.playbackRate}get _requestFullscreen(){return HTMLElement.prototype.requestFullscreen||HTMLElement.prototype.webkitRequestFullscreen||HTMLElement.prototype.mozRequestFullScreen||HTMLElement.prototype.msRequestFullscreen}get _exitFullscreen(){return Document.prototype.exitFullscreen||Document.prototype.webkitExitFullscreen||Document.prototype.cancelFullScreen||Document.prototype.mozCancelFullScreen||Document.prototype.msExitFullscreen}static get version(){return"1.1.0"}}console.log("%c Oh Player %c v"+Se.version+" %c https://github.com/shiyiya/oplayer","color: #fff; background: #6668ab; padding: 4px 6px; margin: 4px 0;","color: #fff; background: #5f5f5f; padding: 4px 6px; margin: 4px 0;","")},3732:function(at,_e,le){le.d(_e,{ZP:function(){return be}});var i=le(3806),U=le(5168),ke=le(3148);const se=["playing","duration","aspectRatio","plugins","onEvent"];function _(q,ee){if(q==null)return{};var G={},X=Object.keys(q),Y,te;for(te=0;te<X.length;te++)Y=X[te],!(ee.indexOf(Y)>=0)&&(G[Y]=q[Y]);return G}const be=(0,U.forwardRef)((q,ee)=>{const G=q.playing,X=q.duration,Y=X===void 0?0:X,te=q.aspectRatio,we=te===void 0?9/16:te,K=q.plugins,ne=q.onEvent,j=_(q,se),I=(0,U.useRef)(!0),F=(0,U.useRef)(null),Q=xe(j.source),ge=(0,U.useCallback)(A=>{if(A!==null){const B=i.ZP.make(A,j).use(K||[]).create();F.current=B,B.seek(Y/1e3),ne&&B.on(ne)}},[]);return(0,U.useEffect)(()=>{var A,B,ce;I.current||(G?F.current&&!F.current.isPlaying&&((A=F.current)==null||A.play()):(B=F.current)!=null&&B.isPlaying&&((ce=F.current)==null||ce.pause()))},[G]),(0,U.useEffect)(()=>{var A,B,ce,Pe,Le;I.current||((Q==null?void 0:Q.src)!==((A=j.source)==null?void 0:A.src)&&((B=F.current)==null||B.changeSource(j.source),(ce=F.current)==null||ce.setPlaybackRate(j.playbackRate||1)),(Le=F.current)==null||Le.setPoster(((Pe=j.source)==null?void 0:Pe.poster)||""))},[j.source]),(0,U.useEffect)(()=>{var A;I.current||(A=F.current)==null||A.seek(Y/1e3)},[Y]),(0,U.useEffect)(()=>{var A,B;I.current||(j.muted?(A=F.current)==null||A.mute():(B=F.current)==null||B.unmute())},[j.muted]),(0,U.useEffect)(()=>{var A;I.current||(A=F.current)==null||A.setPlaybackRate(j.playbackRate)},[j.playbackRate]),(0,U.useEffect)(()=>(I.current=!1,()=>{var A;return(A=F.current)==null?void 0:A.destroy()}),[]),(0,U.useImperativeHandle)(ee,()=>F.current,[]),(0,ke.jsx)("div",{style:{width:"100%",paddingTop:we*100+"%",backgroundColor:"#f4f4f4",position:"relative"},children:(0,ke.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},ref:ge})})});function xe(q){const ee=(0,U.useRef)();return(0,U.useEffect)(()=>{ee.current=q},[q]),ee.current}},3641:function(at,_e,le){le.d(_e,{Z:function(){return Tn}});var i=le(3806),U=Object.defineProperty,ke=(e,t,n)=>t in e?U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,se=(e,t,n)=>(ke(e,typeof t!="symbol"?t+"":t,n),n),_,be,xe,q,ee;function G(e,t){return t||(t=e.slice(0)),e.raw=t,e}const X=i.$.css("/* settingShown */"),Y=i.$.css("/* fullscreen */"),te=e=>i.$.css(Object.assign({"--primary-color":""+e.primaryColor,"--shadow-background-color":"rgba(28 ,28 ,28 , .9)","--controller-Bottom-height":"3.25em",position:"absolute",top:"0",left:"0",width:"100%",height:"100%","font-size":"12px","&, & > *":{"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)"}},!i.tq&&{["&."+Y]:{"font-size":"16px"}})),we=i.$.css(_||(_=G([`
  z-index: 9999 !important;
  position: fixed !important;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;`]))),K=i.$.css({background:"none",border:"none",cursor:"pointer",padding:0,outline:"none",font:"inherit",color:"inherit","line-height":"inherit","text-align":"inherit",width:"100%"}),ne=i.$.css("/* controllerHidden */"),j=i.$.css({"& > svg:nth-child(1)":{display:"none"}}),I=i.$.css({"& > svg:nth-child(2)":{display:"none"}}),F=i.$.cls("/* loading */"),Q=i.$.cls("/* isInitialized */"),ge=i.$.cls("/* playing */"),A=i.$.cls("/* focused */"),B=i.tq?"":i.$.css({position:"relative","&:hover":{"&::after":{opacity:1,transform:"translateX(-50%) scale(1)"},"&[data-tooltip-pos=up-right]::after":{right:0,left:"auto",transform:"translateY(0) scale(1)"}},"&::after":{position:"absolute",content:"attr(aria-label)",bottom:"100%",left:"50%","margin-bottom":"0.5em","white-space":"nowrap",background:"var(--shadow-background-color)",transform:"translate(-50%, 10px) scale(.8)","transform-origin":"50% 100%",opacity:0,padding:"4px 8px","border-radius":"4px",transition:"transform .2s ease .1s,opacity .2s ease .1s","pointer-events":"none"},"&[data-tooltip-pos=up-right]::after":{right:0,left:"auto",transform:"translateY(10px) scale(.8)","transform-origin":"100% 100%"}}),Oe={play:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path  d="M245.76 785.203V238.797c0-50.442 34.918-69.182 77.967-42.046l422.196 266.117c43.11 27.157 43.069 71.128 0 98.284L323.727 827.249c-43.11 27.177-77.967 8.315-77.967-42.046z" /></svg>',pause:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path  d="M327.68 184.32a81.92 81.92 0 0 1 81.92 81.92v491.52a81.92 81.92 0 1 1-163.84 0V266.24a81.92 81.92 0 0 1 81.92-81.92z m368.64 0a81.92 81.92 0 0 1 81.92 81.92v491.52a81.92 81.92 0 1 1-163.84 0V266.24a81.92 81.92 0 0 1 81.92-81.92z" /></svg>',volume:['<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg width="200px" height="200.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path  d="M552.96 152.064v719.872c0 16.118-12.698 29.184-28.365 29.184a67.482 67.482 0 0 1-48.394-20.644L329.359 729.354a74.547 74.547 0 0 0-53.493-22.794H250.47c-104.386 0-189.03-87.101-189.03-194.56s84.644-194.56 189.03-194.56h25.396c20.07 0 39.3-8.192 53.473-22.794L476.18 143.503a67.482 67.482 0 0 1 48.436-20.623c15.646 0 28.344 13.066 28.344 29.184z m216.965 101.58a39.936 39.936 0 0 1 0-57.425 42.25 42.25 0 0 1 58.778 0c178.483 174.408 178.483 457.154 0 631.562a42.25 42.25 0 0 1-58.778 0 39.936 39.936 0 0 1 0-57.405 359.506 359.506 0 0 0 0-516.752zM666.542 373.884a39.731 39.731 0 0 1 0-55.235 37.52 37.52 0 0 1 53.944 0c104.305 106.783 104.305 279.921 0 386.704a37.52 37.52 0 0 1-53.944 0 39.731 39.731 0 0 1 0-55.235c74.486-76.288 74.486-199.946 0-276.234z" /></svg>','<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg width="200px" height="200.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path  d="M552.96 152.064v719.872c0 16.118-12.698 29.184-28.365 29.184a67.482 67.482 0 0 1-48.394-20.644L329.359 729.354a74.547 74.547 0 0 0-53.493-22.794H250.47c-104.386 0-189.03-87.101-189.03-194.56s84.644-194.56 189.03-194.56h25.396c20.07 0 39.3-8.192 53.473-22.794L476.18 143.503a67.482 67.482 0 0 1 48.436-20.623c15.646 0 28.344 13.066 28.344 29.184z m400.507 514.662a31.068 31.068 0 0 1-41.41 2.294l-88.167-70.656a40.243 40.243 0 0 0-50.34 0l-88.166 70.656a31.068 31.068 0 0 1-43.684-43.684l70.656-88.166a40.243 40.243 0 0 0 0-50.34L641.7 398.664a31.068 31.068 0 0 1 43.684-43.684l88.166 70.656c14.705 11.796 35.635 11.796 50.34 0l88.166-70.656a31.068 31.068 0 0 1 43.684 43.684l-70.656 88.166a40.243 40.243 0 0 0 0 50.34l70.656 88.166a31.068 31.068 0 0 1-2.273 41.41z" /></svg>'],fullscreen:['<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg width="200px" height="200.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path  d="M235.8322669 622.46683433h-110.46812886v276.16902763h276.16902763v-110.46812886h-165.70089877v-165.70089877z m-110.46812886-220.93366866h110.46812886v-165.70089877h165.70089877v-110.46812886H125.36413804v276.16902763z m662.80359506 386.63456743h-165.70089877v110.46812886h276.16902763V622.46683433h-110.46812886v165.70089877z m-165.70089877-662.80359506v110.46812886h165.70089877v165.70089877h110.46812886V125.36413804H622.46683433z" /></svg>','<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg width="200px" height="200.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path  d="M125.36413804 732.9349632h165.70089876v165.70089876h110.46812887V622.46683433H125.36413804v110.46812887z m165.70089876-441.8699264h-165.70089876v110.46812887h276.16902763V125.36413804h-110.46812887v165.70089876z m331.40179753 607.57082516h110.46812887v-165.70089876h165.70089876v-110.46812887H622.46683433v276.16902763z m110.46812887-607.57082516v-165.70089876h-110.46812887v276.16902763h276.16902763v-110.46812887h-165.70089876z" /></svg>'],pip:'<svg t="1655881687207" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="200" height="200"><path d="M896 811.989333l0-600.021333-768 0 0 600.021333 768 0zM982.016 809.984q0 34.005333-25.984 59.989333t-59.989333 25.984l-768 0q-34.005333 0-59.989333-25.984t-25.984-59.989333l0-598.016q0-34.005333 25.984-59.008t59.989333-25.002667l768 0q34.005333 0 59.989333 25.002667t25.984 59.008l0 598.016zM809.984 470.016l0 256-340.010667 0 0-256 340.010667 0z" p-id="4652"></path></svg>',setting:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1660103758898" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1788" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><path d="M132.915 475.689l-44.523-88.556a60.539 60.539 0 0 1 1.904-57.958l49.87-84.93a62.607 62.607 0 0 1 50.073-30.577l100.25-6.349a83.6 83.6 0 0 0 63.938-36.331L410.132 88.8a62.771 62.771 0 0 1 52.04-27.361h99.717c20.89 0 40.387 10.26 51.979 27.361l55.705 82.187a83.6 83.6 0 0 0 63.96 36.31l100.249 6.35a62.607 62.607 0 0 1 50.073 30.596l49.87 84.952a60.56 60.56 0 0 1 1.904 57.958l-44.524 88.535a80.691 80.691 0 0 0 0 72.622l44.524 88.556c9.257 18.411 8.54 40.14-1.905 57.958l-49.869 84.93a62.607 62.607 0 0 1-50.073 30.577l-100.25 6.349a83.6 83.6 0 0 0-63.938 36.331L613.888 935.2a62.771 62.771 0 0 1-52.06 27.361H462.11a62.771 62.771 0 0 1-51.979-27.361l-55.705-82.187a83.6 83.6 0 0 0-63.96-36.31l-100.249-6.35a62.607 62.607 0 0 1-50.073-30.596l-49.87-84.952a60.539 60.539 0 0 1-1.904-57.958l44.524-88.535a80.691 80.691 0 0 0 0-72.622zM512 696.32a184.32 184.32 0 1 0 0-368.64 184.32 184.32 0 0 0 0 368.64z" p-id="1789"></path></svg>',screenshot:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1659432399974" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9974" width="200" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><path d="M853.333333 128H170.666667c-25.6 0-42.666667 17.066667-42.666667 42.666667v384h85.333333V213.333333h597.333334v341.333334h85.333333V170.666667c0-25.6-17.066667-42.666667-42.666667-42.666667z" p-id="9975"></path><path d="M725.333333 597.333333c-29.866667 0-59.733333 8.533333-85.333333 25.6l-55.466667-55.466666 162.133334-162.133334L686.933333 341.333333l-162.133333 162.133334L358.4 341.333333 298.666667 401.066667l162.133333 162.133333-64 64c-25.6-17.066667-59.733333-29.866667-98.133333-29.866667-93.866667 0-170.666667 76.8-170.666667 170.666667s76.8 170.666667 170.666667 170.666667 170.666667-76.8 170.666666-170.666667c0-25.6-4.266667-51.2-17.066666-72.533333l68.266666-68.266667 55.466667 55.466667c-17.066667 25.6-25.6 55.466667-25.6 85.333333 0 93.866667 76.8 170.666667 170.666667 170.666667s170.666667-76.8 170.666666-170.666667-72.533333-170.666667-166.4-170.666667zM298.666667 853.333333c-46.933333 0-85.333333-38.4-85.333334-85.333333s38.4-85.333333 85.333334-85.333333 85.333333 38.4 85.333333 85.333333-38.4 85.333333-85.333333 85.333333z m426.666666 0c-46.933333 0-85.333333-38.4-85.333333-85.333333s38.4-85.333333 85.333333-85.333333 85.333333 38.4 85.333334 85.333333-38.4 85.333333-85.333334 85.333333z" p-id="9976"></path></svg>',playbackRate:'<svg t="1662793741675" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4313" width="200" height="200"><path d="M512 951.04a435.2 435.2 0 1 1 435.2-435.2 435.2 435.2 0 0 1-435.2 435.2z m0-819.2a384 384 0 1 0 384 384A384 384 0 0 0 512 132.096z" p-id="4314" fill="#ffffff"></path><path d="M468.992 493.824l-130.048-75.008a20.992 20.992 0 0 0-31.232 18.176v150.016a20.992 20.992 0 0 0 31.232 18.176l130.048-75.008a20.992 20.992 0 0 0 0-36.352zM684.8 493.824l-129.536-75.008a21.248 21.248 0 0 0-31.744 18.432v149.504a21.248 21.248 0 0 0 31.744 18.432l129.536-75.008a20.992 20.992 0 0 0 0-36.352z" p-id="4315" fill="#ffffff"></path></svg>',subtitle:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1660451299604" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M853.333333 170.666667H170.666667c-47.061333 0-85.333333 38.272-85.333334 85.333333v512c0 47.061333 38.272 85.333333 85.333334 85.333333h682.666666c47.061333 0 85.333333-38.272 85.333334-85.333333V256c0-47.061333-38.272-85.333333-85.333334-85.333333z m-384 256H341.333333v170.666666h128v85.333334H341.333333c-47.061333 0-85.333333-38.272-85.333333-85.333334v-170.666666c0-47.061333 38.272-85.333333 85.333333-85.333334h128v85.333334z m298.666667 0h-128v170.666666h128v85.333334h-128c-47.061333 0-85.333333-38.272-85.333333-85.333334v-170.666666c0-47.061333 38.272-85.333333 85.333333-85.333334h128v85.333334z" p-id="1366"></path></svg>',loop:'<svg style="transform: scale(.8);" t="1662029141436" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2497"><path d="M677.944889 589.909333c25.713778-16.952889 41.301333-46.478222 41.301333-78.222222 0-31.772444-15.587556-61.297778-41.301333-78.222222L440.32 276.906667c-58.88-38.741333-135.566222 5.518222-135.566222 78.279111V668.16c0 72.789333 76.686222 116.992 135.566222 78.222222l237.596444-156.472889h0.028445z m-47.132445-78.222222l-237.624888 156.472889V355.128889l237.624888 156.501333v0.028445z" p-id="2498" fill="#ffffff"></path><path d="M486.968889 104.106667c-128-0.227556-248.974222 57.457778-328.078222 156.444444h54.072889c16.469333 0 31.658667 8.647111 39.879111 22.641778 8.248889 14.023111 8.248889 31.288889 0 45.283555-8.248889 14.023111-23.409778 22.641778-39.879111 22.641778H74.865778c-25.400889 0-46.023111-20.252444-46.023111-45.283555v-164.693334c0-25.031111 20.622222-45.283556 46.023111-45.283555 25.429333 0 46.051556 20.252444 46.051555 45.283555v24.746667C216.832 68.266667 348.984889 13.255111 486.968889 13.482667 767.658667 13.511111 995.555556 236.316444 995.555556 511.715556c0 275.342222-227.868444 498.147556-508.586667 498.147555-190.862222 0.199111-365.738667-104.675556-453.006222-271.644444a44.657778 44.657778 0 0 1 1.678222-45.767111 46.250667 46.250667 0 0 1 41.415111-20.906667 46.08 46.08 0 0 1 38.798222 25.315555c71.509333 136.760889 214.812444 222.634667 371.114667 222.435556 230.257778 0 416.512-182.698667 416.512-407.608889 0-224.881778-186.254222-407.580444-416.512-407.580444z" p-id="2499" fill="#ffffff"></path></svg>',progressIndicator:null,loadingIndicator:null};var R;(e=>{e.setupIcons=(t,n)=>{for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(Oe[s]=n[s]);t.icons=Oe},e.get=t=>Oe[t]})(R||(R={}));const Ue=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function n(s){let o=s.target;o&&(e.$root.contains(o)||e.$root==o)?e.$root.classList.add(A):e.$root.classList.remove(A)}t&&e.$root.classList.add(A),document.addEventListener("click",n),document.addEventListener("contextmenu",n),e.on("destroy",()=>{document.removeEventListener("click",n),document.removeEventListener("contextmenu",n)})},He=e=>e.$root.classList.contains(A),Fe=e=>{let t=!1;const n=()=>{t&&e.$root.classList.remove(Q),t=!1},s=()=>{t||(t=!0,e.$root.classList.add(Q),e.emit("videoinitialized"))};i.tq?e.on("durationchange",function(){e.duration!==1/0&&e.duration>0&&s()}):e.on("canplaythrough",s),e.on("videosourcechange",n)},ye=e=>e.$root.classList.contains(Q),Ne=e=>{e.on("play",()=>{e.$root.classList.add(ge)}),e.on(["pause","videosourcechange"],()=>{e.$root.classList.remove(ge)})},dt=e=>{let t=0,n=0,s=!1,o=!1;const g=()=>e.$root.classList.add(F),w=()=>e.$root.classList.remove(F);g(),e.on("videoinitialized",w),e.on("seeking",()=>{e.isPlaying||(g(),e.on("canplaythrough",w,{once:!0}))}),e.on("play",()=>o=!0),e.on("pause",()=>(o=!1,w())),e.on("videosourcechange",()=>{g(),o=!1,t=n=0}),setInterval(()=>{o&&ye(e)&&(n=e.currentTime,!s&&n===t&&e.isPlaying&&(g(),s=!0),s&&n>t&&e.isPlaying&&(w(),s=!1),t=n)},100)},We=e=>e.$root.classList.contains(F),ht=(e,t)=>{e.on("fullscreenchange",()=>{t.classList.toggle(Y)})},gt=(e,t,n)=>{Fe(e),Ne(e),dt(e),ht(e,n),i.tq||Ue(e,t.autoFocus)};function Re(e){return e<10?"0"+e:""+e}function oe(e){if(!isFinite(e))return"--:--";const t=Math.floor(e/3600),n=Math.floor(e%3600/60),s=Math.floor(e%3600%60);return(t>0?Re(t)+":":"")+Re(n)+":"+Re(s)}function ft(e,t){const n=document.createElement("a");n.href=e,n.download=t,n.click()}const pt=e=>{var t;try{const n=document.createElement("canvas"),s=e.videoWidth,o=e.videoHeight;return n.width=s,n.height=o,(t=n.getContext("2d"))==null||t.drawImage(e,0,0,s,o),n.toDataURL("image/png")}catch(n){return n}},Ge=e=>{if(We(e)||!ye(e)){e.emit("notice",{text:e.locales.get("Please wait for loading to complete")});return}const t=pt(e.$video);t instanceof Error?e.emit("notice",{text:t.message}):ft(t,oe(e.currentTime).replace(/:/g,"-")+"-OPlayer-ScreenShot.png")},Xe=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1500,n=null;const s=()=>n&&clearTimeout(n);return{callee:()=>{s(),n=setTimeout(()=>{e()},t)},clear:s}},Ye=(e,t)=>{var n=[],s=e.parentNode.children;for(let o=0,g=s.length;o<g;o++)s[o]!==e&&(t==null||t(s[o]),n.push(s[o]));return n};function ze(e,t){return e.classList.add(t),e}function Me(e,t){return e.classList.remove(t),e}function vt(e,t){return e.classList.toggle(t)}function Te(e,t){return e.classList.contains(t)}const ue={dragStart:i.tq?"touchstart":"mousedown",dragMove:i.tq?"touchmove":"mousemove",dragEnd:i.tq?"touchend":"mouseup"},Ke=10,Qe=5,Ee={ArrowUp:e=>{const t=e.volume*100+Ke;e.setVolume(t/100),e.emit("notice",{text:e.locales.get("Volume: %s",~~(e.volume*100)+"%")})},ArrowDown:e=>{const t=e.volume*100-Ke;e.setVolume(t/100),e.emit("notice",{text:e.locales.get("Volume: %s",~~(e.volume*100)+"%")})},ArrowLeft:e=>{e.seek(e.currentTime-Qe),e.emit("notice",{text:oe(e.currentTime)+" / "+oe(e.duration)})},ArrowRight:e=>{e.seek(e.currentTime+Qe),e.emit("notice",{text:oe(e.currentTime)+" / "+oe(e.duration)})}," ":e=>e.togglePlay(),Escape:e=>{if(e.isFullScreen){e.exitFullscreen();return}e.$root.classList.contains(we)&&e.emit("fullscreenchange",{isWeb:!0})},"s+s":Ge};function mt(e){let t;function n(s){var o;if(((o=document.activeElement)==null?void 0:o.getAttribute("contenteditable"))||!He(e))return;const g=s.key;Ee[g]&&(s.preventDefault(),Ee[g](e)),t&&t===g&&Ee[t+"+"+g]&&(s.preventDefault(),Ee[t+"+"+g](e)),t=g,setTimeout(()=>{t=void 0},200)}e.on("addhotkey",s=>{let o=s.payload;for(const g in o)Object.prototype.hasOwnProperty.call(o,g)&&(Ee[g]=o[g])}),e.on("removehotkey",s=>{s.payload.forEach(g=>{delete Ee[g]})}),document.addEventListener("keydown",n),e.on("destroy",()=>{document.removeEventListener("keydown",n)})}const Be="speed";function Ae(e,t,n){t!=null&&t.length&&(n.register({key:Be,type:"selector",name:e.locales.get("Speed"),icon:R.get("playbackRate"),children:t.map(s=>({name:+s==1?"Normal":s+"x",value:+s,default:e.playbackRate==+s})),onChange:s=>{let o=s.value;return e.setPlaybackRate(o)}}),e.on("ratechange",()=>{const s=e.playbackRate,o=t.findIndex(g=>+g==s);n.select(Be,o),o==-1&&n.updateLabel(Be,s+"x")}))}const Ze=i.$.css(be||(be=G([`
  width: 2.5em;
  height: 110px;
  padding-bottom: 3px;
  box-sizing: content-box;
`]))),Se=i.$.css(`
  width: 100%;
  text-align: center;
  height: 28px;
  line-height: 28px;
  margin-bottom: 2px;
  font-size: 80%;
`),l=i.$.css(`
  position:relative;
  display: flex;
  justify-content: center;
  height: 70px;
  cursor: pointer;
`),r=i.$.css(`
  height: 100%;
  width: 2px;
  position: relative;

`),c=i.$.css(`
  background: rgb(231 231 231);
  height: 100%;
  width: 2px;
  border-radius: 2px;
`),u=i.$.css(`
  height: 100%;
  width: 100%;
  background-color: var(--primary-color);
  transform-origin: 0 100%;
  border-radius: 2px;
`),a=i.$.css(xe||(xe=G([`
  position:absolute;
  bottom: 0;
  top: auto;
  left: -5px;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background-color: var(--primary-color);
  vertical-align: middle;
  pointer-events: none;
  `]))),h=(e,t)=>{const n=i.$.create("div."+Ze,{},"<div class="+Se+`>100</div>

    <div class=`+l+`>
        <div class=`+r+`>
          <div class=`+c+`>
            <div class=`+u+`></div>
          </div>

          <div class=`+a+`></div>
        <div>
      </div>`),s=n.querySelector("."+l),o=n.querySelector("."+a),g=n.querySelector("."+u),w=n.querySelector("."+Se),m=x=>{const E=s.getBoundingClientRect(),k=(E.bottom-(x.clientY||x.changedTouches[0].clientY))/E.height;return k>=1?1:k<=0?0:k},f=x=>{x.preventDefault(),e.setVolume(d(m(x)))},d=x=>(w.innerText=""+~~(x*100),g.style.transform="scaleY("+x+")",o.style.bottom="calc("+~~(x*100)+"% - 6px)",x);d(e.volume),e.on("volumechange",()=>{d(e.isMuted?0:e.volume)}),s.addEventListener(ue.dragStart,x=>{f(x),document.addEventListener(ue.dragMove,f,{passive:!1}),document.addEventListener(ue.dragEnd,()=>{document.removeEventListener(ue.dragMove,f)},{once:!0})}),i.$.render(n,t)},b=i.$.css(q||(q=G([`
  padding: `,`;
  font-variant-numeric: tabular-nums;
  font-size: 120%;
`])),i.tq?0:"0px 0.5em"),P=i.$.css(`
    position: absolute;
    top: 0;
    right: 50%;
    z-index: 10;
    border-radius: 3px;
    box-sizing: border-box;
    transform: translate(50%, -100%);
    transition: visibility 0s, opacity 0.1s linear;
    font-size: 120%;
`),T=i.$.css({position:"relative",display:"flex",["& ."+P]:{visibility:"hidden",opacity:0,"background-color":"var(--shadow-background-color)"}}),N=i.$.css({["&:hover"]:{"padding-top":"0.5em","margin-top":"-0.5em",["& ."+P]:{visibility:"visible",opacity:1}}}),re=i.$.css({"min-width":"6em",display:"block",height:"2.4em","line-height":"2.4em",cursor:"pointer","text-align":"center","word-break":"keep-all","&:nth-last-child(1)":{"margin-bottom":"0px"},"& *":{"pointer-events":"none"},"&[data-selected=true]":{color:"var(--primary-color)"},"&:hover":{"background-color":"rgba(255, 255, 255, 0.1)"}}),V=i.$.css({display:"flex","justify-content":"space-between",color:"#fff",fill:"#fff",height:"var(--controller-Bottom-height)",padding:i.tq?0:"0px 0px 5px 0px","margin-right":i.tq?"-8px":"0px","text-align":"center",["& ."+K+".--text"]:{width:"auto",margin:"0 8px","font-size":"120%"},["& ."+K]:{width:"3em",height:"1.9em",["& svg"]:{width:"100%",height:"100%","pointer-events":"none"}},"> div":{display:"flex","align-items":"center"}}),W=(e,t,n)=>{const s=[e.locales.get("Play"),e.locales.get("Pause"),e.locales.get("Screenshot"),e.locales.get("Picture in Picture"),e.locales.get(e.isFullscreenEnabled?"Fullscreen":"WebFullscreen")],o=s[0],g=s[1],w=s[2],m=s[3],f=s[4],d=i.$.create("div."+V,{},`<div>
      `+(i.tq?"":`<button
              class="`+K+" "+(e.isPlaying?j:I)+" "+B+`"
              aria-label="`+o+`"
            >
              `+R.get("play")+`
              `+R.get("pause")+`
            </button>`)+`

      <span class=`+b+">"+(e.options.isLive?"00:00":"00:00 / --:--")+`</span>
    </div>

    <!-- right -->
    <div>
      `+(n.screenshot?'<button class="'+K+" "+B+'" aria-label="'+w+`">
              `+R.get("screenshot")+`
            </button>`:"")+`

      <div class="`+T+" "+N+`">
        <button class="`+K+" "+(e.isMuted?j:I)+`" aria-label="Volume">
            `+R.get("volume")[0]+`
            `+R.get("volume")[1]+`
        </button>
        `+(i.gn?"":"<div class="+P+"></div>")+`
      </div>


      `+(n.pictureInPicture&&e.isPipEnabled?'<button class="'+K+" "+B+'" aria-label="'+m+`">
                `+R.get("pip")+`
            </button>`:"")+`

      `+(n.fullscreen?'<button class="'+K+" "+I+" "+B+'" data-tooltip-pos="up-right" aria-label="'+f+`">
                `+R.get("fullscreen")[0]+`
                `+R.get("fullscreen")[1]+`
              </button>`:"")+`
    </div>`),x=d.querySelector("button[aria-label=Volume]");i.gn||h(e,x.nextElementSibling);const E=d.querySelector("button[aria-label="+o+"]"),k=d.querySelector("."+b),L=d.querySelector('button[aria-label="'+f+'"]'),D=(S,C)=>{S.classList.add(C?j:I),S.classList.remove(C?I:j)};n.fullscreen&&e.on("fullscreenchange",S=>{let C=S.payload;return setTimeout(()=>{C.isWeb?D(L,vt(e.$root,we)):D(L,e.isFullScreen)})}),i.tq||e.on(["play","pause","videosourcechange"],()=>{E.setAttribute("aria-label",e.isPlaying?g:o),D(E,e.isPlaying)}),e.on("volumechange",()=>D(x,e.isMuted)),e.on(["durationchange","timeupdate","seeking","seeked"],()=>{k.innerText=oe(e.currentTime)+" "+(e.options.isLive?"":" / "+oe(e.duration))}),e.on("videosourcechange",()=>k.innerText=e.options.isLive?"00:00":"00:00 / --:--"),d.addEventListener("click",S=>{switch(S.target.getAttribute("aria-label")){case o:case g:return e.togglePlay();case"Volume":if(i.tq&&!i.gn)return;e.isMuted?e.unmute():e.mute();break;case m:return e.togglePip();case f:e.isFullscreenEnabled?e.toggleFullScreen():e.emit("fullscreenchange",{isWeb:!0});return;case w:Ge(e);break}}),i.$.render(d,t)},ie=i.$.css(`
  display: none;
  bottom: 15px;
  position: absolute;
  left: 50%;
  padding: 5px 8px;
  background-color: var(--shadow-background-color);
  color: #fff;
  border-radius: 4px;
  white-space: nowrap;
  word-break: nowrap;
  transform: translateX(-50%);`),fe=i.$.css({position:"absolute",width:"6px",height:"4px","border-radius":"1px","background-color":"#fff",transform:"translateX(-3px)",transition:"all 0.2s",["&:hover > ."+ie]:{display:"block"}});function Mt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const s=document.createDocumentFragment();let o=[],g=!0;function w(d){const x=i.$.create("div."+fe,{},'<span class="'+ie+'">'+d.text+"</san>");return x.style.left=d.left+"%",x}function m(d,x){for(let E=0;E<d.length;E++){const k=d[E],L=w({left:k.time/x*100,text:k.text});o.push(L),i.$.render(L,s)}i.$.render(s,t)}function f(d){g=!0,o.forEach(x=>x.remove()),m(d,e.duration)}return e.on("videoinitialized",()=>{g&&m(n,e.duration)},{once:!0}),e.on("videosourcechange",()=>{g=!1,o.forEach(d=>d.remove())}),f}const Je=()=>{},bt=i.$.css(`
  position: absolute;
  left: 0;
  bottom: 12px;
  pointer-events: none;
  transform: translateX(-50%);
  background-position-y: center;
  display: none;`);function Bt(e,t,n){if(!n)return{update:Je,hide:Je,init:Je};const s=i.$.render(i.$.create("div."+bt),t);let o=0,g=0,w=n.src,m=!1,f=100/n.number;setTimeout(()=>{const E=(n==null?void 0:n.width)||160,k=(n==null?void 0:n.height)||90;s.style.width=E+"px",s.style.height=k+"px",o=E/2/t.clientWidth,g=(t.clientWidth-E/2)/t.clientWidth});const d=()=>{m||(m=!0,s.style.backgroundImage="url("+w+")")};e.on("videosourcechange",()=>{m=!1});function x(E){m=!1,w=E}return{init:d,update:E=>{s.style.left=(E<o?o:E>g?g:E)*100+"%";const k=~~(E*100/f)*n.number*f;s.style.backgroundPositionX=-k+"%"},change:x}}const et=()=>{},xt=i.$.css(`
  position: absolute;
  left: 0;
  bottom: 12px;
  pointer-events: none;
  transform: translateX(-50%);
  background-position-y: center;
  display: none;`);function It(e,t,n){if(!n)return{update:et,hide:et,init:et};let s=[],o={},g,w=!1,m=n.src;const f=i.$.render(i.$.create("div."+xt),t);f.style.width=((n==null?void 0:n.width)||160)+"px",f.style.height=((n==null?void 0:n.height)||90)+"px";const d=$=>{fetch($).then(v=>v.text()).then(v=>{s=x(v),w=!0,f.style.opacity="1"})};n.src&&d(n.src),e.on("videosourcechange",()=>{w=!1,f.style.opacity="0",s=[],o={}});const x=$=>{const v=[];return $.split(/[\r\n][\r\n]/i).forEach(z=>{if(z.match(/([0-9]{2}:)?([0-9]{2}:)?[0-9]{2}(.[0-9]{3})?( ?--> ?)([0-9]{2}:)?([0-9]{2}:)?[0-9]{2}(.[0-9]{3})?[\r\n]{1}.*/gi)){const M=z.split(/[\r\n]/i),ve=isFinite(+M[0])?M[1]:M[0],de=isFinite(+M[0])?M[2]:M[1],H=ve.split(/ ?--> ?/i),he=H[0],J=H[1],me=L(de);v.push({start:E(he),end:E(J),css:me})}return v}),v},E=$=>{const v=k($);return v.hours*(60*60)+v.minutes*60+v.seconds+v.milliseconds/1e3},k=$=>{const v=$.split("."),z=v[0].split(":");return{milliseconds:parseInt(v[1],10)||0,seconds:parseInt(z.pop(),10)||0,minutes:parseInt(z.pop(),10)||0,hours:parseInt(z.pop(),10)||0}},L=$=>{const v={};if(!$.match(/#xywh=/i))return v.background='url("'+D($)+'")',v;const y=S($);return v.background='url("'+D(y.image)+'") no-repeat -'+y.x+"px -"+y.y+"px",v.width=y.w+"px",v.height=y.h+"px",v.url=D(y.image),v},D=(()=>{const $={};return v=>{if($[v])return $[v];if(/(https?:)?\/\//.test(v))return v;let y=m;/(https?:)?\/\//.test(v)&&(y=m.substring(0,m.indexOf("?")||void 0));const z=y.lastIndexOf("/");if(y.startsWith("https://")&&z<8||y.startsWith("http://")&&z<7)return m+v;const M=y.substring(z+1);return $[v]=m.replace(M,v),$[v]}})(),S=$=>{const v=$.split(/#xywh=/i),y=v[0],M=v[1].match(/[0-9]+/gi);return{x:M[0],y:M[1],w:M[2],h:M[3],image:y}},C=$=>{if(!w)return;const v=e.duration,y=$*v,z=O(y);if(!z){f.style.opacity="0";return}const M=t.clientWidth,ve=$*M,de=parseInt(z.width,10),H=de>>1,he=M-(ve+H),J=ve-H;if(f.style.opacity="1",J>0&&he>0?f.style.transform="translateX("+(ve-H)+"px)":J<=0?f.style.transform="translateX("+0+"px)":he<=0&&(f.style.transform="translateX("+(M-de)+"px)"),!(g&&g===z)){g=z;for(const me in z)z.hasOwnProperty(me)&&(f.style[me]=z[me])}},O=$=>{for(let v=0;v<s.length;++v){const y=s[v];if($>=y.start&&$<y.end){if(y.css.url&&!o[y.css.url]){const z=new Image;z.src=y.css.url,o[y.css.url]=z}return y.css}}};return{init:()=>{},update:C,change:d}}const tt=i.$.css({"background-color":"hsla(0, 0%, 100%, 0.4)"}),nt=i.$.css({"background-color":"var(--primary-color)"}),Ie=i.$.css({width:"100%","pointer-events":"none",position:"relative","z-index":1,"& > *":{content:"''",display:"block",position:"absolute",width:"1.4em",height:"1.4em",top:"calc(-0.7em + 2px)",left:"-0.7em",bottom:"0",transform:"scale(0)",transition:"transform 0.3s ease","z-index":"1"},"& > *:not(svg)":{width:"1em",height:"1em",top:"calc(-0.5em + 2px)",left:"-0.5em","border-radius":"50%","background-color":"#fff"}}),st=i.$.css({position:"absolute",left:"0","border-radius":"4px",padding:"5px 8px","background-color":"var(--shadow-background-color)",color:"#fff","word-wrap":"nowrap","word-break":"nowrap","z-index":"2","pointer-events":"none",transform:"translateX(-50%)",display:"none","white-space":"pre",bottom:"15px"}),pe=i.$.css("/* progressDragging */"),Vt=i.$.css({position:"relative","box-sizing":"border-box",padding:"5px 0",cursor:"pointer",width:"100%",["&."+pe+" ."+Ie+" > * "+(i.tq?"":",&:hover ."+Ie+" > *")]:{transform:"scale(1)"},["&."+pe+" ."+st+", &."+pe+" ."+bt+", &."+pe+" ."+xt]:{display:"block"}}),qt=i.$.css({position:"relative",height:"4px",width:"100%","background-color":"hsla(0, 0%, 100%, 0.2)","border-radius":"2px",["& ."+tt+", & ."+nt]:{position:"absolute",left:"0",top:"0",bottom:"0","will-change":"width","pointer-events":"none","border-radius":"2px"}}),jt=(e,t,n)=>{var s;const o=i.$.create("div."+Vt,{},"<div class="+qt+`>
      <div class="`+st+`">00:00</div>
      <div class="`+tt+`" style="width:0%"></div>
      <div class="`+nt+`" style="width:0%"></div>
      <div class="`+Ie+`" style="transform: translateX(0%);">
        `+(R.get("progressIndicator")||"<span />")+`
      </div>
  </div>`),g=o.firstElementChild,w=(s=n.thumbnails)!=null&&s.isVTT?It(e,g,n.thumbnails):Bt(e,g,n.thumbnails),m=w.init,f=w.update,d=w.change,x=Mt(e,g,n.highlight),E=o.querySelector("."+tt),k=o.querySelector("."+nt),L=o.querySelector("."+Ie),D=o.querySelector("."+st);let S=!1;const C=$=>{const v=o.getBoundingClientRect(),y=(($.clientX||$.changedTouches[0].clientX)-v.left)/v.width;return y>=1?1:y<=0?0:y},O=$=>{const v=C($),y=v*100;return k.style.width=y+"%",L.style.transform="translateX("+y+"%)",D.innerText=oe(e.duration*v),D.style.left=y+"%",v};return o.addEventListener(ue.dragStart,$=>{S=!0,o.classList.add(pe),m(),f(O($));function v(y){y.preventDefault(),f(O(y))}document.addEventListener(ue.dragMove,v,{passive:!1}),document.addEventListener(ue.dragEnd,y=>{o.classList.remove(pe),S=!1,document.removeEventListener(ue.dragMove,v),e.seek(C(y)*e.duration)},{once:!0})}),i.tq||(o.addEventListener("mouseenter",()=>{S||m()}),o.addEventListener("mousemove",$=>{if(S)return;o.classList.add(pe),$.target.classList.contains(fe)?D.style.display="none":D.removeAttribute("style");const v=C($);D.innerText=oe(e.duration*v),D.style.left=v*100+"%",f(v)},{passive:!1}),o.addEventListener("mouseleave",()=>{S||o.classList.remove(pe)})),e.on(["timeupdate","seeking"],()=>{if(S)return;const $=e.currentTime,v=e.duration,y=$/v*100||0;k.style.width=y+"%",L.style.transform="translateX("+y+"%)"}),e.on("progress",()=>{const $=e.buffered.length?e.buffered.end(e.buffered.length-1)/e.duration*100:0;E.style.width=$+"%"}),e.on("videosourcechange",()=>{E.style.width="0%",k.style.width="0%",L.style.transform="translateX(0%)"}),i.$.render(o,t),{highlight:x,thumbnails:d}},wt=i.$.css({position:"absolute",left:"0",right:"0",bottom:"0","z-index":"97",padding:"0 1.25em",transition:"transform 0.3s ease, padding 0.3s ease","background-image":"linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.3))"}),Ut=1500,Ht=(e,t,n)=>{const s=i.$.create("div."+wt);let o={};e.options.isLive||(o=jt(e,s,n)),W(e,s,n),i.$.render(s,t),i.$.css({["@global ."+ne]:{cursor:"none",["& ."+wt]:n.miniProgressBar?{transform:"translateY(calc(100% - 7px))",padding:"0","pointer-events":"none"}:{transform:"translateY(100%)"}}});const g=()=>{!ye(e)||!e.isPlaying&&!i.tq||Te(e.$root,ne)||Te(e.$root,X)||ze(e.$root,ne)},w=Xe(g,Ut),m=w.callee,f=w.clear,d=()=>{Te(e.$root,ne)&&(f(),Me(e.$root,ne))};return e.on("play",m),e.on(["pause","videosourcechange"],d),i.tq||(e.$root.addEventListener("mousemove",()=>{d(),m()}),e.$root.addEventListener("mouseleave",g)),{exp:o,toggle(){Te(e.$root,ne)?d():g()}}},Nt=i.$.css(Object.assign({"& > button":{position:"absolute",right:"40px",bottom:"5em",fill:"#fff",width:"4.5em","z-index":"97","& > svg":Object.assign({filter:"drop-shadow(4px 4px 6px rgba(0, 0, 0, 0.3))"},i.tq&&{"&:nth-child(1)":{display:"block"},"&:nth-child(2)":{display:"none"},["@global ."+ge+" &"]:{"&:nth-child(1)":{display:"none"},"&:nth-child(2)":{display:"block"}}})},"@media only screen and (max-width: 991px)":{"& > button":{top:"0",bottom:"0",left:"0",right:"0",margin:"auto",width:"3.5em",height:"3.5em"}}},i.tq?{display:"none",["@global ."+Q+" &"]:{display:"block"},["@global ."+ne+" &"]:{display:"none"}}:{["@global ."+F+" &"]:{display:"none"},["@global ."+ge+" &"]:{display:"none"}})),$t=(e,t)=>{const n=!e.isNativeUI&&i.tq,s=i.$.create("div."+Nt,{},'<button aria-label="Play" class="'+K+`" type="button">
      `+R.get("play")+`
      `+(n?R.get("pause"):"")+`
    </button>`);e.isNativeUI?(s.style.display="block",s.addEventListener("click",()=>(e.play(),s.remove()),{once:!0})):s.addEventListener("click",()=>e.togglePlay()),i.$.render(s,t)},Wt=i.$.css(`
  display: none;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  color: #fff;
  font-size: 1.25em;
  background: #000;
  z-index: 99;
  align-items: center;
  padding: 0 10px;
  -moz-user-select: text;
  -webkit-user-select: text;
  -ms-user-select: text;
  user-select: text;
  word-break: break-all;
  justify-content: center;
`),yt=i.$.css("display: flex;"),Gt={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"},Xt=(e,t,n)=>{if(n.errorBuilder){e.on("error",w=>{let m=w.payload;n.errorBuilder(m)});return}const s=i.$.render(i.$.create("div."+Wt,{"aria-label":"Error Overlay"}),t);function o(w){var m;let f="";if(w instanceof Event){const d=(m=w.target)==null?void 0:m.error;if(!d||!d.message&&typeof d.code!="number")return;f=d.message||Gt[d.code]}else f=w.message;s.innerText=f||"UNKNOWN_ERROR",ze(s,yt)}function g(){Me(s,yt),s.innerText=""}return e.on("videosourcechange",g),e.on("error",w=>{let m=w.payload;return o(m)}),o},Yt=i.$.css({position:"absolute",top:"0",bottom:"0",left:"0",right:"0",display:"none","align-items":"center","justify-content":"center",["@global ."+F+" &"]:{display:"flex"}}),Kt=i.$.css({position:"relative",overflow:"hidden",width:"20%",height:"4px","border-radius":"4px","&::before,&::after":{display:"block",content:"''",position:"absolute",height:"100%",width:"100%","background-color":"var(--primary-color)","border-radius":"4px"},"&::before":{opacity:"0.4"},"&::after":{animation:"indeterminate 1.3s infinite linear","transform-origin":"0% 50%"},"@keyframes indeterminate":{"0%":{transform:"translateX(0) scaleX(0)"},"10%":{transform:"translateX(0) scaleX(0.2)"},"40%":{transform:"translateX(0) scaleX(0.7)"},"60%":{transform:"translateX(60%) scaleX(0.4)"},"100%":{transform:"translateX(100%) scaleX(0.2)"}}}),Qt=(e,t)=>{const n=i.$.create("div."+Yt,{"aria-label":"Loading"},""+(R.get("loadingIndicator")||'<div class="'+Kt+'"></div>'));i.$.render(n,t)},Zt=i.$.css({width:"100%",height:"100%",position:"absolute",top:"0",left:"0",right:"0",bottom:"0",["@global ."+X+" &"]:{"z-index":"98"}}),Jt=(e,t,n)=>{const s=i.$.create("div."+Zt);s.addEventListener("click",()=>{!ye(e)||Te(e.$root,X)||(i.tq?n():e.togglePlay())}),i.$.render(s,t)},Et=e=>{const t=e.getAttribute("data-selected")=="true";e.setAttribute("data-selected",""+!t),Ye(e,n=>n.setAttribute("data-selected",""+t))},en=(e,t,n)=>{const s=[],o=t.querySelector("."+V).children[1];n&&n.forEach(f=>g(f)),o.addEventListener("click",f=>{var d,x;const E=f.target,k=E.getAttribute("aria-label"),L=s.find(D=>D.name==k);!L||E.getAttribute("data-selected")=="true"||(E.tagName.toUpperCase()=="SPAN"?(Et(E),(d=L.onChange)==null||d.call(L,L.children[+E.getAttribute("data-index")])):E.tagName.toUpperCase()=="BUTTON"&&((x=L.onClick)==null||x.call(L,E)))});function g(f){const d=f.name,x=f.icon,E=f.children;let k="";const L=`
    <button
      aria-label="`+d+`"
      class="`+K+" "+(x?"":"--text")+`"
      type="button"
    >`+(x||d)+"</button>";f.children?k=`
      <div class="`+T+" "+N+'" aria-label="'+d+`">
        `+L+`
        <div class=`+P+`>
          `+E.map((D,S)=>`<span
                  aria-label=`+d+`
                  class=`+re+`
                  data-selected=`+Boolean(D.default)+`
                  data-index=`+S+`
                >`+D.name+"</span>").join("")+`
          </div>
      </div>`:k=L,s.push(f),o.insertAdjacentHTML("afterbegin",k)}function w(f){var d,x;(d=o.querySelector("button[aria-label="+f+"]"))==null||d.remove(),(x=o.querySelector("div[aria-label="+f+"]"))==null||x.remove()}function m(f,d){Et(o.querySelector("."+P+" > span[aria-label="+f+"]:nth-child("+(d+1)+")"))}return{register:g,unregister:w,select:m}},tn=i.$.css(ee||(ee=G([`
  position: absolute;
  display: none;
  top: 10px;
  left: 10px;
  right: 10px;
  z-index: 99;
`]))),St=i.$.css(`
  -moz-user-select: all;
  -webkit-user-select: all;
  -ms-user-select: all;
  user-select: all;
  color: #fff;
  background-color: var(--shadow-background-color);
  border-radius: 2px;
  padding: 5px 10px;
  font-size: 120%;
`),nn=2e3,kt=i.$.css("display:block;"),sn=(e,t)=>{const n=i.$.create("div."+tn,{"aria-label":"Notice"},'<span class="'+St+'"></span>'),s=n.querySelector("."+St),o=Xe(()=>Me(n,kt),nn),g=o.callee;function w(f){return function(){return f.apply(void 0,arguments),ze(n,kt),g()}}["play","pause","enterFullscreen","exitFullscreen","enterPip","exitPip"].forEach(f=>{const d=e[f].bind(e);Object.defineProperty(e,f,{get:()=>function(){const x=d.apply(void 0,arguments);return x!=null&&x.catch?x.catch(E=>(w(()=>s.innerText=E.message)(),E)):x}})});function m(f){w(d=>{s.innerText=d})(f)}return e.on("notice",f=>{let d=f.payload;return m(d.text)}),i.$.render(n,t),m},ae=i.$.css("display: block;"),on=i.$.css({"z-index":"98","max-height":"75%","border-radius":"3px",display:"block",position:"absolute",right:"1.25em",bottom:"3.4em",overflow:"auto","background-color":"var(--shadow-background-color)",fill:"#fff","&::-webkit-scrollbar":{width:"2px"},"&::-webkit-scrollbar-thumb":{background:"var(--primary-color)"},"& > div":{display:"none","font-size":"120%"},["& > div."+ae]:{display:"block"}}),rn=i.$.css("min-width: 15.5em;"),an=i.$.css("min-width: 10.5em;"),Lt=i.$.css(`
  display: none;
  width: 18px;
  height: 18px;
`),ln=i.$.css(`
  width: 30px;
  height: 30px;
  margin: 0 -10px 0 -5px;
`),cn=i.$.css(`
  width: 30px;
  height: 30px;
  transform: rotate(180deg);
  margin-left: -10px;
`),Tt=i.$.css({position:"absolute",cursor:"pointer",top:"0",left:"0",right:"0",bottom:"0","background-color":"#ccc",transition:".3s","border-radius":"34px","&:before":{position:"absolute",content:'""',height:"16px",width:"16px",left:"4px",bottom:"3px","background-color":"white",transition:".3s","border-radius":"50%"}}),un=i.$.css(`
  position: relative;
  width: 40px;
  height: 22px;
`),dn=i.$.css(`
  white-space: nowrap;
  color: rgba(255, 255, 255, 0.7);
  font-size: 80%;
`),hn=i.$.css({height:"2.4em",cursor:"pointer",color:"#fff","justify-content":"space-between","align-items":"center",padding:"0 10px","line-height":"1",display:"flex",overflow:"hidden","& > *":{"pointer-events":"none"},"&:hover":{"background-color":"rgba(255, 255, 255, 0.1)"},["&[data-selected='true']"]:{["& ."+Lt]:{display:"block"},["&[data-index]"]:{"background-color":"rgba(255, 255, 255, 0.1)"},["& ."+Tt]:{"background-color":"var(--primary-color)","&:before":{transform:"translateX(16px)"}}}}),it=i.$.css({display:"flex","align-items":"center","margin-right":"10px","& > svg":{width:"22px","margin-right":"6px"}}),_t=i.$.css(`
  display: flex;
  align-items: center;
`),gn=i.$.css({width:"100%",display:"flex","align-items":"center","border-bottom":"1px solid rgb(255 255 255 / 10%)"}),Pt=function(){return'<svg class="'+(arguments.length>0&&arguments[0]!==void 0?arguments[0]:ln)+'"  xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="m 12.59,20.34 4.58,-4.59 -4.58,-4.59 1.41,-1.41 6,6 -6,6 z" fill="#fff"></path></svg>'},fn=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return'<div class="'+it+`">
      `+t+`
      <span>`+e+`</span>
    </div>
    <svg class=`+Lt+` xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 24 24">
      <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" fill="#fff"></path>
    </svg>
`},pn=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return'<div class="'+it+`">
      `+t+`
      <span>`+e+`</span>
    </div>
    <div class=`+_t+`>
      <span role="label" class=`+dn+`></span>
      `+Pt()+`
    </div>
`},vn=e=>'<div class="'+gn+`">
      `+Pt(cn)+`
      <span>`+e+`</span>
    </div>
`,mn=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return'<div class="'+it+`">
    `+t+`
    <span>`+e+`</span>
  </div>
  <div class=`+_t+`>
    <label class=`+un+`>
      <span class=`+Tt+`></span>
    </label>
  </div>
`};function Ct(e){let t=e.type,n=e.key,s=e.name,o=e.icon,g=e.default,w=e.index,m=i.$.create("div."+hn,{"data-key":n});const f={$row:m,$label:void 0};switch(t){case"switcher":m.innerHTML=mn(s,o),m.setAttribute("data-selected",g||!1);break;case"selector":m.innerHTML=pn(s,o),f.$label=m.querySelector('span[role="label"]');break;case"back":m.innerHTML=vn(s);break;default:m.innerHTML=fn(s,o),m.setAttribute("data-selected",g||!1),typeof w=="number"&&m.setAttribute("data-index",w.toString());break}return f}function Dt(e,t,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!n||n.length==0)return;const o=s.key,g=s.target,w=s.parent,m=s.isSelectorOptionsPanel,f=s.name;let d={},x=o||"root";t[0]&&x=="root"?(d=t[0],x=t[0].key):(d.$ref=i.$.create("div."+(t[0]&&m?an:rn),{"data-key":x}),d.key=x,t.push(d)),d.parent=w;const E=d.key=="root";if(!E){const k=Ct({name:f,type:"back"}),L=k.$row;L.addEventListener("click",()=>{var D;d.$ref.classList.remove(ae),(D=d.parent)==null||D.$ref.classList.add(ae)}),i.$.render(L,d.$ref)}for(let k=0;k<n.length;k++){const L=n[k],D=L.name,S=L.type,C=L.key,O=L.children,$=L.icon,v=L.default,y=L.onChange,z=Ct(Object.assign({name:D,type:S,key:C,icon:$,default:v},!E&&m&&{index:k})),M=z.$row,ve=z.$label;if(i.$.render(M,d.$ref),i.$.render(d.$ref,g),O){const de=S=="selector"&&O.every(he=>!Boolean(he.type)),H=Dt(e,t,O,{key:C,target:g,parent:d,isSelectorOptionsPanel:de,name:S=="selector"?D:void 0});if(M.addEventListener("click",()=>{d.$ref.classList.remove(ae),H.$ref.classList.add(ae)}),de){const he=O.find(J=>J.default);he&&(ve.innerText=he.name),H.select=function(J){var me;let Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(J==-1){(me=H.$ref.querySelector("[data-selected=true]"))==null||me.setAttribute("data-selected","false");return}const rt=H.$ref.children[J+1];if(rt.getAttribute("data-selected")!="true"){rt.setAttribute("data-selected","true"),Ye(rt,zt=>{zt.hasAttribute("data-selected")&&zt.setAttribute("data-selected","false")});const Rt=O[J];ve.innerText=Rt.name,Ft&&(y==null||y(Rt,{index:J}))}Ft&&(d.$ref.classList.add(ae),H.$ref.classList.remove(ae))},H.$ref.addEventListener("click",J=>{H.select(+J.target.getAttribute("data-index"))})}}else S=="switcher"&&(M.select=function(){let de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const H=this.getAttribute("data-selected")=="true";this.setAttribute("data-selected",""+!H),de&&(y==null||y(!H))},M.addEventListener("click",()=>M.select()))}return d}function bn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const s=i.$.create("div."+on,{"aria-label":"Setting"});let o=[],g=null,w=!1,m=!1;const f={loop:{name:e.locales.get("Loop"),type:"switcher",key:"loop",icon:R.get("loop"),default:e.isLoop,onChange:S=>e.setLoop(S)}};L(n.map(S=>typeof S=="string"?f[S]:S));function d(S){L(Array.isArray(S)?S:[S])}function x(S){var C,O;!m||((O=(C=o[0])==null?void 0:C.$ref.querySelector("[data-key="+S+"]"))==null||O.remove(),o=o.filter($=>$.key===S?($.$ref.remove(),$=null,!1):!0))}function E(S,C){if(console.log(S,C),!m)return;const O=s.querySelector('[data-key="'+S+'"] span[role="label"]');O&&(O.innerText=C)}function k(S,C){var O;let $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!!m)if(typeof C=="number")for(let v=0;v<o.length;v++){const y=o[v];if(y.key==S){y.select(C,$);break}}else(O=s.querySelector('[data-key="'+S+'"][data-selected]'))==null||O.select($)}function L(S){if(!(S.length<1)){if(!m){let C=function(O){g!=O.target&&O.target!=s&&!s.contains(O.target)&&(w=!1,e.$root.classList.remove(X),o.forEach($=>$.$ref.classList.remove(ae)))};m=!0,i.$.render(s,t),D(),document.addEventListener("click",C),e.on("destroy",()=>document.removeEventListener("click",C))}Dt(e,o,S,{target:s})}}function D(){var S;const C=(S=t.querySelector("."+V))==null?void 0:S.children[1],O=i.$.create("button",{class:K+" "+B,"aria-label":e.locales.get("Setting")},""+R.get("setting"));C.insertBefore(O,C.children[C.children.length-2]),O.addEventListener("click",$=>{g=$.target,w=e.$root.classList.toggle(X),w?o[0].$ref.classList.toggle(ae):o.forEach(v=>v.$ref.classList.remove(ae))})}return{register:d,unregister:x,updateLabel:E,select:k}}function xn(e){return e.replace(/(\d\d:\d\d:\d\d)[,.](\d+)/g,(t,n,s)=>{let o=s.slice(0,3);return s.length===1&&(o=s+"00"),s.length===2&&(o=s+"0"),n+","+o})}function wn(e){return`WEBVTT \r
\r
`.concat(xn(e).replace(/\{\\([ibu])\}/g,"</$1>").replace(/\{\\([ibu])1\}/g,"<$1>").replace(/\{([ibu])\}/g,"<$1>").replace(/\{\/([ibu])\}/g,"</$1>").replace(/(\d\d:\d\d:\d\d),(\d\d\d)/g,"$1.$2").replace(/{[\s\S]*?}/g,"").concat(`\r
\r
`))}function ot(e){return URL.createObjectURL(new Blob([e],{type:"text/vtt"}))}function At(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split(/[:.]/).map((t,n,s)=>{if(n===s.length-1){if(t.length===1)return"."+t+"00";if(t.length===2)return"."+t+"0"}else if(t.length===1)return(n===0?"0":":0")+t;return n===0?t:n===s.length-1?"."+t:":"+t}).join("")}function $n(e){const t=new RegExp("Dialogue:\\s\\d,(\\d+:\\d\\d:\\d\\d.\\d\\d),(\\d+:\\d\\d:\\d\\d.\\d\\d),([^,]*),([^,]*),(?:[^,]*,){4}([\\s\\S]*)$","i");return`WEBVTT

`+e.split(/\r?\n/).map(n=>{const s=n.match(t);return s?{start:At(s[1].trim()),end:At(s[2].trim()),text:s[5].replace(/{[\s\S]*?}/g,"").replace(/(\\N)/g,`
`).trim().split(/\r?\n/).map(o=>o.trim()).join(`
`)}:null}).filter(n=>n).map((n,s)=>n?s+1+`
`+n.start+" --> "+n.end+`
`+n.text:"").filter(n=>n.trim()).join(`

`)}function yn(e,t,n){return new En(e,t,n)}class En{constructor(t,n,s){if(se(this,"options"),se(this,"$track"),se(this,"$iosTrack"),se(this,"$dom"),se(this,"isShow",!1),se(this,"currentSubtitle"),se(this,"update",o=>{var g,w;const m=this.$dom,d=(g=this.player.$video.textTracks[0])==null?void 0:g.activeCues;if(d!=null&&d.length){let x="";for(let E=0;E<d.length;E++){const k=d[E];k&&(x+=(w=k.text)==null?void 0:w.split(/\r?\n/).map(L=>"<p>"+L+"</p>").join(""))}m.innerHTML=x}else m.innerHTML=""}),this.player=t,this.el=n,!window.TextDecoder){t.emit("notice",{text:t.locales.get("TextDecoder not supported")});return}this.options=s||{source:[]},this.processDefault(),this.createContainer(),this.initEvents(),this.loadSetting(),this.load()}processDefault(){this.currentSubtitle=Sn(this.options.source)}createContainer(){var t,n;const s=this.el,o=this.options;this.$dom=i.$.create("div."+i.$.css({color:(t=o.color)!=null?t:"#fff",left:"2%",right:"2%","text-align":"center","pointer-events":"none","text-shadow":"1px 0 1px #000, 0 1px 1px #000, -1px 0 1px #000, 0 -1px 1px #000, 1px 1px 1px #000, -1px -1px 1px #000, 1px -1px 1px #000, -1px 1px 1px #000",position:"absolute",bottom:""+((n=o.bottom)!=null?n:"5%"),"line-height":"1.2","font-size":(o.fontSize||(i.tq?14:16))/.12+"%","& > p":{margin:0}})),i.$.render(this.$dom,s)}createTrack(){this.$track=i.$.render(i.$.create("track",{default:!0,kind:"metadata"}),this.player.$video),i.gn&&(this.$iosTrack=i.$.render(i.$.create("track",{default:!1,kind:"captions"}),this.player.$video),this.player.$video.textTracks[1].mode="hidden",this.player.on("fullscreenchange",t=>{t.payload.isWeb||(this.player.isFullScreen?this.isShow&&(this.player.$video.textTracks[1].mode="showing"):this.player.$video.textTracks[1].mode="hidden")}))}initEvents(){this.player.on(["destroy","videosourcechange"],this.destroy.bind(this))}updateSource(t){this.destroy(),this.options.source=t,this.processDefault(),this.loadSetting(),this.load()}load(){!this.currentSubtitle||(this.$track||this.createTrack(),this.loadSubtitle().then(()=>this.show()).catch(t=>{this.player.emit("notice",{text:t.message})}))}destroy(){var t;const n=this.player,s=this.$dom,o=this.$track,g=this.$iosTrack;o==null||o.removeEventListener("cuechange",this.update),s.innerHTML="",(t=n.plugins.ui)==null||t.setting.unregister(Ot),o!=null&&o.src&&URL.revokeObjectURL(o.src),g!=null&&g.src&&URL.revokeObjectURL(g.src),o==null||o.remove(),g==null||g.remove(),this.$track=void 0,this.$iosTrack=void 0}show(){this.isShow=!0,this.$track.addEventListener("cuechange",this.update)}hide(){const t=this.$track,n=this.$dom;this.isShow=!1,n.innerHTML="",t.removeEventListener("cuechange",this.update)}loadSubtitle(){const t=this.currentSubtitle,n=this.player,s=this.$track,o=this.$iosTrack,g=t.src,w=t.encoding,m=t.type;return fetch(g).then(f=>f.arrayBuffer()).then(f=>{const x=new TextDecoder(w).decode(f);switch(m==null||m=="auto"?new URL(g).pathname.split(".")[1]:m){case"srt":return ot(wn(x));case"ass":return ot($n(x));case"vtt":return ot(x);default:return g}}).then(f=>{s!=null&&s.src&&URL.revokeObjectURL(s.src),s.src=f,o&&(o.src&&URL.revokeObjectURL(o.src),o.src=f)}).catch(f=>{n.emit("notice",{text:"Subtitle"+f.message})})}loadSetting(){var t;const n=this.options.source;n.length&&((t=this.player.plugins.ui)==null||t.setting.register({name:this.player.locales.get("Subtitle"),type:"selector",icon:R.get("subtitle"),key:Ot,onChange:s=>{let o=s.value;o?(this.currentSubtitle=o,this.load()):this.hide()},children:[{name:this.player.locales.get("OFF"),default:!this.currentSubtitle}].concat(n==null?void 0:n.map(s=>{var o;return{name:s.name,default:((o=this.currentSubtitle)==null?void 0:o.src)==s.src,value:s}}))}))}}const Ot="Subtitle";function Sn(e){return e.find(t=>t.default)}const kn=(e,t)=>{if(e.isNativeUI){$t(e,e.$root);return}R.setupIcons(e,t.icons);const n=i.$.create("div."+te(t.theme));gt(e,t,n);const s=Xt(e,n,t),o=sn(e,n);Qt(e,n),$t(e,n);const g=Ht(e,n,t),w=g.exp,m=g.toggle;Jt(e,n,m);const f=bn(e,n,t.settings),d=en(e,n,t.menu);Ae(e,t.speed,f);const x=yn(e,n,t.subtitle);return i.$.render(n,e.$root),i.tq||mt(e),Object.assign({error:s,notice:o,setting:f,menu:d,subtitle:x},w)},Ln={theme:{primaryColor:"#6668ab"},hotkey:!0,speed:["2.0","1.75","1.25","1.0","0.75","0.5"],fullscreen:!0,pictureInPicture:!0,miniProgressBar:!0,settings:["loop"]},Tn=e=>({name:"oplayer-theme-ui",key:"ui",apply:t=>kn(t,Object.assign(Ln,e))})}}]);
