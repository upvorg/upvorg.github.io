"use strict";(self.webpackChunk_web_index=self.webpackChunk_web_index||[]).push([[193],{7944:function(ut,Ae,ue){ue.d(Ae,{$:function(){return Oe},ZP:function(){return Se},gn:function(){return Pe},tq:function(){return M}});var i=(r,s,a)=>new Promise((u,c)=>{var p=z=>{try{b(a.next(z))}catch(A){c(A)}},v=z=>{try{b(a.throw(z))}catch(A){c(A)}},b=z=>z.done?u(z.value):Promise.resolve(z.value).then(p,v);b((a=a.apply(r,s)).next())}),j=(r,s,a)=>(s=r[Symbol.asyncIterator],a=(u,c)=>(c=r[u])&&(s[u]=p=>new Promise((v,b,z)=>(p=c.call(r,p),z=p.done,Promise.resolve(p.value).then(A=>v({value:A,done:z}),b)))),s?s.call(r):(r=r[Symbol.iterator](),s={},a("next"),a("return"),s)),Le=Object.defineProperty,ne=(r,s,a)=>s in r?Le(r,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[s]=a,R=(r,s,a)=>(ne(r,typeof s!="symbol"?s+"":s,a),a),$e,we,B,ee,se,oe,X,q,Y;function ae(r){return le(r).toString(36)}function le(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=1540483477,u=24,c=s^r.length,p=r.length,v=0;for(;p>=4;){let b=H(r,v);b=P(b,a),b^=b>>>u,b=P(b,a),c=P(c,a),c^=b,v+=4,p-=4}switch(p){case 3:c^=U(r,v),c^=r.charCodeAt(v+2)<<16,c=P(c,a);break;case 2:c^=U(r,v),c=P(c,a);break;case 1:c^=r.charCodeAt(v),c=P(c,a);break}return c^=c>>>13,c=P(c,a),c^=c>>>15,c>>>0}function H(r,s){return r.charCodeAt(s++)+(r.charCodeAt(s++)<<8)+(r.charCodeAt(s++)<<16)+(r.charCodeAt(s)<<24)}function U(r,s){return r.charCodeAt(s++)+(r.charCodeAt(s++)<<8)}function P(r,s){r=r|0,s=s|0;let a=r&65535,u=r>>>16;return a*s+((u*s&65535)<<16)|0}function de(r){return Boolean(r&&typeof r=="object"&&!Array.isArray(r))}function G(r){for(var s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];if(!a.length)return r;const c=a.shift();if(de(r)&&de(c))for(const p in c)de(c[p])?(r[p]||Object.assign(r,{[p]:{}}),G(r[p],c[p])):Object.assign(r,{[p]:c[p]});return G.apply(void 0,[r].concat(a))}function _(r){if(typeof r!="object"||r===null)return!1;let s=r;for(;Object.getPrototypeOf(s)!==null;)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(r)===s}function I(r){let s=[":",".","[",">"," "],a=!1,u=r.charAt(0);for(let c=0;c<s.length;c++)if(u===s[c]){a=!0;break}return a||r.indexOf("&")>=0}var K=/[(),]|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g;function te(r){if(r.indexOf(",")===-1)return[r];for(var s=[],a=[],u=0,c;c=K.exec(r);)switch(c[0]){case"(":u++;break;case")":u--;break;case",":if(u)break;s.push(c.index)}for(c=s.length;c--;)a.unshift(r.slice(s[c]+1)),r=r.slice(0,s[c]);return a.unshift(r),a}function _e(r,s){let a=te(r);return te(s).map(c=>c.indexOf("&")>=0?c:"&"+c).reduce((c,p)=>c.concat(a.map(v=>p.replace(/\&/g,v))),[]).join(",")}function dt(r,s){return r?"@media "+r.substring(6)+" and "+s.substring(6):s}function qe(r){return r.indexOf("@media")===0}function je(r){return r.indexOf("@keyframes")===0}function ht(r){return r.indexOf("@global")===0}function Ce(r,s){var a;let u=s.rules,c=s.mediaQuery,p=s.globalSelector,v={};return p&&(r=p),(a=Object.keys(u))==null||a.forEach(b=>{var z,A,Q,ie;if(ht(b)){const V=b;b=b.substring(8);const Z=b.indexOf("&");let W;Z!=-1?(W=_e(r,b),p=b.substring(0,Z-1).trim()):W=b,G(v,Ce(W,{mediaQuery:c,rules:u[V],globalSelector:W}))}else I(b)?G(v,Ce(_e(r,b),{rules:u[b],mediaQuery:c})):qe(b)?G(v,Ce(r,{mediaQuery:dt(c,b),rules:u[b]})):c?((z=v[c])!=null||(v[c]={}),(Q=(A=v[c])[r])!=null||(A[r]={}),v[c][r][b]=u[b]):je(b)?v[b]=u[b]:((ie=v[r])!=null||(v[r]={}),v[r][b]=u[b])}),v}function He(r){let s=[];for(const a in r)if(Object.hasOwnProperty.call(r,a)){const u=r[a];de(u)?s.push(a+"{"+He(u)+"}"):s.push(a+":"+u)}return/^\d%/.test(s[0])?s.join(" "):s.join(";")}function Ne(r){let s=[];for(const a in r)if(Object.hasOwnProperty.call(r,a)){const u=r[a];if(qe(a))s.push(a+"{"+Ne(u)+"}");else if(je(a))s.push(a+"{"+He(u)+"}");else{const c=Object.entries(u).map(p=>{let v=p[0],b=p[1];return v+":"+b}).join(";");s.push(a+"{"+c+"}")}}return s}function gt(r,s){return Ne(Ce(s,{rules:r}))}var Oe;(r=>{r.create=function(c){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";const b=c.indexOf("#")!==-1,z=c.indexOf(".")!==-1,A=b?c.split("#"):z?c.split("."):[c],Q=A[0],ie=A[1],V=document.createElement(Q);return b&&(V.id=ie),z&&V.classList.add(ie),v&&(V.innerHTML=v),Object.keys(p).forEach(Z=>{const W=p[Z];(Q==="video"||Q==="audio")&&typeof W=="boolean"?W&&V.setAttribute(Z,""):typeof W!="undefined"&&V.setAttribute(Z,""+W)}),V},r.render=(c,p)=>p.appendChild(c),r.isBrowser=()=>Boolean(typeof globalThis!="undefined"&&globalThis.document&&globalThis.document.documentElement);function s(c){if(!r.isBrowser())return null;let p=document.createElement("style");p.setAttribute("data-"+c,""),p.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(p);for(let v=0;v<document.styleSheets.length;v++)if(document.styleSheets[v].ownerNode===p)return document.styleSheets.item(v);return null}r.createSheet=s;const a=(()=>{const c=Object.create({});return p=>{const v=typeof p=="object"?JSON.stringify(p):p;return c[v]||(c[v]="css-"+ae(v)),c[v]}})();r.createCss=c=>{let p=c.sheet,v=c.ssrData;return function(){for(var b,z=arguments.length,A=new Array(z),Q=0;Q<z;Q++)A[Q]=arguments[Q];const ie=Boolean(A[0]&&A[0].length&&A[0].raw);let V="";if(ie){let re=A[0];V+=re[0];for(let me=1;me<A.length;me++)V+=typeof A[me]!="string"?"":A[me],V+=re[me]}else typeof A[0]=="string"?V=A[0]:V=JSON.stringify(A[0]);const Z=a(V);if(p){for(let re=0;re<p.cssRules.length;re++)if(((b=p.cssRules[re])==null?void 0:b.selectorText)=="."+Z)return Z}let W=["."+Z+"{"+V+"}"];return!ie&&typeof A[0]=="object"&&(W=gt(A[0],"."+Z)),p?W.forEach(re=>{p.insertRule(re,p.cssRules.length)}):v=v.concat(W),Z}},r.createStyled=()=>{const c=[],p=s("oplayer");return{css:r.createCss({sheet:p,ssrData:c}),getCssValue:()=>c}};var u=r.createStyled();r.css=u.css,r.getCssValue=u.getCssValue,r.cls=c=>"css-"+ae(c)})(Oe||(Oe={}));const ye=Oe,ft=/(iPad)/gi.test(($e=globalThis.navigator)==null?void 0:$e.userAgent)||/Macintosh/i.test((we=globalThis.navigator)==null?void 0:we.userAgent)&&Boolean((B=globalThis.navigator)==null?void 0:B.maxTouchPoints)&&((ee=globalThis.navigator)==null?void 0:ee.maxTouchPoints)>=1,Pe=/iPhone/gi.test((se=globalThis.navigator)==null?void 0:se.userAgent)||ft,Fe=/^((?!chrome|android).)*safari/i.test((oe=globalThis.navigator)==null?void 0:oe.userAgent),M=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test((X=globalThis.navigator)==null?void 0:X.userAgent)||Pe,Ue=/mqqbrowser/i.test((q=globalThis.navigator)==null?void 0:q.userAgent)&&!/ qq/i.test((Y=globalThis.navigator)==null?void 0:Y.userAgent),Me=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","encrypted","waitingforkey","enterpictureinpicture","leavepictureinpicture"],De=["contextmenu"],We=["loadedplugin","videoqualitychange","videosourcechange","destroy"],pt=[].concat(Me,De,We);class Xe{constructor(){R(this,"events",Object.create(null))}on(s,a){this.events[s]||(this.events[s]=[]),this.events[s].push(a)}onAny(s,a){s.forEach(u=>this.on(u,a))}once(s,a){const u=c=>{a({type:s,payload:c.payload}),this.off(s,u)};this.on(s,u)}off(s,a){if(!this.events[s])return;const u=this.events[s].indexOf(a);u>-1&&this.events[s].splice(u,1)}offAny(s){this.events[s]=[]}offAll(){this.events=Object.create(null)}emit(s,a){var u,c;(u=this.events[s])!=null&&u.length&&this.events[s].forEach(p=>{p({type:s,payload:a})}),(c=this.events["*"])==null||c.forEach(p=>{p({type:s,payload:a})})}}const ze={Play:"\u64AD\u653E",Pause:"\u6682\u505C",Loop:"\u5FAA\u73AF\u64AD\u653E",Volume:"\u97F3\u91CF","Volume: %s":"\u97F3\u91CF\uFF1A%s",Mute:"\u9759\u97F3",Speed:"\u64AD\u653E\u901F\u5EA6",Screenshot:"\u622A\u56FE",Subtitle:"\u5B57\u5E55",Quality:"\u753B\u8D28",Fullscreen:"\u5168\u5C4F","TextDecoder Not Supported":"\u4E0D\u652F\u6301\u539F\u751F\u5B57\u5E55",Setting:"\u8BBE\u7F6E","Picture in Picture":"\u753B\u4E2D\u753B",Danmaku:"\u5F39\u5E55",Display:"\u663E\u793A",Opacity:"\u900F\u660E\u5EA6",FontSize:"\u5B57\u4F53\u5927\u5C0F","Display Area":"\u663E\u793A\u533A\u57DF",Close:"\u5173\u95ED",Auto:"\u81EA\u52A8",Default:"\u9ED8\u8BA4",Normal:"\u6B63\u5E38","%ss":"%s\u79D2","Can be closed after %ss":"%s\u79D2\u540E\u53EF\u5173\u95ED\u5E7F\u544A"};class et{constructor(s){R(this,"lang"),R(this,"languages",{zh:ze,"zh-CN":ze,en:Object.keys(ze).reduce((a,u)=>(a[u]=u,a),{})}),this.lang=s==="auto"?navigator.language:s,this.languages[this.lang]||navigator.languages.some(a=>{if(this.languages[a])return this.lang=a,!0;if(a.indexOf("-")!==-1){const u=a.split("-")[0];if(u&&this.languages[u])return this.lang=u,!0}return!1}),this.languages[this.lang]||(this.lang="zh-CN")}get(s){for(var a=arguments.length,u=new Array(a>1?a-1:0),c=1;c<a;c++)u[c-1]=arguments[c];const p=this.languages[this.lang][s];if(p==null)return s;let v=0;return p.replace(/%s/gi,()=>{var b;return(b=u[v++])!=null?b:""})}update(s){this.languages=G(this.languages,s)}}const ve=[];class Se{constructor(s,a){if(R(this,"container"),R(this,"options"),R(this,"locales"),R(this,"eventEmitter",new Xe),R(this,"pluginsFactory",[]),R(this,"plugins",{}),R(this,"$root"),R(this,"$video"),R(this,"listeners",Object.create(null)),R(this,"hasError",!1),R(this,"isCustomLoader",!1),R(this,"_playPromise"),this.container=typeof s=="string"?document.querySelector(s):s,!this.container)throw new Error((typeof s=="string"?s:"Element")+"does not exist");this.options=Object.assign({autoplay:!1,muted:!1,loop:!1,volume:1,preload:"metadata",playbackRate:1,playsinline:!0,lang:"auto",source:{},videoAttr:{},isLive:!1,autopause:!0,isNativeUI:()=>Ue},typeof a=="string"?{source:{src:a}}:a),this.locales=new et(this.options.lang)}static make(s,a){return new Se(s,a)}use(s){return s.forEach(a=>{this.pluginsFactory.push(a)}),this}create(){return this.render(),this.initEvent(),this.applyPlugins(),this.options.source.src&&this.load(this.options.source),ve.push(this),this}initEvent(){const s=u=>{this.hasError=!0,this.emit("error",u)};this.listeners.error=s,this.$video.addEventListener("error",u=>this.listeners.error(u));const a=(u,c)=>this.eventEmitter.emit(u,c);[[this.$video,["fullscreenchange","webkitbeginfullscreen","webkitendfullscreen"],["fullscreenerror","webkitfullscreenerror"]],[this.$root,["fullscreenchange","webkitfullscreenchange"],["fullscreenerror","webkitfullscreenerror","mozfullscreenerror"]]].forEach(u=>{const c=u[0];u.slice(1).forEach(v=>{const b=v[0];this.listeners[b]=a,v.forEach(z=>{c.addEventListener(z,A=>this.listeners[b](b,A))})})}),[[this.$video,Me],[this.$root,De]].forEach(u=>{let c=u[0];u[1].forEach(v=>{this.listeners[v]=a,c.addEventListener(v,b=>this.listeners[v](v,b),{passive:!0})})})}render(){this.$video=ye.create("video."+ye.css(`
        width: 100%;
        height: 100%;
        display: block;
        position: relative;
      `),Object.assign({autoplay:this.options.autoplay,loop:this.options.loop,playsinline:this.options.playsinline,"webkit-playsinline":this.options.playsinline,"x5-playsinline":this.options.playsinline,preload:this.options.preload,poster:this.options.source.poster},this.options.videoAttr)),this.$video.muted=!!this.options.muted,this.$video.volume=this.options.volume,this.$root=ye.create("div."+ye.css(`
        position: relative;
        -moz-user-select: none;
        -webkit-user-select: none;
        -ms-user-select: none;
        user-select: none;
        width: 100%;
        height: 100%;
        overflow: hidden;
        background-color: #000;
      `)),ye.render(this.$video,this.$root),ye.render(this.$root,this.container)}load(s){return i(this,null,function*(){try{for(var a=j(this.pluginsFactory),u,c,p;u=!(c=yield a.next()).done;u=!1){const v=c.value;v.load&&(yield v.load(this,s,{loader:this.isCustomLoader}))&&!this.isCustomLoader&&(this.isCustomLoader=!0)}}catch(v){p=[v]}finally{try{u&&(c=a.return)&&(yield c.call(a))}finally{if(p)throw p[0]}}this.isCustomLoader||(this.$video.src=s.src)})}applyPlugins(){this.pluginsFactory.forEach(s=>{if(s.apply){const a=s.apply(this);if(a){const u=s.key||s.name;_(a)?this.plugins[u]=Object.assign({},this.plugins[u],a):this.plugins[u]=a}}})}on(s,a){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{once:!1};return typeof s=="string"?u.once?this.eventEmitter.once(s,a):this.eventEmitter.on(s,a):Array.isArray(s)?this.eventEmitter.onAny(s,a):typeof s=="function"&&this.eventEmitter.on("*",s),this}off(s,a){this.eventEmitter.off(s,a)}offAny(s){this.eventEmitter.offAny(s)}emit(s,a){this.eventEmitter.emit(s,a)}setPoster(s){this.$video.poster=s}play(){if(!this.$video.src)return Promise.reject(Error("The element has no supported sources."));if(this.options.autopause)for(let s=0;s<ve.length;s++){const a=ve[s];a!=this&&a.pause()}return this._playPromise=this.$video.play()}pause(){var s;return(s=this._playPromise)!=null&&s.then?this._playPromise.then(()=>this.$video.pause()):this.$video.pause()}togglePlay(){return this.isPlaying?this.pause():this.play()}mute(){this.$video.muted=!0}unmute(){this.$video.muted=!1}toggleMute(){this.isMuted?this.unmute():this.mute()}setVolume(s){this.$video.volume=s>1?1:s<0?0:s,this.$video.volume>0&&this.isMuted&&this.unmute()}setPlaybackRate(s){this.$video.playbackRate=s}seek(s){this.$video.currentTime=s}setLoop(s){this.$video.loop=s}enterFullscreen(){return Pe?this.$video.webkitEnterFullscreen():this._requestFullscreen.call(this.$root,{navigationUI:"hide"})}exitFullscreen(){return this._exitFullscreen.call(document)}get isFullscreenEnabled(){return Boolean(Pe&&this.$video.webkitEnterFullscreen)||document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}get isFullScreen(){return Boolean(Pe&&this.$video.webkitDisplayingFullscreen||(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)===this.$root)}toggleFullScreen(){return this.isFullScreen?this.exitFullscreen():this.enterFullscreen()}get isPipEnabled(){return document.pictureInPictureEnabled}enterPip(){return this.$video.requestPictureInPicture()}exitPip(){return this.isInPip?document.exitPictureInPicture():!1}get isInPip(){return document.pictureInPictureElement==this.$video}togglePip(){return this.isInPip?this.exitPip():this.enterPip()}_resetStatus(){this._playPromise=void 0,this.hasError=!1,this.isCustomLoader=!1,this.$video.pause()}changeQuality(s){return this._resetStatus(),this.emit("videoqualitychange",s),this.options.source=Object.assign({},this.options.source,s),this.load(s)}changeSource(s){return this._resetStatus(),this.emit("videosourcechange",s),this.$video.poster=s.poster||"",this.options.source=s,this.load(s)}destroy(){ve.splice(ve.indexOf(this),1),this.emit("destroy"),this.pause(),this.isFullScreen&&this.exitFullscreen(),this.$video.src="",this.$video.remove(),this.container.remove(),this.eventEmitter.offAll()}get isNativeUI(){return this.options.isNativeUI()}get state(){return this.$video.readyState}get isLoading(){return this.$video.readyState<this.$video.HAVE_FUTURE_DATA&&!this.hasError}get isLoaded(){return this.$video.readyState>=this.$video.HAVE_FUTURE_DATA}get canPlay(){return this.$video.readyState>=this.$video.HAVE_ENOUGH_DATA}get isPlaying(){return this.$video.paused===!1}get isMuted(){return this.$video.muted}get isEnded(){return this.$video.ended}get isLoop(){return this.$video.loop}get isAutoPlay(){return this.$video.autoplay}get duration(){return this.$video.duration}get buffered(){return this.$video.buffered}get currentTime(){return this.$video.currentTime}get volume(){return this.$video.volume}get playbackRate(){return this.$video.playbackRate}get _requestFullscreen(){return HTMLElement.prototype.requestFullscreen||HTMLElement.prototype.webkitRequestFullscreen||HTMLElement.prototype.mozRequestFullScreen||HTMLElement.prototype.msRequestFullscreen}get _exitFullscreen(){return Document.prototype.exitFullscreen||Document.prototype.webkitExitFullscreen||Document.prototype.cancelFullScreen||Document.prototype.mozCancelFullScreen||Document.prototype.msExitFullscreen}static get version(){return"1.1.7"}}console.log(`%cOPlayer%c v%s
 %c
Oh! Another HTML5 video player.
https://github.com/shiyiya/oplayer
`,"font-size:32px;","font-size:12px;color:#999999;",Se.version,"font-size:14px;")},9281:function(ut,Ae,ue){ue.d(Ae,{ZP:function(){return $e}});var i=ue(7944),j=ue(5168),Le=ue(3148);const ne=["playing","duration","aspectRatio","plugins","onEvent"];function R(B,ee){if(B==null)return{};var se={},oe=Object.keys(B),X,q;for(q=0;q<oe.length;q++)X=oe[q],!(ee.indexOf(X)>=0)&&(se[X]=B[X]);return se}const $e=(0,j.forwardRef)((B,ee)=>{const se=B.playing,oe=B.duration,X=oe===void 0?0:oe,q=B.aspectRatio,Y=q===void 0?9/16:q,ae=B.plugins,le=B.onEvent,H=R(B,ne),U=(0,j.useRef)(!0),P=(0,j.useRef)(null),de=we(H.source),G=(0,j.useCallback)(_=>{if(_!==null){const I=i.ZP.make(_,H).use(ae||[]).create();P.current=I,I.seek(X/1e3),le&&I.on(le)}},[]);return(0,j.useEffect)(()=>{var _,I,K;U.current||(se?P.current&&!P.current.isPlaying&&((_=P.current)==null||_.play()):(I=P.current)!=null&&I.isPlaying&&((K=P.current)==null||K.pause()))},[se]),(0,j.useEffect)(()=>{var _,I,K,te,_e;U.current||((de==null?void 0:de.src)!==((_=H.source)==null?void 0:_.src)&&((I=P.current)==null||I.changeSource(H.source),(K=P.current)==null||K.setPlaybackRate(H.playbackRate||1)),(_e=P.current)==null||_e.setPoster(((te=H.source)==null?void 0:te.poster)||""))},[H.source]),(0,j.useEffect)(()=>{var _;U.current||(_=P.current)==null||_.seek(X/1e3)},[X]),(0,j.useEffect)(()=>{var _,I;U.current||(H.muted?(_=P.current)==null||_.mute():(I=P.current)==null||I.unmute())},[H.muted]),(0,j.useEffect)(()=>{var _;U.current||(_=P.current)==null||_.setPlaybackRate(H.playbackRate)},[H.playbackRate]),(0,j.useEffect)(()=>(U.current=!1,()=>{var _;return(_=P.current)==null?void 0:_.destroy()}),[]),(0,j.useImperativeHandle)(ee,()=>P.current,[]),(0,Le.jsx)("div",{style:{width:"100%",paddingTop:Y*100+"%",backgroundColor:"#f4f4f4",position:"relative"},children:(0,Le.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},ref:G})})});function we(B){const ee=(0,j.useRef)();return(0,j.useEffect)(()=>{ee.current=B},[B]),ee.current}},3907:function(ut,Ae,ue){ue.d(Ae,{Z:function(){return Dn}});var i=ue(7944),j=Object.defineProperty,Le=(e,t,n)=>t in e?j(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ne=(e,t,n)=>(Le(e,typeof t!="symbol"?t+"":t,n),n),R,$e,we,B,ee,se,oe,X;function q(e,t){return t||(t=e.slice(0)),e.raw=t,e}const Y=i.$.cls("loading"),ae=i.$.cls("playing"),le=i.$.cls("focused"),H=i.$.cls("fullscreen"),U=i.$.cls("settingShown"),P=i.$.cls("controllerHidden"),de=e=>{let t=e.theme;return i.$.css(Object.assign({"--primary-color":""+t.primaryColor,"--shadow-background-color":"rgba(28 ,28 ,28 , .9)",position:"absolute",top:"0",left:"0",width:"100%",height:"100%","font-size":"16px","&, & > *":{"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)"}},!i.tq&&{["&."+H]:{"font-size":"22px"},["@global ."+G+" &"]:{"font-size":"22px"}}))},G=i.$.css(R||(R=q([`
  z-index: 9999 !important;
  position: fixed !important;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;`]))),_=i.$.css({background:"none",border:"none",cursor:"pointer",padding:0,outline:"none",font:"inherit",color:"inherit","line-height":"inherit","text-align":"inherit",width:"100%"}),I=i.$.css({"& > svg:nth-child(1)":{display:"none"}}),K=i.$.css({"& > svg:nth-child(2)":{display:"none"}}),te=i.tq?"":i.$.css({position:"relative","&:hover":{"&::after":{opacity:1,transform:"translateX(-50%) scale(1)"},"&[data-tooltip-pos=up-right]::after":{right:0,left:"auto",transform:"translateY(0) scale(1)"}},"&::after":{position:"absolute",content:"attr(aria-label)",bottom:"100%",left:"50%","margin-bottom":"0.5em","white-space":"nowrap",background:"var(--shadow-background-color)",transform:"translate(-50%, 10px) scale(.8)","transform-origin":"50% 100%",opacity:0,padding:"4px 8px","border-radius":"4px",transition:"transform .2s ease .1s,opacity .2s ease .1s","pointer-events":"none","font-size":"0.75em"},"&[data-tooltip-pos=up-right]::after":{right:0,left:"auto",transform:"translateY(10px) scale(.8)","transform-origin":"100% 100%"}}),Fe={play:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path  d="M245.76 785.203V238.797c0-50.442 34.918-69.182 77.967-42.046l422.196 266.117c43.11 27.157 43.069 71.128 0 98.284L323.727 827.249c-43.11 27.177-77.967 8.315-77.967-42.046z" /></svg>',pause:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path  d="M327.68 184.32a81.92 81.92 0 0 1 81.92 81.92v491.52a81.92 81.92 0 1 1-163.84 0V266.24a81.92 81.92 0 0 1 81.92-81.92z m368.64 0a81.92 81.92 0 0 1 81.92 81.92v491.52a81.92 81.92 0 1 1-163.84 0V266.24a81.92 81.92 0 0 1 81.92-81.92z" /></svg>',volume:['<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M128 426.666667v170.666666c0 23.466667 19.2 42.666667 42.666667 42.666667h128l140.373333 140.373333c26.88 26.88 72.96 7.68 72.96-30.293333V273.493333c0-37.973333-46.08-57.173333-72.96-30.293333L298.666667 384H170.666667c-23.466667 0-42.666667 19.2-42.666667 42.666667z m576 85.333333A192 192 0 0 0 597.333333 340.053333v343.466667c63.146667-31.146667 106.666667-96 106.666667-171.52zM597.333333 189.866667v8.533333c0 16.213333 10.666667 30.293333 25.6 36.266667C733.013333 278.613333 810.666667 386.56 810.666667 512s-77.653333 233.386667-187.733334 277.333333c-15.36 5.973333-25.6 20.053333-25.6 36.266667v8.533333c0 26.88 26.88 45.653333 51.626667 36.266667C793.6 815.36 896 675.84 896 512s-102.4-303.36-247.04-358.4c-24.746667-9.813333-51.626667 9.386667-51.626667 36.266667z"></path></svg>','<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M154.88 154.88a42.496 42.496 0 0 0 0 60.16L311.04 371.2 298.666667 384H170.666667c-23.466667 0-42.666667 19.2-42.666667 42.666667v170.666666c0 23.466667 19.2 42.666667 42.666667 42.666667h128l140.373333 140.373333c26.88 26.88 72.96 7.68 72.96-30.293333v-177.92l178.346667 178.346667c-20.906667 15.786667-43.52 29.013333-68.266667 38.826666-15.36 6.4-24.746667 22.613333-24.746667 39.253334 0 30.72 31.146667 50.346667 59.306667 38.826666 34.133333-14.08 66.133333-32.853333 94.72-55.893333l57.173333 57.173333a42.496 42.496 0 1 0 60.16-60.16L215.466667 154.88c-16.64-16.64-43.52-16.64-60.586667 0zM810.666667 512c0 34.986667-6.4 68.693333-17.493334 99.84l65.28 65.28c23.893333-49.92 37.546667-105.813333 37.546667-165.12 0-163.413333-102.4-303.36-246.613333-358.4-25.173333-9.813333-52.053333 9.813333-52.053334 36.693333v8.106667c0 16.213333 10.666667 30.293333 26.026667 36.266667C733.013333 279.04 810.666667 386.56 810.666667 512z m-371.626667-268.373333l-7.253333 7.253333L512 331.093333V273.493333c0-37.973333-46.08-56.746667-72.96-29.866666zM704 512A192 192 0 0 0 597.333333 340.053333v76.373334l105.813334 105.813333c0.426667-3.413333 0.853333-6.826667 0.853333-10.24z"></path></svg>'],fullscreen:['<svg viewBox="-113 -113 1250 1250" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M0 232.732444A232.732444 232.732444 0 0 1 232.732444 0h558.535112A232.732444 232.732444 0 0 1 1024 232.732444v558.535112A232.732444 232.732444 0 0 1 791.267556 1024H232.732444A232.732444 232.732444 0 0 1 0 791.267556V232.732444z m232.732444-139.662222a139.662222 139.662222 0 0 0-139.662222 139.662222v558.535112a139.662222 139.662222 0 0 0 139.662222 139.662222h558.535112a139.662222 139.662222 0 0 0 139.662222-139.662222V232.732444a139.662222 139.662222 0 0 0-139.662222-139.662222H232.732444z"></path><path d="M549.575111 245.845333c0-25.799111 20.935111-46.734222 46.734222-46.734222h116.821334A140.202667 140.202667 0 0 1 853.333333 339.313778v116.821333a46.734222 46.734222 0 0 1-93.468444 0v-116.821333c0-25.827556-20.906667-46.734222-46.734222-46.734222h-116.821334a46.734222 46.734222 0 0 1-46.734222-46.734223zM245.845333 549.546667c25.799111 0 46.734222 20.935111 46.734223 46.734222v116.821333c0 25.827556 20.906667 46.734222 46.734222 46.734222h116.821333a46.734222 46.734222 0 0 1 0 93.468445h-116.821333A140.202667 140.202667 0 0 1 199.111111 713.130667v-116.821334c0-25.799111 20.935111-46.734222 46.734222-46.734222z"></path></svg>','<svg viewBox="-113 -113 1250 1250" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M0.739556 233.130667a232.391111 232.391111 0 0 1 232.391111-232.391111h557.738666a232.391111 232.391111 0 0 1 232.391111 232.391111v557.738666a232.391111 232.391111 0 0 1-232.391111 232.391111H233.130667a232.391111 232.391111 0 0 1-232.391111-232.391111V233.130667z m232.391111-139.434667a139.434667 139.434667 0 0 0-139.434667 139.434667v557.738666a139.434667 139.434667 0 0 0 139.434667 139.434667h557.738666a139.434667 139.434667 0 0 0 139.434667-139.434667V233.130667a139.434667 139.434667 0 0 0-139.434667-139.434667H233.130667z"></path><path d="M601.088 186.652444c25.685333 0 46.506667 20.792889 46.506667 46.478223v96.796444c0 25.685333 20.792889 46.478222 46.478222 46.478222h96.796444a46.478222 46.478222 0 1 1 0 92.984889h-96.796444a139.434667 139.434667 0 0 1-139.463111-139.463111V233.130667c0-25.685333 20.821333-46.478222 46.478222-46.478223z m-414.435556 414.435556c0-25.656889 20.792889-46.478222 46.478223-46.478222h96.796444a139.434667 139.434667 0 0 1 139.463111 139.463111v96.796444a46.478222 46.478222 0 0 1-92.984889 0v-96.796444c0-25.685333-20.792889-46.478222-46.478222-46.478222H233.130667a46.478222 46.478222 0 0 1-46.478223-46.506667z"></path></svg>'],pip:['<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M768 213.333333H256a85.333333 85.333333 0 0 0-85.333333 85.333334v426.666666a85.333333 85.333333 0 0 0 85.333333 85.333334h170.666667a42.666667 42.666667 0 1 1 0 85.333333H256a170.666667 170.666667 0 0 1-170.666667-170.666667V298.666667a170.666667 170.666667 0 0 1 170.666667-170.666667h512a170.666667 170.666667 0 0 1 170.666667 170.666667v128a42.666667 42.666667 0 1 1-85.333334 0V298.666667a85.333333 85.333333 0 0 0-85.333333-85.333334z m-128 341.333334a128 128 0 0 0-128 128v85.333333a128 128 0 0 0 128 128h170.666667a128 128 0 0 0 128-128v-85.333333a128 128 0 0 0-128-128h-170.666667z"></path></svg>','<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="m768,213.33333l-512,0a85.33333,85.33333 0 0 0 -85.33333,85.33334l0,426.66666a85.33333,85.33333 0 0 0 85.33333,85.33334l170.66667,0a42.66667,42.66667 0 1 1 0,85.33333l-170.66667,0a170.66667,170.66667 0 0 1 -170.66667,-170.66667l0,-426.66666a170.66667,170.66667 0 0 1 170.66667,-170.66667l512,0a170.66667,170.66667 0 0 1 170.66667,170.66667l0,128a42.66667,42.66667 0 1 1 -85.33334,0l0,-128a85.33333,85.33333 0 0 0 -85.33333,-85.33334zm-128,341.33334a128,128 0 0 0 -128,128l0,85.33333a128,128 0 0 0 128,128l170.66667,0a128,128 0 0 0 128,-128l0,-85.33333a128,128 0 0 0 -128,-128l-170.66667,0z"></path><g stroke="null"><g stroke="null" transform="matrix(0.6896517266997474,0,0,0.6896517266997474,-10241.200782450309,-10001.206060939305) "><rect stroke="null" x="15122.523407" y="14826.656681" width="582" height="402" fill="none"></rect></g><g stroke="null" transform="matrix(0.6896517266997474,0,0,0.6896517266997474,-10241.200782450309,-10001.206060939305) "><path stroke="null" d="m15503.523407,14924.856681l-161.8,0c-66.2,0 -120,53.8 -120,120l0,161.8c0,22.1 17.9,40 40,40s40,-17.9 40,-40l0,-144.4l169.8,169.8c7.8,7.8 18,11.7 28.3,11.7c10.2,0 20.5,-3.9 28.3,-11.7c15.6,-15.6 15.6,-40.9 0,-56.6l-170.7,-170.6l146.1,0c22.1,0 40,-17.9 40,-40s-17.9,-40 -40,-40z"></path></g></g></svg>'],setting:'<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" style="scale:1.1"><path d="M0 0h1024v1024H0z" fill-opacity="0"></path><path d="M501.333333 127.573333a21.333333 21.333333 0 0 1 21.333334 0l316.928 182.954667a21.333333 21.333333 0 0 1 10.666666 18.474667v365.994666a21.333333 21.333333 0 0 1-10.666666 18.474667L522.666667 896.426667a21.333333 21.333333 0 0 1-21.333334 0l-316.928-182.954667a21.333333 21.333333 0 0 1-10.666666-18.474667V328.96a21.333333 21.333333 0 0 1 10.666666-18.474667zM512 219.946667L259.029333 365.952v292.053333L512 804.010667l252.928-146.005334V365.952L512 219.946667zM512 426.666667a85.333333 85.333333 0 1 1 0 170.666666 85.333333 85.333333 0 0 1 0-170.666666z"></path></svg>',screenshot:'<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M412.245333 757.333333a42.666667 42.666667 0 0 1-56.490666-64l356.48-314.794666a42.666667 42.666667 0 0 1 56.746666 0.256l112.896 101.461333a42.666667 42.666667 0 1 1-57.088 63.488L740.266667 467.626667l-328.021334 289.706666zM810.666667 213.333333h-128a42.666667 42.666667 0 0 1 0-85.333333h170.666666a42.666667 42.666667 0 0 1 42.666667 42.666667v170.666666a42.666667 42.666667 0 0 1-85.333333 0V213.333333zM213.333333 213.333333v128a42.666667 42.666667 0 1 1-85.333333 0V170.666667a42.666667 42.666667 0 0 1 42.666667-42.666667h170.666666a42.666667 42.666667 0 1 1 0 85.333333H213.333333z m597.333334 597.333334v-128a42.666667 42.666667 0 0 1 85.333333 0v170.666666a42.666667 42.666667 0 0 1-42.666667 42.666667h-170.666666a42.666667 42.666667 0 0 1 0-85.333333h128zM213.333333 810.666667h128a42.666667 42.666667 0 0 1 0 85.333333H170.666667a42.666667 42.666667 0 0 1-42.666667-42.666667v-170.666666a42.666667 42.666667 0 0 1 85.333333 0v128z m170.666667-298.666667a128 128 0 1 1 0-256 128 128 0 0 1 0 256z m0-85.333333a42.666667 42.666667 0 1 0 0-85.333334 42.666667 42.666667 0 0 0 0 85.333334z"></path></svg>',playbackRate:'<svg t="1662793741675" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4313"  height="200"><path d="M512 951.04a435.2 435.2 0 1 1 435.2-435.2 435.2 435.2 0 0 1-435.2 435.2z m0-819.2a384 384 0 1 0 384 384A384 384 0 0 0 512 132.096z" p-id="4314" fill="#ffffff"></path><path d="M468.992 493.824l-130.048-75.008a20.992 20.992 0 0 0-31.232 18.176v150.016a20.992 20.992 0 0 0 31.232 18.176l130.048-75.008a20.992 20.992 0 0 0 0-36.352zM684.8 493.824l-129.536-75.008a21.248 21.248 0 0 0-31.744 18.432v149.504a21.248 21.248 0 0 0 31.744 18.432l129.536-75.008a20.992 20.992 0 0 0 0-36.352z" p-id="4315" fill="#ffffff"></path></svg>',subtitle:'<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M640 970.666667H384c-231.765333 0-330.666667-98.901333-330.666667-330.666667V384c0-231.765333 98.901333-330.666667 330.666667-330.666667h256c231.765333 0 330.666667 98.901333 330.666667 330.666667v256c0 231.765333-98.901333 330.666667-330.666667 330.666667z m-256-853.333334C187.136 117.333333 117.333333 187.136 117.333333 384v256c0 196.864 69.802667 266.666667 266.666667 266.666667h256c196.864 0 266.666667-69.802667 266.666667-266.666667V384c0-196.864-69.76-266.666667-266.666667-266.666667z" fill="#ffffff" p-id="9126"></path><path d="M667.733333 760.746667a32.213333 32.213333 0 0 1-32-32 32.213333 32.213333 0 0 1 32-32h78.933334a32.213333 32.213333 0 0 1 32 32 32.213333 32.213333 0 0 1-32 32zM277.333333 760.746667a32.213333 32.213333 0 0 1-32-32 32.213333 32.213333 0 0 1 32-32h276.053334a32 32 0 0 1 0 64zM510.762667 600.32a32.213333 32.213333 0 0 1-32-32 32.213333 32.213333 0 0 1 32-32h235.946666a32.213333 32.213333 0 0 1 32 32 32.213333 32.213333 0 0 1-32 32zM277.333333 600.32a32.213333 32.213333 0 0 1-32-32 32.213333 32.213333 0 0 1 32-32h118.186667a32.213333 32.213333 0 0 1 32 32 32.213333 32.213333 0 0 1-32 32z"></path></svg>',loop:'<svg style="transform: scale(.8);" t="1662029141436" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2497"><path d="M677.944889 589.909333c25.713778-16.952889 41.301333-46.478222 41.301333-78.222222 0-31.772444-15.587556-61.297778-41.301333-78.222222L440.32 276.906667c-58.88-38.741333-135.566222 5.518222-135.566222 78.279111V668.16c0 72.789333 76.686222 116.992 135.566222 78.222222l237.596444-156.472889h0.028445z m-47.132445-78.222222l-237.624888 156.472889V355.128889l237.624888 156.501333v0.028445z" p-id="2498" fill="#ffffff"></path><path d="M486.968889 104.106667c-128-0.227556-248.974222 57.457778-328.078222 156.444444h54.072889c16.469333 0 31.658667 8.647111 39.879111 22.641778 8.248889 14.023111 8.248889 31.288889 0 45.283555-8.248889 14.023111-23.409778 22.641778-39.879111 22.641778H74.865778c-25.400889 0-46.023111-20.252444-46.023111-45.283555v-164.693334c0-25.031111 20.622222-45.283556 46.023111-45.283555 25.429333 0 46.051556 20.252444 46.051555 45.283555v24.746667C216.832 68.266667 348.984889 13.255111 486.968889 13.482667 767.658667 13.511111 995.555556 236.316444 995.555556 511.715556c0 275.342222-227.868444 498.147556-508.586667 498.147555-190.862222 0.199111-365.738667-104.675556-453.006222-271.644444a44.657778 44.657778 0 0 1 1.678222-45.767111 46.250667 46.250667 0 0 1 41.415111-20.906667 46.08 46.08 0 0 1 38.798222 25.315555c71.509333 136.760889 214.812444 222.634667 371.114667 222.435556 230.257778 0 416.512-182.698667 416.512-407.608889 0-224.881778-186.254222-407.580444-416.512-407.580444z" p-id="2499" fill="#ffffff"></path></svg>',progressIndicator:null,loadingIndicator:null,quality:'<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M810.666667 170.666667H213.333333c-47.146667 0-85.333333 38.186667-85.333333 85.333333v512c0 47.146667 38.186667 85.333333 85.333333 85.333333h597.333334c47.146667 0 85.333333-38.186667 85.333333-85.333333V256c0-47.146667-38.186667-85.333333-85.333333-85.333333zM469.333333 640h-64v-85.333333h-85.333333v85.333333h-64V384h64v106.666667h85.333333v-106.666667h64v256z m298.666667-42.666667a42.666667 42.666667 0 0 1-42.666667 42.666667h-32v64h-64v-64H597.333333a42.666667 42.666667 0 0 1-42.666666-42.666667v-170.666666a42.666667 42.666667 0 0 1 42.666666-42.666667h128a42.666667 42.666667 0 0 1 42.666667 42.666667v170.666666z m-149.333333-21.333333h85.333333v-128h-85.333333v128z"></path></svg>'};var M;(e=>{e.setupIcons=(t,n)=>{for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&(Fe[o]=n[o]);return Fe},e.get=t=>Fe[t]})(M||(M={}));const Ue=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function n(o){let l=o.target;l&&(e.$root.contains(l)||e.$root==l)?e.$root.classList.add(le):e.$root.classList.remove(le)}t&&e.$root.classList.add(le),document.addEventListener("click",n),document.addEventListener("contextmenu",n),e.on("destroy",()=>{document.removeEventListener("click",n),document.removeEventListener("contextmenu",n)})},Me=e=>e.$root.classList.contains(le),De=e=>{e.on("play",()=>{e.$root.classList.add(ae)}),e.on(["pause","videosourcechange"],()=>{e.$root.classList.remove(ae)})},We=e=>{const t=()=>e.$root.classList.add(Y),n=()=>e.$root.classList.remove(Y);e.$video.preload!="none"&&t(),e.on("loadstart",()=>{e.$video.preload=="none"&&n()}),i.tq?pt(e):(e.on(["waiting","seeking","videosourcechange","videoqualitychange"],t),e.on(["loadedmetadata","canplay","pause","seeked","error"],n))},pt=e=>{let t=0,n=0,o=!1,l=!1;const g=()=>e.$root.classList.add(Y),w=()=>e.$root.classList.remove(Y);e.on("seeking",()=>{e.isPlaying||(g(),e.on("seeked",w,{once:!0}))}),e.on("play",()=>l=!0),e.on("pause",()=>(l=!1,w())),e.on("loadedmetadata",w),e.on(["videosourcechange","videoqualitychange"],()=>{g(),l=!1,t=n=0});const f=setInterval(()=>{l&&(n=e.currentTime,!o&&n===t&&e.isPlaying&&(g(),o=!0),o&&n>t&&e.isPlaying&&(w(),o=!1),t=n)},100);e.on("destroy",()=>{clearInterval(f)})},Xe=e=>e.$root.classList.contains(Y),vt=(e,t)=>{e.on("fullscreenchange",()=>{t.classList.toggle(H)})},mt=(e,t,n)=>{De(e),We(e),vt(e,n),i.tq||Ue(e,t.autoFocus)};function Re(e){return e<10?"0"+e:""+e}function ce(e){if(!isFinite(e))return"--:--";const t=Math.floor(e/3600),n=Math.floor(e%3600/60),o=Math.floor(e%3600%60);return(t>0?Re(t)+":":"")+Re(n)+":"+Re(o)}function bt(e,t){const n=document.createElement("a");n.href=e,n.download=t,n.click()}const xt=e=>{var t;try{const n=document.createElement("canvas"),o=e.videoWidth,l=e.videoHeight;return n.width=o,n.height=l,(t=n.getContext("2d"))==null||t.drawImage(e,0,0,o,l),n.toDataURL("image/png")}catch(n){return n}},Ke=e=>{if(Xe(e)||isNaN(e.duration)){e.emit("notice",{text:e.locales.get("Please wait for loading to complete")});return}const t=xt(e.$video);if(t instanceof Error)e.emit("notice",{text:t.message});else{const n=e.options.source.title||"OPlayer-ScreenShot";bt(t,n+"-"+ce(e.currentTime).replace(/:/g,"-")+".png")}},Ye=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1500,n=null;const o=()=>n&&clearTimeout(n);return{callee:()=>{o(),n=setTimeout(()=>{e()},t)},clear:o}},Ge=(e,t)=>{var n=[],o=e.parentNode.children;for(let l=0,g=o.length;l<g;l++)o[l]!==e&&(t==null||t(o[l]),n.push(o[l]));return n};function Qe(e,t){return e.classList.add(t),e}function Ie(e,t){return e.classList.remove(t),e}function $t(e,t){return e.classList.toggle(t)}function Te(e,t){return e.classList.contains(t)}const he={dragStart:i.tq?"touchstart":"mousedown",dragMove:i.tq?"touchmove":"mousemove",dragEnd:i.tq?"touchend":"mouseup"},Ze=10,Je=5,Ee={ArrowUp:e=>{const t=e.volume*100+Ze;e.setVolume(t/100),e.emit("notice",{text:e.locales.get("Volume: %s",~~(e.volume*100)+"%")})},ArrowDown:e=>{const t=e.volume*100-Ze;e.setVolume(t/100),e.emit("notice",{text:e.locales.get("Volume: %s",~~(e.volume*100)+"%")})},ArrowLeft:e=>{e.options.isLive||(e.seek(e.currentTime-Je),e.emit("notice",{text:ce(e.currentTime)+" / "+ce(e.duration)}))},ArrowRight:e=>{e.options.isLive||(e.seek(e.currentTime+Je),e.emit("notice",{text:ce(e.currentTime)+" / "+ce(e.duration)}))}," ":e=>e.togglePlay(),Escape:e=>{if(e.isFullScreen){e.exitFullscreen();return}e.$root.classList.contains(G)&&e.emit("fullscreenchange",{isWeb:!0})},f:e=>e.toggleFullScreen(),"s+s":Ke};function wt(e){let t;function n(o){var l;if(((l=document.activeElement)==null?void 0:l.getAttribute("contenteditable"))||!Me(e))return;const g=o.key;Ee[g]&&(o.preventDefault(),Ee[g](e)),t&&t===g&&Ee[t+"+"+g]&&(o.preventDefault(),Ee[t+"+"+g](e)),t=g,setTimeout(()=>{t=void 0},200)}e.on("addhotkey",o=>{let l=o.payload;for(const g in l)Object.prototype.hasOwnProperty.call(l,g)&&(Ee[g]=l[g])}),e.on("removehotkey",o=>{o.payload.forEach(g=>{delete Ee[g]})}),document.addEventListener("keydown",n),e.on("destroy",()=>{document.removeEventListener("keydown",n)})}const Ve="speed";function ze(e,t,n){t!=null&&t.length&&(n.register({key:Ve,type:"selector",name:e.locales.get("Speed"),icon:M.get("playbackRate"),children:t.map(o=>({name:+o==1?"Normal":o+"x",value:+o,default:e.playbackRate==+o})),onChange:o=>{let l=o.value;return e.setPlaybackRate(l)}}),e.on("ratechange",()=>{const o=e.playbackRate,l=t.findIndex(g=>+g==o);n.select(Ve,l),l==-1&&n.updateLabel(Ve,o+"x")}))}const et=i.$.css($e||($e=q([`
  width: 2.65em;
  height: 7.65em;
  padding-bottom: 3px;
  box-sizing: content-box;
`]))),ve=i.$.css(`
  width: 100%;
  text-align: center;
  height: 28px;
  line-height: 28px;
  margin-bottom: 2px;
  font-size: 0.75em;
`),Se=i.$.css(`
  position:relative;
  display: flex;
  justify-content: center;
  height: 4.8em;
  cursor: pointer;
`),r=i.$.css(`
  height: 100%;
  width: 4px;
  position: relative;
`),s=i.$.css(`
  width: 4px;
  height: 100%;
  overflow: hidden;
  border-radius: 2px;
  background: rgba(255, 255, 255, 0.3);
`),a=i.$.css(`
  height: 100%;
  background-color: var(--primary-color);
  transform-origin: 0 100%;
`),u=i.$.css(we||(we=q([`
  position:absolute;
  bottom: 0;
  top: auto;
  left: -4px;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background-color: var(--primary-color);
  vertical-align: middle;
  pointer-events: none;
  `]))),p=(e,t)=>{const n=i.$.create("div."+et,{},"<div class="+ve+`>100</div>

    <div class=`+Se+`>
        <div class=`+r+`>
          <div class=`+s+`>
            <div class=`+a+`></div>
          </div>

          <div class=`+u+`></div>
        <div>
      </div>`),o=n.querySelector("."+Se),l=n.querySelector("."+u),g=n.querySelector("."+a),w=n.querySelector("."+ve),f=$=>{const y=o.getBoundingClientRect(),k=(y.bottom-($.clientY||$.changedTouches[0].clientY))/y.height;return k>=1?1:k<=0?0:k},h=$=>{$.preventDefault(),e.setVolume(d(f($)))},d=$=>(w.innerText=""+~~($*100),g.style.transform="scaleY("+$+")",l.style.bottom="calc("+~~($*100)+"% - 6px)",$);d(e.volume),e.on("volumechange",()=>{d(e.isMuted?0:e.volume)}),o.addEventListener(he.dragStart,$=>{h($),document.addEventListener(he.dragMove,h,{passive:!1}),document.addEventListener(he.dragEnd,()=>{document.removeEventListener(he.dragMove,h)},{once:!0})}),i.$.render(n,t)},v=i.$.css(B||(B=q([`
  padding: `,`;
  font-variant-numeric: tabular-nums;
  font-size: 0.875em;
`])),i.tq?0:"0px 0.5em"),b=i.$.css(`
    position: absolute;
    top: 0;
    right: 50%;
    z-index: 10;
    border-radius: 2px;
    box-sizing: border-box;
    transform: translate(50%, -100%);
    transition: visibility 0s, opacity 0.1s linear;
    font-size: 0.875em;
`),z=i.$.css({position:"relative",display:"flex",["& ."+b]:{visibility:"hidden",opacity:0,"background-color":"var(--shadow-background-color)"}}),A=i.$.css({["&:hover"]:{"padding-top":"0.5em","margin-top":"-0.5em",["& ."+b]:{visibility:"visible",opacity:1}}}),Q=i.$.css({"min-width":"6em",display:"block",height:"2.4em","line-height":"2.4em",cursor:"pointer","text-align":"center","word-break":"keep-all","&:nth-last-child(1)":{"margin-bottom":"0px"},"& *":{"pointer-events":"none"},"&[data-selected=true]":{color:"var(--primary-color)"},"&:hover":{"background-color":"rgba(255, 255, 255, 0.1)"}}),ie=i.$.cls("textIcon"),V=i.$.css({color:"#fff",fill:"#fff",height:"2.5em",display:"flex","box-sizing":"border-box","justify-content":"space-between",padding:i.tq?0:"0px 0px 5px 0px","margin-right":i.tq?"-8px":"0px",["& ."+_+"."+ie]:{width:"auto","min-width":"2em","font-size":"0.875em"},["& ."+_]:{padding:"0 0.5em",width:"1.25em",height:"1.5em","box-sizing":"content-box",["& svg"]:{height:"1.5em",width:"1.5em","pointer-events":"none"}},"> div":{display:"flex","align-items":"center",["&:nth-child(1) ."+_+" "]:{"padding-left":0}}}),W=(e,t,n)=>{const o=[e.locales.get("Play"),e.locales.get("Pause"),e.locales.get("Screenshot"),e.locales.get("Picture in Picture"),e.locales.get(e.isFullscreenEnabled?"Fullscreen":"WebFullscreen")],l=o[0],g=o[1],w=o[2],f=o[3],h=o[4],d=i.$.create("div."+V,{},`<div>
      `+(i.tq?"":`<button
              class="`+_+" "+(e.isPlaying?I:K)+" "+te+`"
              aria-label="`+l+`"
            >
              `+M.get("play")+`
              `+M.get("pause")+`
            </button>`)+`

      <span class=`+v+">"+(e.options.isLive||e.$video.preload=="none"?"00:00":"00:00 / --:--")+`</span>
    </div>

    <!-- right -->
    <div>
      <div class="`+z+" "+A+`">
        <button class="`+_+" "+(e.isMuted?I:K)+`" aria-label="Volume">
            `+M.get("volume")[0]+`
            `+M.get("volume")[1]+`
        </button>
        `+(i.gn?"":"<div class="+b+"></div>")+`
      </div>

      `+(n.screenshot?'<button class="'+_+" "+te+'" aria-label="'+w+`">
              `+M.get("screenshot")+`
            </button>`:"")+`

      `+(n.pictureInPicture&&e.isPipEnabled?`<button
              class="`+_+" "+te+" "+(e.isInPip?I:K)+`"
              aria-label="`+f+`">
                `+M.get("pip")[0]+`
                `+M.get("pip")[1]+`
            </button>`:"")+`

      `+(n.fullscreen?'<button class="'+_+" "+K+" "+te+'" data-tooltip-pos="up-right" aria-label="'+h+`">
                `+M.get("fullscreen")[0]+`
                `+M.get("fullscreen")[1]+`
              </button>`:"")+`
    </div>`),$=d.querySelector("button[aria-label=Volume]");i.gn||p(e,$.nextElementSibling);const y=d.querySelector("button[aria-label="+l+"]"),k=d.querySelector("."+v),x=d.querySelector('button[aria-label="'+h+'"]'),L=d.querySelector('button[aria-label="'+f+'"]'),T=(C,D)=>{C.classList.add(D?I:K),C.classList.remove(D?K:I)};n.fullscreen&&e.on("fullscreenchange",C=>{let D=C.payload;return setTimeout(()=>{D.isWeb?T(x,$t(e.$root,G)):T(x,e.isFullScreen)})}),i.tq||e.on(["play","pause","videosourcechange"],()=>{y.setAttribute("aria-label",e.isPlaying?g:l),T(y,e.isPlaying)}),e.on("volumechange",()=>T($,e.isMuted)),e.on(["durationchange","timeupdate","seeking","seeked"],()=>{k.innerText=ce(e.currentTime)+" "+(e.options.isLive?"":"/ "+ce(e.duration))}),d.addEventListener("click",C=>{switch(C.target.getAttribute("aria-label")){case l:case g:return e.togglePlay();case"Volume":if(i.tq&&!i.gn)return;e.isMuted?e.unmute():e.mute();break;case f:return T(L,!e.isInPip),e.togglePip();case h:e.isFullscreenEnabled?e.toggleFullScreen():e.emit("fullscreenchange",{isWeb:!0});return;case w:Ke(e);break}}),i.$.render(d,t)},re=i.$.css(`
  display: none;
  bottom: 15px;
  position: absolute;
  left: 50%;
  padding: 5px 8px;
  background-color: var(--shadow-background-color);
  color: #fff;
  border-radius: 4px;
  white-space: nowrap;
  word-break: nowrap;
  transform: translateX(-50%);`),me=i.$.css({position:"absolute",width:"8px",height:"4px","border-radius":"1px","background-color":"#fff",transform:"translateX(-3px)",transition:"all 0.2s",["&:hover > ."+re]:{display:"block"}});function Wt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const o=document.createDocumentFragment();let l=[],g=!0;function w(d){const $=i.$.create("div."+me,{},'<span class="'+re+'">'+d.text+"</san>");return $.style.left=d.left+"%",$}function f(d,$){for(let y=0;y<d.length;y++){const k=d[y],x=w({left:k.time/$*100,text:k.text});l.push(x),i.$.render(x,o)}i.$.render(o,t)}function h(d){g=!0,l.forEach($=>$.remove()),f(d,e.duration)}return e.on("loadedmetadata",function(){e.duration!==1/0&&e.duration>0&&g&&f(n,e.duration)}),e.on("videosourcechange",()=>{g=!1,l.forEach(d=>d.remove())}),h}const tt=()=>{},yt=i.$.css(`
  position: absolute;
  left: 0;
  bottom: 12px;
  pointer-events: none;
  transform: translateX(-50%);
  background-position-y: center;
  display: none;`);function Xt(e,t,n){if(!n)return{update:tt,hide:tt,init:tt};const o=i.$.render(i.$.create("div."+yt),t);let l=0,g=0,w=n.src,f=!1,h=100/n.number;setTimeout(()=>{const y=(n==null?void 0:n.width)||160,k=(n==null?void 0:n.height)||90;o.style.width=y+"px",o.style.height=k+"px",l=y/2/t.clientWidth,g=(t.clientWidth-y/2)/t.clientWidth});const d=()=>{f||(f=!0,o.style.backgroundImage="url("+w+")")};e.on("videosourcechange",()=>{f=!1});function $(y){f=!1,w=y}return{init:d,update:y=>{o.style.left=(y<l?l:y>g?g:y)*100+"%";const k=~~(y*100/h)*n.number*h;o.style.backgroundPositionX=-k+"%"},change:$}}const nt=()=>{},Et=i.$.css(`
  position: absolute;
  left: 0;
  bottom: 12px;
  pointer-events: none;
  transform: translateX(-50%);
  background-position-y: center;
  display: none;`);function Kt(e,t,n){if(!n)return{update:nt,hide:nt,init:nt};let o=[],l={},g,w=!1,f=n.src;const h=i.$.render(i.$.create("div."+Et),t);h.style.width=((n==null?void 0:n.width)||160)+"px",h.style.height=((n==null?void 0:n.height)||90)+"px";const d=S=>{fetch(S).then(m=>m.text()).then(m=>{o=$(m),w=!0,h.style.opacity="1"})};n.src&&d(n.src),e.on("videosourcechange",()=>{w=!1,h.style.opacity="0",o=[],l={}});const $=S=>{const m=[];return S.split(/[\r\n][\r\n]/i).forEach(O=>{if(O.match(/([0-9]{2}:)?([0-9]{2}:)?[0-9]{2}(.[0-9]{3})?( ?--> ?)([0-9]{2}:)?([0-9]{2}:)?[0-9]{2}(.[0-9]{3})?[\r\n]{1}.*/gi)){const F=O.split(/[\r\n]/i),xe=isFinite(+F[0])?F[1]:F[0],fe=isFinite(+F[0])?F[2]:F[1],N=xe.split(/ ?--> ?/i),pe=N[0],J=N[1],ke=x(fe);m.push({start:y(pe),end:y(J),css:ke})}return m}),m},y=S=>{const m=k(S);return m.hours*(60*60)+m.minutes*60+m.seconds+m.milliseconds/1e3},k=S=>{const m=S.split("."),O=m[0].split(":");return{milliseconds:parseInt(m[1],10)||0,seconds:parseInt(O.pop(),10)||0,minutes:parseInt(O.pop(),10)||0,hours:parseInt(O.pop(),10)||0}},x=S=>{const m={};if(!S.match(/#xywh=/i))return m.background='url("'+L(S)+'")',m;const E=T(S);return m.background='url("'+L(E.image)+'") no-repeat -'+E.x+"px -"+E.y+"px",m.width=E.w+"px",m.height=E.h+"px",m.url=L(E.image),m},L=(()=>{const S={};return m=>{if(S[m])return S[m];if(/(https?:)?\/\//.test(m))return m;let E=f;/(https?:)?\/\//.test(m)&&(E=f.substring(0,f.indexOf("?")||void 0));const O=E.lastIndexOf("/");if(E.startsWith("https://")&&O<8||E.startsWith("http://")&&O<7)return f+m;const F=E.substring(O+1);return S[m]=f.replace(F,m),S[m]}})(),T=S=>{const m=S.split(/#xywh=/i),E=m[0],F=m[1].match(/[0-9]+/gi);return{x:F[0],y:F[1],w:F[2],h:F[3],image:E}},C=S=>{if(!w)return;const m=e.duration,E=S*m,O=D(E);if(!O){h.style.opacity="0";return}const F=t.clientWidth,xe=S*F,fe=parseInt(O.width,10),N=fe>>1,pe=F-(xe+N),J=xe-N;if(h.style.opacity="1",J>0&&pe>0?h.style.transform="translateX("+(xe-N)+"px)":J<=0?h.style.transform="translateX("+0+"px)":pe<=0&&(h.style.transform="translateX("+(F-fe)+"px)"),!(g&&g===O)){g=O;for(const ke in O)O.hasOwnProperty(ke)&&(h.style[ke]=O[ke])}},D=S=>{for(let m=0;m<o.length;++m){const E=o[m];if(S>=E.start&&S<E.end){if(E.css.url&&!l[E.css.url]){const O=new Image;O.src=E.css.url,l[E.css.url]=O}return E.css}}};return{init:()=>{},update:C,change:d}}const st=i.$.css({"background-color":"hsla(0, 0%, 100%, 0.4)"}),ot=i.$.css({"background-color":"var(--primary-color)"}),Be=i.$.css({width:"100%","pointer-events":"none",position:"relative","z-index":1,"& > *":{content:"''",display:"block",position:"absolute",width:"1.4em",height:"1.4em",top:"calc(-0.7em + 2px)",left:"-0.7em",bottom:"0",transform:"scale(0)",transition:"transform 0.3s ease","z-index":"1"},"& > *:not(svg)":{width:"1em",height:"1em",top:"calc(-0.5em + 2px)",left:"-0.5em","border-radius":"50%","background-color":"#fff"}}),it=i.$.css({position:"absolute",left:"0","border-radius":"4px",padding:"5px 8px","background-color":"var(--shadow-background-color)",color:"#fff","word-wrap":"nowrap","word-break":"nowrap","z-index":"2","pointer-events":"none",transform:"translateX(-50%)",display:"none","white-space":"pre",bottom:"15px"}),be=i.$.css("/* progressDragging */"),Yt=i.$.css({position:"relative","box-sizing":"border-box",padding:"5px 0",cursor:"pointer",width:"100%","font-size":"0.75em",["&."+be+" ."+Be+" > * "+(i.tq?"":",&:hover ."+Be+" > *")]:{transform:"scale(1)"},["&."+be+" ."+it+", &."+be+" ."+yt+", &."+be+" ."+Et]:{display:"block"}}),Gt=i.$.css({position:"relative",height:"4px",width:"100%","background-color":"hsla(0, 0%, 100%, 0.2)","border-radius":"2px",["& ."+st+", & ."+ot]:{position:"absolute",left:"0",top:"0",bottom:"0","will-change":"width","pointer-events":"none","border-radius":"2px"}}),Qt=(e,t,n)=>{var o;if(e.options.isLive)return{};const l=i.$.create("div."+Yt,{},"<div class="+Gt+`>
      <div class="`+it+`">00:00</div>
      <div class="`+st+`" style="width:0%"></div>
      <div class="`+ot+`" style="width:0%"></div>
      <div class="`+Be+`" style="transform: translateX(0%);">
        `+(M.get("progressIndicator")||"<span />")+`
      </div>
  </div>`),g=l.firstElementChild,w=(o=n.thumbnails)!=null&&o.isVTT?Kt(e,g,n.thumbnails):Xt(e,g,n.thumbnails),f=w.init,h=w.update,d=w.change,$=Wt(e,g,n.highlight),y=l.querySelector("."+st),k=l.querySelector("."+ot),x=l.querySelector("."+Be),L=l.querySelector("."+it);let T=!1;const C=S=>{const m=l.getBoundingClientRect(),E=((S.clientX||S.changedTouches[0].clientX)-m.left)/m.width;return E>=1?1:E<=0?0:E},D=S=>{const m=C(S),E=m*100;return k.style.width=E+"%",x.style.transform="translateX("+E+"%)",L.innerText=ce(e.duration*m),L.style.left=E+"%",m};return l.addEventListener(he.dragStart,S=>{T=!0,l.classList.add(be),f(),h(D(S));function m(E){E.preventDefault(),h(D(E))}document.addEventListener(he.dragMove,m,{passive:!1}),document.addEventListener(he.dragEnd,E=>{l.classList.remove(be),T=!1,document.removeEventListener(he.dragMove,m),e.seek(C(E)*e.duration)},{once:!0})}),i.tq||(l.addEventListener("mouseenter",()=>{T||f()}),l.addEventListener("mousemove",S=>{if(T)return;l.classList.add(be),S.target.classList.contains(me)?L.style.display="none":L.removeAttribute("style");const m=C(S);L.innerText=ce(e.duration*m),L.style.left=m*100+"%",h(m)},{passive:!1}),l.addEventListener("mouseleave",()=>{T||l.classList.remove(be)})),e.on(["timeupdate","seeking"],()=>{if(T)return;const S=e.currentTime,m=e.duration,E=S/m*100||0;k.style.width=E+"%",x.style.transform="translateX("+E+"%)"}),e.on("progress",()=>{const S=e.buffered.length?e.buffered.end(e.buffered.length-1)/e.duration*100:0;y.style.width=S+"%"}),e.on("videosourcechange",()=>{y.style.width="0%",k.style.width="0%",x.style.transform="translateX(0%)"}),i.$.render(l,t),{highlight:$,thumbnails:d}},St=i.$.css({position:"absolute",left:0,right:0,bottom:0,"z-index":97,padding:"0 1em",transition:"transform 0.3s ease, padding 0.3s ease","background-image":"linear-gradient(transparent, rgba(0, 0, 0, .3))"}),Zt=1500,Jt=(e,t,n)=>{const o=i.$.render(i.$.create("div."+St),t),l=Qt(e,o,n);W(e,o,n),i.$.css({["@global ."+P]:{cursor:"none",["& ."+St]:n.miniProgressBar?{transform:"translateY(calc(100% - 7px))",padding:0,"pointer-events":"none"}:{transform:"translateY(100%)"}}});const g=()=>{!e.isPlaying&&!i.tq||Te(e.$root,P)||Te(e.$root,U)||Qe(e.$root,P)},w=Ye(g,Zt),f=w.callee,h=w.clear,d=()=>{Te(e.$root,P)&&(h(),Ie(e.$root,P))};return e.on("play",f),e.on(["pause","videosourcechange"],d),i.tq||(e.$root.addEventListener("mousemove",()=>{d(),f()}),e.$root.addEventListener("mouseleave",g)),{exp:l,toggle(){Te(e.$root,P)?d():g()}}},rt={opacity:0,"pointer-events":"none"},en=i.$.css(Object.assign({transition:"opacity 100ms linear","& > button":{position:"absolute",right:"2em",bottom:"3.75em",fill:"#fff",width:"3.5em","z-index":"97","& > svg":Object.assign({filter:"drop-shadow(4px 4px 6px rgba(0, 0, 0, 0.3))"},i.tq&&{"&:nth-child(1)":{display:"block"},"&:nth-child(2)":{display:"none"},["@global ."+ae+" &"]:{"&:nth-child(1)":{display:"none"},"&:nth-child(2)":{display:"block"}}})},"@media only screen and (max-width: 991px)":{"& > button":{top:"0",bottom:"0",left:"0",right:"0",margin:"auto",width:"2.5em",height:"2.5em"}}},i.tq?{["@global ."+P+" &"]:rt}:{["@global ."+Y+" &"]:rt,["@global ."+ae+" &"]:rt})),kt=(e,t)=>{const n=!e.isNativeUI&&i.tq,o=i.$.create("div."+en,{},'<button aria-label="Play" class="'+_+`" type="button">
      `+M.get("play")+`
      `+(n?M.get("pause"):"")+`
    </button>`);e.isNativeUI?(o.style.display="block",o.addEventListener("click",()=>(e.play(),o.remove()),{once:!0})):o.addEventListener("click",()=>e.togglePlay()),i.$.render(o,t)},tn=i.$.css(`
  display: none;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  color: #fff;
  background: #000;
  z-index: 99;
  align-items: center;
  padding: 0 10px;
  -moz-user-select: text;
  -webkit-user-select: text;
  -ms-user-select: text;
  user-select: text;
  word-break: break-all;
  justify-content: center;
`),Lt=i.$.css("display: flex;"),nn={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"},sn=(e,t,n)=>{if(n.errorBuilder){e.on("error",w=>{let f=w.payload;n.errorBuilder(f)});return}const o=i.$.render(i.$.create("div."+tn,{"aria-label":"Error Overlay"}),t);function l(w){var f;let h="";if(w instanceof Event){const d=(f=w.target)==null?void 0:f.error;if(!d||!d.message&&typeof d.code!="number")return;h=d.message||nn[d.code]}else h=w.message;o.innerText=h||"UNKNOWN_ERROR",Qe(o,Lt)}function g(){Ie(o,Lt),o.innerText=""}return e.on("videosourcechange",g),e.on("error",w=>{let f=w.payload;return l(f)}),l},on=i.$.css({position:"absolute",top:"0",bottom:"0",left:"0",right:"0",display:"none","align-items":"center","justify-content":"center",["@global ."+Y+" &"]:{display:"flex"}}),rn=i.$.css({position:"relative",overflow:"hidden",width:"20%",height:"4px","border-radius":"4px","&::before,&::after":{display:"block",content:"''",position:"absolute",height:"100%",width:"100%","background-color":"var(--primary-color)","border-radius":"4px"},"&::before":{opacity:"0.4"},"&::after":{animation:"indeterminate 1.3s infinite linear","transform-origin":"0% 50%"},"@keyframes indeterminate":{"0%":{transform:"translateX(0) scaleX(0)"},"10%":{transform:"translateX(0) scaleX(0.2)"},"40%":{transform:"translateX(0) scaleX(0.7)"},"60%":{transform:"translateX(60%) scaleX(0.4)"},"100%":{transform:"translateX(100%) scaleX(0.2)"}}}),an=(e,t)=>{const n=i.$.create("div."+on,{"aria-label":"Loading"},""+(M.get("loadingIndicator")||'<div class="'+rn+'"></div>'));i.$.render(n,t)},ln=i.$.css({width:"100%",height:"100%",position:"absolute",top:"0",left:"0",right:"0",bottom:"0",["@global ."+U+" &"]:{"z-index":"98"}}),cn=(e,t,n)=>{const o=i.$.create("div."+ln);o.addEventListener("click",()=>{Te(e.$root,U)||(i.tq?n():e.togglePlay())}),i.$.render(o,t)},_t=e=>{const t=e.getAttribute("data-selected")=="true";e.setAttribute("data-selected",""+!t),Ge(e,n=>n.setAttribute("data-selected",""+t))},un=(e,t,n)=>{const o=[],l=t.querySelector("."+V).children[1];n&&n.forEach(h=>g(h)),l.addEventListener("click",h=>{var d,$;const y=h.target,k=y.getAttribute("aria-label"),x=o.find(L=>L.name==k);!x||y.getAttribute("data-selected")=="true"||(y.tagName.toUpperCase()=="SPAN"?(_t(y),(d=x.onChange)==null||d.call(x,x.children[+y.getAttribute("data-index")],y.parentElement.previousElementSibling)):y.tagName.toUpperCase()=="BUTTON"&&(($=x.onClick)==null||$.call(x,y)))});function g(h){const d=h.name,$=h.icon,y=h.children;let k="";const x=`
    <button
      aria-label="`+d+`"
      class="`+_+" "+($?"":ie)+" "+(h.children?"":te)+`"
      type="button"
    >`+($||d)+"</button>";h.children?k=`
      <div class="`+z+" "+A+'" aria-label="'+d+`">
        `+x+`
        <div class=`+b+`>
          `+y.map((L,T)=>`<span
                  aria-label="`+d+`"
                  class="`+Q+`"
                  data-selected="`+Boolean(L.default)+`"
                  data-index="`+T+`"
                >`+L.name+"</span>").join("")+`
          </div>
      </div>`:k=x,o.push(h),l.insertAdjacentHTML("afterbegin",k)}function w(h){var d,$;(d=l.querySelector("button[aria-label="+h+"]"))==null||d.remove(),($=l.querySelector("div[aria-label="+h+"]"))==null||$.remove()}function f(h,d){_t(l.querySelector("."+b+" > span[aria-label="+h+"]:nth-child("+(d+1)+")"))}return{register:g,unregister:w,select:f}},Pt=i.$.css({position:"absolute",display:"none",top:"1em",left:"1em",right:"1em","z-index":99,"margin-top":"var(--controller-top-height)",["@global ."+P+" &"]:{"margin-top":0}}),Tt=i.$.css(`
  -moz-user-select: all;
  -webkit-user-select: all;
  -ms-user-select: all;
  user-select: all;
  color: #fff;
  background-color: var(--shadow-background-color);
  border-radius: 2px;
  padding: 5px 10px;
  font-size: 0.875em;
`),At=i.$.css(ee||(ee=q([`
  text-align: center;
`]))),Ct=i.$.css(se||(se=q([`
  text-align: right;
`]))),Ot=i.$.css(oe||(oe=q([`
  bottom: 6em;
  top: initial;
`]))),dn={center:i.$.css(X||(X=q([`
  top: 50%;
  text-align: center;
  transform: translateY(-50%);
`]))),left:"","top-left":"",top:At,"top-center":At,"top-right":Ct,right:Ct,bottom:Ot,"left-bottom":Ot},hn=2e3,zt=i.$.css("display:block;"),gn=(e,t)=>{const n=i.$.create("div."+Pt,{"aria-label":"Notice"},'<span class="'+Tt+'"></span>'),o=n.querySelector("."+Tt),l=Ye(()=>Ie(n,zt),hn),g=l.callee;["play","pause","enterFullscreen","exitFullscreen","enterPip","exitPip"].forEach(f=>{const h=e[f].bind(e);Object.defineProperty(e,f,{get:()=>function(){const d=h.apply(void 0,arguments);return d!=null&&d.catch?d.catch($=>(w($.message),$)):d}})});function w(f,h){o.innerHTML=f,n.className=Pt+" "+zt+" "+dn[h||"left"],g()}return e.on("notice",f=>{let h=f.payload;return w(h.text)}),i.$.render(n,t),w},ge=i.$.css("display: block;"),fn=i.$.css({"z-index":"98","max-height":"75%","border-radius":"3px",display:"block",position:"absolute",right:"1em",bottom:"2.5em",overflow:"auto","background-color":"var(--shadow-background-color)",fill:"#fff","&::-webkit-scrollbar":{width:"2px"},"&::-webkit-scrollbar-thumb":{background:"var(--primary-color)"},"& > div":{display:"none","font-size":"0.875em"},["& > div."+ge]:{display:"block"}}),pn=i.$.css("min-width: 15.5em;"),vn=i.$.css("min-width: 10.5em;"),Ft=i.$.css(`
  display: none;
  width: 1.4em;
  height: 1.4em;
`),mn=i.$.css(`
  width: 2em;
  height: 2em;
  margin: 0 -10px 0 -5px;
`),bn=i.$.css(`
  width: 2em;
  height: 2em;
  transform: rotate(180deg);
  margin-left: -10px;
`),Mt=i.$.css({position:"absolute",cursor:"pointer",top:"0",left:"0",right:"0",bottom:"0","background-color":"#ccc",transition:".3s","border-radius":"34px","&:before":{position:"absolute",content:'""',height:"16px",width:"16px",left:"4px",bottom:"3px","background-color":"white",transition:".3s","border-radius":"50%"}}),xn=i.$.css(`
  position: relative;
  width: 40px;
  height: 22px;
`),$n=i.$.css(`
  white-space: nowrap;
  color: rgba(255, 255, 255, 0.7);
  font-size: 0.8em;
`),wn=i.$.css({height:"2.4em",cursor:"pointer",color:"#fff","justify-content":"space-between","align-items":"center",padding:"0 0.75em","line-height":"1",display:"flex",overflow:"hidden","& > *":{"pointer-events":"none"},"&:hover":{"background-color":"rgba(255, 255, 255, 0.1)"},["&[data-selected='true']"]:{["& ."+Ft]:{display:"block"},["&[data-index]"]:{"background-color":"rgba(255, 255, 255, 0.1)"},["& ."+Mt]:{"background-color":"var(--primary-color)","&:before":{transform:"translateX(16px)"}}}}),at=i.$.css({display:"flex","align-items":"center","margin-right":"10px","& > svg":{width:"1.7em",height:"1.7em","margin-right":"0.5em"}}),Dt=i.$.css(`
  display: flex;
  align-items: center;
`),yn=i.$.css({width:"100%",display:"flex","align-items":"center","border-bottom":"1px solid rgb(255 255 255 / 10%)"}),Rt=function(){return'<svg class="'+(arguments.length>0&&arguments[0]!==void 0?arguments[0]:mn)+'"  xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="m 12.59,20.34 4.58,-4.59 -4.58,-4.59 1.41,-1.41 6,6 -6,6 z" fill="#fff"></path></svg>'},En=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return'<div class="'+at+`">
      `+t+`
      <span>`+e+`</span>
    </div>
    <svg class=`+Ft+` xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 24 24">
      <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" fill="#fff"></path>
    </svg>
`},Sn=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return'<div class="'+at+`">
      `+t+`
      <span>`+e+`</span>
    </div>
    <div class=`+Dt+`>
      <span role="label" class=`+$n+`></span>
      `+Rt()+`
    </div>
`},kn=e=>'<div class="'+yn+`">
      `+Rt(bn)+`
      <span>`+e+`</span>
    </div>
`,Ln=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return'<div class="'+at+`">
    `+t+`
    <span>`+e+`</span>
  </div>
  <div class=`+Dt+`>
    <label class=`+xn+`>
      <span class=`+Mt+`></span>
    </label>
  </div>
`};function It(e){let t=e.type,n=e.key,o=e.name,l=e.icon,g=e.default,w=e.index,f=i.$.create("div."+wn,{"data-key":n});const h={$row:f,$label:void 0};switch(t){case"switcher":f.innerHTML=Ln(o,l),f.setAttribute("data-selected",g||!1);break;case"selector":f.innerHTML=Sn(o,l),h.$label=f.querySelector('span[role="label"]');break;case"back":f.innerHTML=kn(o);break;default:f.innerHTML=En(o,l),f.setAttribute("data-selected",g||!1),typeof w=="number"&&f.setAttribute("data-index",w.toString());break}return h}function Vt(e,t,n){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!n||n.length==0)return;const l=o.key,g=o.target,w=o.parent,f=o.isSelectorOptionsPanel,h=o.name;let d={},$=l||"root";t[0]&&$=="root"?(d=t[0],$=t[0].key):(d.$ref=i.$.create("div."+(t[0]&&f?vn:pn),{"data-key":$}),d.key=$,t.push(d)),d.parent=w;const y=d.key=="root";if(!y){const k=It({name:h,type:"back"}),x=k.$row;x.addEventListener("click",()=>{var L;d.$ref.classList.remove(ge),(L=d.parent)==null||L.$ref.classList.add(ge)}),i.$.render(x,d.$ref)}for(let k=0;k<n.length;k++){const x=n[k],L=x.name,T=x.type,C=x.key,D=x.children,S=x.icon,m=x.default,E=x.onChange,O=It(Object.assign({name:L,type:T,key:C,icon:S,default:m},!y&&f&&{index:k})),F=O.$row,xe=O.$label;if(i.$.render(F,d.$ref),i.$.render(d.$ref,g),D){const fe=T=="selector"&&D.every(pe=>!Boolean(pe.type)),N=Vt(e,t,D,{key:C,target:g,parent:d,isSelectorOptionsPanel:fe,name:T=="selector"?L:void 0});if(F.addEventListener("click",()=>{d.$ref.classList.remove(ge),N.$ref.classList.add(ge)}),fe){const pe=D.find(J=>J.default);pe&&(xe.innerText=pe.name),N.select=(J,ke)=>{var jt;if(J==-1){(jt=N.$ref.querySelector("[data-selected=true]"))==null||jt.setAttribute("data-selected","false");return}const ct=N.$ref.children[J+1];if(ct.getAttribute("data-selected")!="true"){ct.setAttribute("data-selected","true"),Ge(ct,Nt=>{Nt.hasAttribute("data-selected")&&Nt.setAttribute("data-selected","false")});const Ht=D[J];xe.innerText=Ht.name,ke&&(E==null||E(Ht,{index:J}))}},N.$ref.addEventListener("click",J=>{N.select(+J.target.getAttribute("data-index"),!0),d.$ref.classList.add(ge),N.$ref.classList.remove(ge)})}}else T=="switcher"&&(F.select=function(){let fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const N=this.getAttribute("data-selected")=="true";this.setAttribute("data-selected",""+!N),fe&&(E==null||E(!N))},F.addEventListener("click",()=>F.select()))}return d}function _n(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const o=i.$.create("div."+fn,{"aria-label":"Setting"});let l=[],g=!1;const w={loop:{name:e.locales.get("Loop"),type:"switcher",key:"loop",icon:M.get("loop"),default:e.isLoop,onChange:x=>e.setLoop(x)}};y(n.map(x=>typeof x=="string"?w[x]:x));function f(x){y(Array.isArray(x)?x:[x])}function h(x){var L,T;!g||((T=(L=l[0])==null?void 0:L.$ref.querySelector("[data-key="+x+"]"))==null||T.remove(),l=l.filter(C=>C.key===x?(C.$ref.remove(),C=null,!1):!0))}function d(x,L){if(!g)return;const T=o.querySelector('[data-key="'+x+'"] span[role="label"]');T&&(T.innerText=L)}function $(x,L){var T;let C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!!g)if(typeof L=="number")for(let D=0;D<l.length;D++){const S=l[D];if(S.key==x){S.select(L,C);break}}else(T=o.querySelector('[data-key="'+x+'"][data-selected]'))==null||T.select(C)}function y(x){x.length<1||(g||(g=!0,i.$.render(o,t),k()),Vt(e,l,x,{target:o}))}function k(){const x=i.$.create("button",{class:_+" "+te,"aria-label":e.locales.get("Setting")},""+M.get("setting"));x.addEventListener("click",T=>{T.stopPropagation(),e.$root.classList.add(U),l[0].$ref.classList.add(ge);function C(D){o.contains(D.target)||(e.$root.classList.remove(U),l.forEach(S=>S.$ref.classList.remove(ge)),document.removeEventListener("click",C))}setTimeout(()=>{document.addEventListener("click",C)})});const L=t.querySelector("."+V).children[1];L.insertBefore(x,L.children[L.children.length-(e.isPipEnabled?2:1)])}return{register:f,unregister:h,updateLabel:d,select:$}}function Pn(e){return e.replace(/(\d\d:\d\d:\d\d)[,.](\d+)/g,(t,n,o)=>{let l=o.slice(0,3);return o.length===1&&(l=o+"00"),o.length===2&&(l=o+"0"),n+","+l})}function Tn(e){return`WEBVTT \r
\r
`.concat(Pn(e).replace(/\{\\([ibu])\}/g,"</$1>").replace(/\{\\([ibu])1\}/g,"<$1>").replace(/\{([ibu])\}/g,"<$1>").replace(/\{\/([ibu])\}/g,"</$1>").replace(/(\d\d:\d\d:\d\d),(\d\d\d)/g,"$1.$2").replace(/{[\s\S]*?}/g,"").concat(`\r
\r
`))}function lt(e){return URL.createObjectURL(new Blob([e],{type:"text/vtt"}))}function Bt(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split(/[:.]/).map((t,n,o)=>{if(n===o.length-1){if(t.length===1)return"."+t+"00";if(t.length===2)return"."+t+"0"}else if(t.length===1)return(n===0?"0":":0")+t;return n===0?t:n===o.length-1?"."+t:":"+t}).join("")}function An(e){const t=new RegExp("Dialogue:\\s\\d,(\\d+:\\d\\d:\\d\\d.\\d\\d),(\\d+:\\d\\d:\\d\\d.\\d\\d),([^,]*),([^,]*),(?:[^,]*,){4}([\\s\\S]*)$","i");return`WEBVTT

`+e.split(/\r?\n/).map(n=>{const o=n.match(t);return o?{start:Bt(o[1].trim()),end:Bt(o[2].trim()),text:o[5].replace(/{[\s\S]*?}/g,"").replace(/(\\N)/g,`
`).trim().split(/\r?\n/).map(l=>l.trim()).join(`
`)}:null}).filter(n=>n).map((n,o)=>n?o+1+`
`+n.start+" --> "+n.end+`
`+n.text:"").filter(n=>n.trim()).join(`

`)}const qt="Subtitle";function Cn(e,t,n,o){return new On(e,t,n,o)}class On{constructor(t,n,o,l){if(ne(this,"options"),ne(this,"$track"),ne(this,"$iosTrack"),ne(this,"$dom"),ne(this,"isShow",!1),ne(this,"currentSubtitle"),ne(this,"update",g=>{var w,f;const h=this.$dom,$=(w=this.player.$video.textTracks[0])==null?void 0:w.activeCues;if($!=null&&$.length){let y="";for(let k=0;k<$.length;k++){const x=$[k];x&&(y+=(f=x.text)==null?void 0:f.split(/\r?\n/).map(L=>"<p>"+L+"</p>").join(""))}h.innerHTML=y}else h.innerHTML=""}),this.player=t,this.setting=n,this.el=o,!window.TextDecoder){t.emit("notice",{text:t.locales.get("TextDecoder not supported")});return}this.setting=n,this.options=l||{source:[]},this.processDefault(),this.createContainer(),this.initEvents(),this.load(),this.loadSetting()}processDefault(){this.currentSubtitle=zn(this.options.source)}createContainer(){const t=this.el,n=this.options,o=n.color,l=n.shadow,g=n.fontSize,w=n.bottom,f=n.fontFamily;this.$dom=i.$.create("div."+i.$.css({left:"2%",right:"2%","text-align":"center","pointer-events":"none",position:"absolute","line-height":"1.2","font-family":f||"inherit",color:o||"#fff","text-shadow":l||"1px 0 1px #000, 0 1px 1px #000, -1px 0 1px #000, 0 -1px 1px #000, 1px 1px 1px #000, -1px -1px 1px #000, 1px -1px 1px #000, -1px 1px 1px #000",bottom:""+(w||"5%"),"font-size":(g||(i.tq?14:16))/16+"em","& > p":{margin:0}}),{"aria-label":"Subtitle"}),i.$.render(this.$dom,t)}createTrack(){this.$track=i.$.render(i.$.create("track",{default:!0,kind:"metadata"}),this.player.$video),i.gn&&(this.$iosTrack=i.$.render(i.$.create("track",{default:!1,kind:"captions"}),this.player.$video),this.player.$video.textTracks[1].mode="hidden",this.player.on("fullscreenchange",t=>{t.payload.isWeb||(this.player.isFullScreen?this.isShow&&(this.player.$video.textTracks[1].mode="showing"):this.player.$video.textTracks[1].mode="hidden")}))}initEvents(){this.player.on(["destroy","videosourcechange"],this.destroy.bind(this))}updateSource(t){this.destroy(),this.options.source=t,this.processDefault(),this.loadSetting(),this.load()}load(){!this.currentSubtitle||(this.$track||this.createTrack(),this.loadSubtitle().then(()=>this.show()).catch(t=>{this.player.emit("notice",{text:t.message})}))}destroy(){const t=this.$dom,n=this.$track,o=this.$iosTrack;n==null||n.removeEventListener("cuechange",this.update),t.innerHTML="",this.setting.unregister(qt),n!=null&&n.src&&URL.revokeObjectURL(n.src),o!=null&&o.src&&URL.revokeObjectURL(o.src),n==null||n.remove(),o==null||o.remove(),this.$track=void 0,this.$iosTrack=void 0}show(){this.isShow=!0,this.$track.addEventListener("cuechange",this.update)}hide(){const t=this.$track,n=this.$dom;this.isShow=!1,n.innerHTML="",t.removeEventListener("cuechange",this.update)}loadSubtitle(){const t=this.currentSubtitle,n=this.player,o=this.$track,l=this.$iosTrack,g=t.src,w=t.encoding,f=t.type;return fetch(g).then(h=>h.arrayBuffer()).then(h=>{const $=new TextDecoder(w).decode(h);switch(f==null||f=="auto"?new URL(g).pathname.split(".")[1]:f){case"srt":return lt(Tn($));case"ass":return lt(An($));case"vtt":return lt($);default:return g}}).then(h=>{o!=null&&o.src&&URL.revokeObjectURL(o.src),o.src=h,l&&(l.src&&URL.revokeObjectURL(l.src),l.src=h)}).catch(h=>{n.emit("notice",{text:"Subtitle"+h.message})})}loadSetting(){const t=this.options.source;t.length&&this.setting.register({name:this.player.locales.get("Subtitle"),type:"selector",icon:M.get("subtitle"),key:qt,onChange:n=>{let o=n.value;o?(this.currentSubtitle=o,this.load()):this.hide()},children:[{name:this.player.locales.get("OFF"),default:!this.currentSubtitle}].concat(t==null?void 0:t.map(n=>{var o;return{name:n.name,default:((o=this.currentSubtitle)==null?void 0:o.src)==n.src,value:n}}))})}}function zn(e){return e.find(t=>t.default)}const Fn=(e,t)=>{if(e.isNativeUI){kt(e,e.$root);return}const n=M.setupIcons(e,t.icons),o=i.$.create("div."+de(t));mt(e,t,o);const l=sn(e,o,t),g=gn(e,o);an(e,o),kt(e,o);const w=Jt(e,o,t),f=w.exp,h=w.toggle;cn(e,o,h);const d=_n(e,o,t.settings),$=un(e,o,t.menu);ze(e,t.speed,d);const y=Cn(e,d,o,t.subtitle);return i.$.render(o,e.$root),i.tq||wt(e),Object.assign({icons:n,error:l,notice:g,setting:d,menu:$,subtitle:y},f,{cls:{loading:Y,playing:ae,focused:le,fullscreen:H,webFullScreen:G,settingShown:U,controllerHidden:P,root:o.className}})},Mn={theme:{primaryColor:"#6668ab"},hotkey:!0,speed:["2.0","1.75","1.25","1.0","0.75","0.5"],fullscreen:!0,pictureInPicture:!0,miniProgressBar:!0,settings:["loop"]},Dn=e=>({name:"oplayer-theme-ui",key:"ui",apply:t=>Fn(t,Object.assign(Mn,e))})}}]);
