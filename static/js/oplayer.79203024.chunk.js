"use strict";(self.webpackChunk_web_index=self.webpackChunk_web_index||[]).push([[533],{6228:(dt,qe,me)=>{me.d(qe,{$:()=>J,Ay:()=>et,D9:()=>ne,Fr:()=>We,VD:()=>A,nr:()=>we,un:()=>He});var i=(u,o,l)=>new Promise((p,c)=>{var w=N=>{try{x(l.next(N))}catch(D){c(D)}},$=N=>{try{x(l.throw(N))}catch(D){c(D)}},x=N=>N.done?p(N.value):Promise.resolve(N.value).then(w,$);x((l=l.apply(u,o)).next())}),Oe,oe,Fe,Ie,Le,xe,Se,Z,te;function ie(u){return he(u).toString(36)}function he(u){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=1540483477,p=24,c=o^u.length,w=u.length,$=0;for(;w>=4;){let x=ve(u,$);x=se(x,l),x^=x>>>p,x=se(x,l),c=se(c,l),c^=x,$+=4,w-=4}switch(w){case 3:c^=pe(u,$),c^=u.charCodeAt($+2)<<16,c=se(c,l);break;case 2:c^=pe(u,$),c=se(c,l);break;case 1:c^=u.charCodeAt($),c=se(c,l);break}return c^=c>>>13,c=se(c,l),c^=c>>>15,c>>>0}function ve(u,o){return u.charCodeAt(o++)+(u.charCodeAt(o++)<<8)+(u.charCodeAt(o++)<<16)+(u.charCodeAt(o)<<24)}function pe(u,o){return u.charCodeAt(o++)+(u.charCodeAt(o++)<<8)}function se(u,o){u=u|0,o=o|0;let l=u&65535,p=u>>>16;return l*o+((p*o&65535)<<16)|0}function be(u){return!!(u&&typeof u=="object"&&!Array.isArray(u))}function ne(u){for(var o=arguments.length,l=new Array(o>1?o-1:0),p=1;p<o;p++)l[p-1]=arguments[p];if(!l.length)return u;const c=l.shift();if(be(u)&&be(c))for(const w in c)be(c[w])?(u[w]||Object.assign(u,{[w]:{}}),ne(u[w],c[w])):Object.assign(u,{[w]:c[w]});return ne.apply(void 0,[u].concat(l))}function W(u){if(typeof u!="object"||u===null)return!1;let o=u;for(;Object.getPrototypeOf(o)!==null;)o=Object.getPrototypeOf(o);return Object.getPrototypeOf(u)===o}function _e(u){let o=[":",".","[",">"," "],l=!1,p=u.charAt(0);for(let c=0;c<o.length;c++)if(p===o[c]){l=!0;break}return l||u.indexOf("&")>=0}var C=/[(),]|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g;function d(u){if(u.indexOf(",")===-1)return[u];for(var o=[],l=[],p=0,c;c=C.exec(u);)switch(c[0]){case"(":p++;break;case")":p--;break;case",":if(p)break;o.push(c.index)}for(c=o.length;c--;)l.unshift(u.slice(o[c]+1)),u=u.slice(0,o[c]);return l.unshift(u),l}function f(u,o){let l=d(u);return d(o).map(c=>c.indexOf("&")>=0?c:"&"+c).reduce((c,w)=>c.concat(l.map($=>w.replace(/\&/g,$))),[]).join(",")}function L(u,o){return u?"@media "+u.substring(6)+" and "+o.substring(6):o}function P(u){return u.indexOf("@media")===0}function B(u){return u.indexOf("@keyframes")===0}function U(u){return u.indexOf("@global")===0}function Q(u,o){var l;let p=o.rules,c=o.mediaQuery,w=o.globalSelector,$={};return w&&(u=w),(l=Object.keys(p))==null||l.forEach(x=>{if(U(x)){const le=x;x=x.substring(8);const fe=x.indexOf("&");let ye;fe!=-1?(ye=f(u,x),w=x.substring(0,fe-1).trim()):ye=x,ne($,Q(ye,{mediaQuery:c,rules:p[le],globalSelector:ye}))}else if(_e(x))ne($,Q(f(u,x),{rules:p[x],mediaQuery:c}));else if(P(x))ne($,Q(u,{mediaQuery:L(c,x),rules:p[x]}));else if(c){var N,D,H,ee;(N=$[c])!==null&&N!==void 0||($[c]={}),(ee=(D=$[c])[H=u])!==null&&ee!==void 0||(D[H]={}),$[c][u][x]=p[x]}else if(B(x))$[x]=p[x];else{var G,ge;(ge=$[G=u])!==null&&ge!==void 0||($[G]={}),$[u][x]=p[x]}}),$}function M(u){let o=[];for(const l in u)if(Object.hasOwnProperty.call(u,l)){const p=u[l];be(p)?o.push(l+"{"+M(p)+"}"):o.push(l+":"+p)}return/^\d%/.test(o[0])?o.join(" "):o.join(";")}function X(u){let o=[];for(const l in u)if(Object.hasOwnProperty.call(u,l)){const p=u[l];if(P(l))o.push(l+"{"+X(p)+"}");else if(B(l))o.push(l+"{"+M(p)+"}");else{const c=Object.entries(p).map(w=>{let $=w[0],x=w[1];return $+":"+x}).join(";");o.push(l+"{"+c+"}")}}return o}function re(u,o){return X(Q(o,{rules:u}))}var J;(u=>{u.create=function(c){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";const x=c.indexOf("#")!==-1,N=c.indexOf(".")!==-1,D=x?c.split("#"):N?c.split("."):[c],H=D[0],ee=D[1],G=document.createElement(H);return x&&(G.id=ee),N&&G.classList.add(ee),$&&(G.innerHTML=$),Object.keys(w).forEach(ge=>{const le=w[ge];(H==="video"||H==="audio")&&typeof le=="boolean"?le&&G.setAttribute(ge,""):typeof le!="undefined"&&G.setAttribute(ge,""+le)}),G},u.render=(c,w)=>w.appendChild(c),u.isBrowser=()=>!!(typeof globalThis!="undefined"&&globalThis.document&&globalThis.document.documentElement);function o(c){if(!(0,u.isBrowser)())return null;let w=document.createElement("style");w.setAttribute("data-"+c,""),w.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(w);for(let $=0;$<document.styleSheets.length;$++)if(document.styleSheets[$].ownerNode===w)return document.styleSheets.item($);return null}u.createSheet=o;const l=(()=>{const c=Object.create({});return w=>{const $=typeof w=="object"?JSON.stringify(w):w;return c[$]||(c[$]="css-"+ie($)),c[$]}})();u.createCss=c=>{let w=c.sheet,$=c.ssrData;return function(){for(var x,N=arguments.length,D=new Array(N),H=0;H<N;H++)D[H]=arguments[H];const ee=!!(D[0]&&D[0].length&&D[0].raw);let G="";if(ee){let fe=D[0];G+=fe[0];for(let ye=1;ye<D.length;ye++)G+=typeof D[ye]!="string"?"":D[ye],G+=fe[ye]}else typeof D[0]=="string"?G=D[0]:G=JSON.stringify(D[0]);const ge=l(G);if(w){for(let fe=0;fe<w.cssRules.length;fe++)if(((x=w.cssRules[fe])==null?void 0:x.selectorText)=="."+ge)return ge}let le=["."+ge+"{"+G+"}"];return!ee&&typeof D[0]=="object"&&(le=re(D[0],"."+ge)),w?le.forEach(fe=>{w.insertRule(fe,w.cssRules.length)}):$=$.concat(le),ge}},u.createStyled=()=>{const c=[],w=o("oplayer");return{css:(0,u.createCss)({sheet:w,ssrData:c}),getCssValue:()=>c}};var p=(0,u.createStyled)();u.css=p.css,u.getCssValue=p.getCssValue,u.cls=c=>"css-"+ie(c)})(J||(J={}));const ae=J,ze=/(iPad)/gi.test((Oe=globalThis.navigator)==null?void 0:Oe.userAgent)||/Macintosh/i.test((oe=globalThis.navigator)==null?void 0:oe.userAgent)&&!!((Fe=globalThis.navigator)!=null&&Fe.maxTouchPoints)&&((Ie=globalThis.navigator)==null?void 0:Ie.maxTouchPoints)>=1,Ue=/iPhone/gi.test((Le=globalThis.navigator)==null?void 0:Le.userAgent),we=/^((?!chrome|android).)*safari/i.test((xe=globalThis.navigator)==null?void 0:xe.userAgent),He=Ue||ze,We=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test((Se=globalThis.navigator)==null?void 0:Se.userAgent)||He,Me=/mqqbrowser/i.test((Z=globalThis.navigator)==null?void 0:Z.userAgent)&&!/ qq/i.test((te=globalThis.navigator)==null?void 0:te.userAgent),V=(u,o,l)=>{var p;const c=document.createElement("script");c.src=u,c.onload=o,c.onerror=l;const w=document.getElementsByTagName("script")[0];(p=w==null?void 0:w.parentNode)==null||p.insertBefore(c,w)},T={},z=u=>typeof u=="undefined",A=function(u,o,l){let p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:()=>!0,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:V;const w=x=>{if(!z(window[x]))return window[x];if(window.exports&&window.exports[x])return window.exports[x];if(window.module&&window.module.exports&&window.module.exports[x])return window.module.exports[x]},$=w(o);return $&&p($)?Promise.resolve($):new Promise((x,N)=>{if(!z(T[u])){T[u].push({resolve:x,reject:N});return}T[u]=[{resolve:x,reject:N}];const D=H=>{var ee;(ee=T[u])==null||ee.forEach(G=>G.resolve(H))};if(!z(l)){const H=window[l];window[l]=function(){z(H)||H.apply(void 0,arguments),D(w(o))}}c(u,()=>{z(l)&&D(w(o))},H=>{var ee;(ee=T[u])==null||ee.forEach(G=>{G.reject(H)}),delete T[u]})})},ke=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","encrypted","waitingforkey","enterpictureinpicture","leavepictureinpicture"],Te=["contextmenu"],Re=["loadedplugin","videoqualitychange","videosourcechange","destroy"],Be=[].concat(ke,Te,Re);class je{constructor(){this.events=Object.create(null)}on(o,l){this.events[o]||(this.events[o]=[]),this.events[o].push(l)}onAny(o,l){o.forEach(p=>this.on(p,l))}once(o,l){const p=c=>{l({type:o,payload:c.payload})};p.raw=l,this.on(o,p)}off(o,l){if(this.events[o])for(let p=0;p<this.events[o].length;p++){const c=this.events[o][p];(c==l||l==c.raw)&&this.events[o].splice(p,1)}}offAny(o){this.events[o]=[]}offAll(){this.events=Object.create(null)}emit(o,l){var p,c;const w=[];(p=this.events[o])==null||p.forEach($=>{$({type:o,payload:l}),$.raw&&w.push($)}),(c=this.events["*"])==null||c.forEach($=>{$({type:o,payload:l}),$.raw&&w.push($)}),w.forEach($=>{this.off(o,$)})}}const Ze={Play:"\u64AD\u653E",Pause:"\u6682\u505C",Loop:"\u5FAA\u73AF\u64AD\u653E",Volume:"\u97F3\u91CF","Volume: %s":"\u97F3\u91CF\uFF1A%s",Mute:"\u9759\u97F3",Speed:"\u64AD\u653E\u901F\u5EA6",LIVE:"\u76F4\u64AD",Language:"\u8BED\u8A00",Screenshot:"\u622A\u56FE",Subtitle:"\u5B57\u5E55",Quality:"\u753B\u8D28",Fullscreen:"\u5168\u5C4F","TextDecoder Not Supported":"\u4E0D\u652F\u6301\u539F\u751F\u5B57\u5E55",Settings:"\u8BBE\u7F6E","Picture in Picture":"\u753B\u4E2D\u753B",Danmaku:"\u5F39\u5E55",Display:"\u663E\u793A",Opacity:"\u900F\u660E\u5EA6",FontSize:"\u5B57\u4F53\u5927\u5C0F","Display Area":"\u663E\u793A\u533A\u57DF",Off:"\u5173\u95ED",Auto:"\u81EA\u52A8",Default:"\u9ED8\u8BA4",Normal:"\u6B63\u5E38","%ss":"%s\u79D2",Close:"\u5173\u95ED","Can be closed after %ss":"%s\u79D2\u540E\u53EF\u5173\u95ED\u5E7F\u544A"};class ft{constructor(o){this.languages={zh:Ze,"zh-CN":Ze,en:Object.keys(Ze).reduce((l,p)=>(l[p]=p,l),{})},this.lang=o==="auto"?navigator.language:o,this.languages[this.lang]||navigator.languages.some(l=>{if(this.languages[l])return this.lang=l,!0;if(l.indexOf("-")!==-1){const p=l.split("-")[0];if(p&&this.languages[p])return this.lang=p,!0}return!1}),this.languages[this.lang]||(this.lang="zh-CN")}get(o){for(var l=arguments.length,p=new Array(l>1?l-1:0),c=1;c<l;c++)p[c-1]=arguments[c];const w=this.languages[this.lang][o];if(w==null)return o;let $=0;return w.replace(/%s/gi,()=>{var x;return(x=p[$++])!==null&&x!==void 0?x:""})}update(o){ne(this.languages,o)}}const mt={autoplay:!1,muted:!1,loop:!1,volume:1,preload:"metadata",playbackRate:1,playsinline:!0,lang:"auto",source:{},videoAttr:{},isLive:!1,autopause:!0,isNativeUI:()=>Me},at=class Ye{constructor(o,l){if(this.plugins=[],this.context={},this.listeners=Object.create(null),this.hasError=!1,this.isSourceChanging=!1,this.container=typeof o=="string"?document.querySelector(o):o,!this.container)throw new Error((typeof o=="string"?o:"Element")+"does not exist");this.options=Object.assign({},mt,typeof l=="string"?{source:{src:l}}:l),this.locales=new ft(this.options.lang),this.eventEmitter=new je}static make(o,l){return new Ye(o,l)}use(o){return o.forEach(l=>{this.plugins.push(l)}),this}create(){return this.render(),this.initEvent(),this.plugins.forEach(this.applyPlugin.bind(this)),this.options.source.src&&this.load(this.options.source),Ye.players.push(this),this}initEvent(){const o=p=>{this.$video.error&&(this.hasError=!0,this.eventEmitter.emit("error",p))};this.listeners.error=o,this.$video.addEventListener("error",p=>this.listeners.error(p));const l=(p,c)=>{this.eventEmitter.emit(p,c)};[[this.$video,["fullscreenchange","webkitbeginfullscreen","webkitendfullscreen"],["fullscreenerror","webkitfullscreenerror","mozfullscreenerror"]],[this.$root,["fullscreenchange","webkitfullscreenchange"],["fullscreenerror","webkitfullscreenerror","mozfullscreenerror"]]].forEach(p=>{const c=p[0];p.slice(1).forEach($=>{const x=$[0];this.listeners[x]=l,$.forEach(N=>{c.addEventListener(N,D=>{this.listeners[x](x,D)},{passive:!0})})})}),[[this.$video,ke],[this.$root,Te]].forEach(p=>{let c=p[0];p[1].forEach($=>{this.listeners[$]||(this.listeners[$]=l,c.addEventListener($,x=>{var N;(N=this.listeners)==null||N[$]($,x)},{passive:!0}))})})}render(){this.$video=ae.create("video."+ae.css(`
        width: 100%;
        height: 100%;
        display: block;
        position: relative;
      `),Object.assign({autoplay:this.options.autoplay,loop:this.options.loop,playsinline:this.options.playsinline,"webkit-playsinline":this.options.playsinline,"x5-playsinline":this.options.playsinline,preload:this.options.preload,poster:this.options.source.poster},this.options.videoAttr));const o=this.options,l=o.muted,p=o.volume,c=o.playbackRate;l&&this.mute(),this.$video.volume=p,setTimeout(()=>{this.$root&&this.setPlaybackRate(c)}),this.$root=ae.create("div."+ae.css(`
        position: relative;
        width: 100%;
        height: 100%;
        overflow: hidden;
        background-color: #000;
      `)),ae.render(this.$video,this.$root),ae.render(this.$root,this.container)}load(o){return i(this,null,function*(){var l;yield(l=this.loader)==null?void 0:l.destroy(),this.loader=void 0;for(const p of this.plugins)if(p.load){const c=yield p.load(this,o);if(c!=!1&&!this.loader){this.loader=c,this.emit("loaderchange",c);break}}return this.loader||(this.$video.src=o.src),o})}applyPlugin(o){this.plugins.push(o);const l=o.apply(this),p=o.name,c=o.key;l&&(this.context[c||p]=l)}on(o,l){return typeof o=="string"?this.eventEmitter.on(o,l):Array.isArray(o)?this.eventEmitter.onAny(o,l):typeof o=="function"&&this.eventEmitter.on("*",o),this}once(o,l){this.eventEmitter.once(o,l)}off(o,l){this.eventEmitter.off(o,l)}emit(o,l){this.eventEmitter.emit(o,l)}setPoster(o){this.$video.poster=o}play(){if(!(!this.$video.src&&!this.$video.currentSrc||this.isSourceChanging)){if(this.options.autopause)for(let o=0;o<Ye.players.length;o++){const l=Ye.players[o];l!=this&&l.pause()}return this.$video.play()}}pause(){return this.$video.pause()}togglePlay(){return this.isPlaying?this.pause():this.play()}mute(){this.$video.muted=!0}unmute(){this.$video.muted=!1}toggleMute(){this.isMuted?this.unmute():this.mute()}setVolume(o){this.$video.volume=o>1?1:o<0?0:o,this.$video.volume>0&&this.isMuted&&this.unmute()}setPlaybackRate(o){this.$video.playbackRate=o}seek(o){this.$video.currentTime=o}setLoop(o){this.$video.loop=o}enterFullscreen(){return i(this,null,function*(){this.isInPip&&(yield this.exitPip()),this._requestFullscreen?this._requestFullscreen.call(this.$root,{navigationUI:"hide"}):this.$video.webkitEnterFullscreen()})}exitFullscreen(){return this._exitFullscreen.call(document)}get isFullscreenEnabled(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||this.$video.webkitEnterFullscreen}get isFullScreen(){return!!((document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)===this.$root||this.$video.webkitDisplayingFullscreen)}toggleFullScreen(){return this.isFullScreen?this.exitFullscreen():this.enterFullscreen()}get isPipEnabled(){return document.pictureInPictureEnabled}enterPip(){return this.$video.requestPictureInPicture()}exitPip(){return this.isInPip?document.exitPictureInPicture():!1}get isInPip(){return document.pictureInPictureElement==this.$video}togglePip(){return this.isInPip?this.exitPip():this.enterPip()}changeQuality(o){return this._loader(o,{keepPlaying:!0,keepTime:!0,preEvent:"videoqualitychange",event:"videoqualitychanged",brokenEvent:"qualitychangeerror"})}changeSource(o){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return this._loader(o,{keepPlaying:l,preEvent:"videosourcechange",event:"videosourcechanged",brokenEvent:"sourcechangeerror"})}_loader(o,l){return new Promise((p,c)=>{if(this.isSourceChanging)return c(Error("Previous Source is Changing."));this.pause(),this.hasError=!1,this.isSourceChanging=!0,this.emit(l.preEvent,o);const w=this.isPlaying,$=this.currentTime,x=this.volume,N=this.playbackRate,D=l.keepPlaying,H=l.keepTime,ee=this.options.preload=="none",G=ee?"loadstart":"loadedmetadata",ge=D&&w;let le;const fe=Pe=>{this.$root&&(this.off(G,tt),this.emit(l.brokenEvent,le||o),l.event=="videosourcechanged"?this.isSourceChanging=!1:this.load(this.options.source).then(ye).finally(()=>{this.isSourceChanging=!1}),c(Pe))},ye=()=>{x!=this.volume&&this.setVolume(x),N!=this.playbackRate&&this.setPlaybackRate(N),ee&&H&&this.$video.load(),H&&!this.options.isLive&&this.seek($),ge&&!this.isPlaying&&this.$video.play(),Object.assign(this.options.source,le)},tt=()=>{this.$root&&(this.off("error",fe),ye(),this.isSourceChanging=!1,this.emit(l.event,le),p())};return(o instanceof Promise?o:Promise.resolve(o)).then(Pe=>{if(!Pe.src)throw new Error("Empty Source");return le=Pe,this.$video.poster=Pe.poster||"",this.once("error",fe),this.once(G,tt),Pe}).then(Pe=>this.load(Pe)).catch(fe)})}destroy(){Ye.players.splice(Ye.players.indexOf(this),1);const o=this.eventEmitter,l=this.loader,p=this.plugins,c=this.container,w=this.$root,$=this.$video,x=this.isPlaying,N=this.isFullScreen,D=this.isInPip;o.emit("destroy"),o.offAll(),l==null||l.destroy(),p.forEach(H=>{var ee;return!H.load&&((ee=H.destroy)==null?void 0:ee.call(H))}),x&&this.pause(),N&&this.exitFullscreen(),D&&this.exitPip(),$.src&&URL.revokeObjectURL($.src),c.removeChild(w),this.eventEmitter=this.locales=this.options=this.listeners=this.context=this.plugins=this.container=this.$root=this.$video=this.loader=void 0}get isNativeUI(){return this.options.isNativeUI()}get state(){return this.$video.readyState}get isPlaying(){return!this.$video.paused}get isMuted(){return this.$video.muted}get isEnded(){return this.$video.ended}get isLoop(){return this.$video.loop}get isAutoPlay(){return this.$video.autoplay}get duration(){return this.$video.duration}get buffered(){return this.$video.buffered}get currentTime(){return this.$video.currentTime}get volume(){return this.$video.volume}get playbackRate(){return this.$video.playbackRate}get _requestFullscreen(){return HTMLElement.prototype.requestFullscreen||HTMLElement.prototype.webkitRequestFullscreen||HTMLElement.prototype.mozRequestFullScreen||HTMLElement.prototype.msRequestFullscreen}get _exitFullscreen(){return Document.prototype.exitFullscreen||Document.prototype.webkitExitFullscreen||Document.prototype.cancelFullScreen||Document.prototype.mozCancelFullScreen||Document.prototype.msExitFullscreen}static get version(){return"1.2.33"}};at.players=[];let et=at;globalThis.window&&console.log(`%cOPlayer%c v%s
 %c
Oh! Another HTML5 video player.
https://github.com/shiyiya/oplayer
`,"font-size:32px;","font-size:12px;color:#999999;",et.version,"font-size:14px;")},9071:(dt,qe,me)=>{me.d(qe,{CU:()=>se,gv:()=>ie});var i=me(6228),Oe=Object.defineProperty,oe=Object.getOwnPropertySymbols,Fe=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable,Le=(C,d,f)=>d in C?Oe(C,d,{enumerable:!0,configurable:!0,writable:!0,value:f}):C[d]=f,xe=(C,d)=>{for(var f in d||(d={}))Fe.call(d,f)&&Le(C,f,d[f]);if(oe)for(var f of oe(d))Ie.call(d,f)&&Le(C,f,d[f]);return C},Se=(C,d,f)=>new Promise((L,P)=>{var B=M=>{try{Q(f.next(M))}catch(X){P(X)}},U=M=>{try{Q(f.throw(M))}catch(X){P(X)}},Q=M=>M.done?L(M.value):Promise.resolve(M.value).then(B,U);Q((f=f.apply(C,d)).next())});(function(){"use strict";try{if(typeof document<"u"){var C=document.createElement("style");C.appendChild(document.createTextNode('.playlist{position:absolute;top:0;left:100%;height:100%;z-index:9;width:18em;transition:transform .3s;background-color:#1c1c1ce6}@media (max-width: 991px){.playlist{max-width:70%}}.playlist.playlist__active{transform:translate(-100%)}.playlist.playlist__wait .playlist-list{cursor:wait}.playlist.playlist__wait .playlist-list .playlist-list-item{pointer-events:none}.playlist.playlist__active:before{content:"";position:absolute;width:100vw;height:100%;right:0;z-index:-1}.playlist-head{display:flex;justify-content:space-between;background:#000;border-bottom:1px solid #484848;padding:.2em .2em .2em .4em;align-items:center;color:#fff;box-sizing:border-box;height:2.2em}.playlist-head>span{font-size:.8em}.playlist-head .playlist-back{display:flex;align-items:center;cursor:pointer}.playlist-head .playlist-back>svg{width:1.75em;height:1.75em;fill:#fff;pointer-events:none}.playlist-head .playlist-back:hover{background-color:#ffffff4d;border-radius:2px}.playlist-list{overflow:auto;height:100%;padding-bottom:2.2em;box-sizing:border-box;color:#ccc}.playlist-list::-webkit-scrollbar{width:3px}.playlist-list::-webkit-scrollbar-thumb{background:#ccc}.playlist-list-item{position:relative;border-bottom:1px solid #444;padding:8px;display:flex;height:5em;cursor:pointer;box-sizing:border-box;overflow:hidden}.playlist-list-item>*{pointer-events:none}.playlist-list-item:hover,.playlist-list-item.playlist-source__active{color:#fff;background-color:#ffffff1a}.playlist-list-item.playlist-source__progress:before{content:"";top:0;left:-100%;position:absolute;width:100%;height:100%;animation:progress 1s infinite;background:linear-gradient(to right,transparent,rgba(255,255,255,.4),transparent)}@keyframes progress{0%{left:-100%}to{left:100%}}.playlist-list-item-thumb{background-color:#000;border:1px solid #444;float:left;margin-right:10px;height:100%;aspect-ratio:16/9;color:#555;display:flex;justify-content:center;align-items:center;position:relative}.playlist-list-item-img{height:100%;width:100%;object-fit:cover}.playlist-list-item-img__error:after{content:"ERROR";position:absolute;left:0;top:0;width:100%;height:100%;background-color:#000;display:flex;justify-content:center;align-items:center}.playlist-list-item-desc{width:100%;font-size:14px;display:flex;flex-direction:column;justify-content:space-evenly}.playlist-list-item-desc>p{margin:0 0 6px;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;overflow:hidden;-webkit-box-orient:vertical;line-height:1.2}')),document.head.appendChild(C)}}catch(d){console.error("vite-plugin-css-injected-by-js",d)}})();const Z=!!globalThis.chrome,te='<svg viewBox="0 0 1024 1024" style="scale: 0.9;"><path d="M895.66 128H128a85.44 85.44 0 0 0-85.44 85.44v127.84H128v-127.84h767.66v597.12H597.28V896H896a85.44 85.44 0 0 0 85.44-85.44V213.44A85.44 85.44 0 0 0 896 128zM42.56 767.16v127.84h127.82a127.82 127.82 0 0 0-127.82-127.84z m0-170.56V682a213.26 213.26 0 0 1 213.28 213.32v0.68h85.44a298.38 298.38 0 0 0-298-298.72h-0.66z m0-170.54v85.44c212-0.2 384 171.5 384.16 383.5v1h85.44c-0.92-258.92-210.68-468.54-469.6-469.28z"></path></svg>';class ie{constructor(d){this.options=d,this.name="oplayer-plugin-chromecast",this.version="1.0.12-beta.0"}apply(d){if(this.canPlay())return this.player=d,this.registerUI(),this}get cast(){return cast.framework.CastContext.getInstance()}get castSessionMedia(){var d;return(d=this.cast.getCurrentSession())==null?void 0:d.getSessionObj().media[0]}get isCastConnected(){return this.cast.getCastState()===cast.framework.CastState.CONNECTED}get device(){var d;return(d=this.cast.getCurrentSession())==null?void 0:d.getCastDevice()}hasActiveCastSession(d){var f,L;return((L=(f=this.castSessionMedia)==null?void 0:f.media)==null?void 0:L.contentId)===(d==null?void 0:d.src)}canPlay(){return Z&&!i.un}__requestChromeCast(){return Se(this,null,function*(){var d;if(this._player||(this._player=new cast.framework.RemotePlayer,new cast.framework.RemotePlayerController(this._player)),this.hasActiveCastSession(this.player.options.source))return;this.cast.setOptions(xe({receiverApplicationId:window.chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED},this.options));const f=yield chrome.cast.requestSession();if(f)throw new Error(`Chrome Cast Error Code: ${f}`);return(d=this.cast.getCurrentSession())==null?void 0:d.loadMedia(this.__buildRequest())})}__buildRequest(){var d,f;const{source:L,isLive:P}=this.player.options,B=new chrome.cast.media.MediaInfo(L.src,L.type||"video/mp4");B.streamType=P?chrome.cast.media.StreamType.LIVE:chrome.cast.media.StreamType.BUFFERED;const U=new chrome.cast.media.GenericMediaMetadata;L.title&&(U.title=L.title),L.poster&&(U.images=[{url:L.poster,height:null,width:null}]),B.metadata=U;const Q=(f=(d=this.player.context.ui)==null?void 0:d.config.subtitle)==null?void 0:f.source;B.tracks=Q.map((X,re)=>{const J=new chrome.cast.media.Track(re,chrome.cast.media.TrackType.TEXT);return J.name=X.name,J.trackContentId=X.src,J.trackContentType=X.type||"text/vtt",J.language=X.language||X.name,J.subtype=chrome.cast.media.TextTrackType.CAPTIONS,J});const M=new chrome.cast.media.LoadRequest(B);return M.autoplay=this.player.isPlaying,M.currentTime=this.player.currentTime,M}_loadCast(){var d;if(!((d=window.cast)!=null&&d.framework))return new Promise((f,L)=>{window.__onGCastApiAvailable=P=>{P?f():L(Error("CAST_NOT_AVAILABLE"))},(0,i.VD)("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1","cast","__onGCastApiAvailable")})}start(){return Se(this,null,function*(){try{yield this._loadCast();const d=window.cast.framework.CastState;if(this.cast.getCastState()===d.NO_DEVICES_AVAILABLE)throw new Error(`Chrome Cast Error Code: ${d.NO_DEVICES_AVAILABLE}`);const f=yield this.__requestChromeCast();if(f)throw new Error(`Chrome Cast Error Code: ${f}`)}catch(d){const f=d instanceof chrome.cast.Error?`${d.code} - ${d.description} 
 ${d.details}`:d.message;this._notice(f)}})}registerUI(){if(!this.player.context.ui)return;const{menu:d,icons:f}=this.player.context.ui;d==null||d.register({name:"ChromeCast",position:"top",icon:f.chromecast||te,onClick:()=>this.start()})}_notice(d){var f;(f=this.player.context.ui)==null||f.notice(d)}}function he(C,d){const{$progress:f}=C.context.ui,L=f.firstElementChild;let P=[],B={},U,Q=!1,M=d==null?void 0:d.src;const X=v.render(v.create(`div.${C.context.ui.vttThumbnailsCls}`),L);X.style.width=((d==null?void 0:d.width)||160)+"px",X.style.height=((d==null?void 0:d.height)||90)+"px";const re=V=>{fetch(V).then(T=>T.text()).then(T=>{P=J(T),Q=!0,X.style.opacity="1"}).catch(T=>{C.emit("notice",{text:"Failed to load vtt thumbnails",reason:T})})};d!=null&&d.src&&re(d.src),C.on("videosourcechange",()=>{C.context.ui.progressHoverCallback.splice(C.context.ui.progressHoverCallback.findIndex(V=>V==We),1),Q=!1,X.style.opacity="0",P=[],B={}});const J=V=>{const T=[];return V.split(/[\r\n][\r\n]/i).forEach(z=>{if(z.match(/([0-9]{2}:)?([0-9]{2}:)?[0-9]{2}(.[0-9]{3})?( ?--> ?)([0-9]{2}:)?([0-9]{2}:)?[0-9]{2}(.[0-9]{3})?[\r\n]{1}.*/gi)){const A=z.split(/[\r\n]/i),ke=isFinite(+A[0])?A[1]:A[0],Te=isFinite(+A[0])?A[2]:A[1],Re=ke.split(/ ?--> ?/i),Be=Re[0],je=Re[1],Xe=Ue(Te);T.push({start:ae(Be),end:ae(je),css:Xe})}return T}),T},ae=V=>{const T=ze(V);return T.hours*(60*60)+T.minutes*60+T.seconds+T.milliseconds/1e3},ze=V=>{const T=V.split("."),z=T[0].split(":");return{milliseconds:parseInt(T[1],10)||0,seconds:parseInt(z.pop(),10)||0,minutes:parseInt(z.pop(),10)||0,hours:parseInt(z.pop(),10)||0}},Ue=V=>{const T={};if(!V.match(/#xywh=/i))return T.background='url("'+we(V)+'")',T;const z=He(V);return T.background='url("'+we(z.image)+'") no-repeat -'+z.x+"px -"+z.y+"px",T.width=z.w+"px",T.height=z.h+"px",T.url=we(z.image),T},we=(()=>{const V={};return T=>{if(!M)return T;if(V[T])return V[T];if(/(https?:)?\/\//.test(T))return T;let z=M;/(https?:)?\/\//.test(T)&&(z=M.substring(0,M.indexOf("?")||void 0));const A=z.lastIndexOf("/");if(z.startsWith("https://")&&A<8||z.startsWith("http://")&&A<7)return M+T;const ke=z.substring(A+1);return V[T]=M.replace(ke,T),V[T]}})(),He=V=>{const T=V.split(/#xywh=/i),z=T[0],A=T[1].match(/[0-9]+/gi);return{x:A[0],y:A[1],w:A[2],h:A[3],image:z}},We=V=>{if(!Q||!V)return;const T=C.duration,z=V*T,A=Me(z);if(!A){X.style.opacity="0";return}const ke=L.clientWidth,Te=V*ke,Re=parseInt(A.width,10),Be=Re>>1,je=ke-(Te+Be),Xe=Te-Be;if(X.style.opacity="1",Xe>0&&je>0?X.style.transform="translateX("+(Te-Be)+"px)":Xe<=0?X.style.transform="translateX(0px)":je<=0&&(X.style.transform="translateX("+(ke-Re)+"px)"),!(U&&U===A)){U=A;for(const Ke in A)A.hasOwnProperty(Ke)&&(X.style[Ke]=A[Ke])}},Me=V=>{for(let T=0;T<P.length;++T){const z=P[T];if(V>=z.start&&V<z.end){if(z.css.url&&!B[z.css.url]){const A=new Image;A.src=z.css.url,B[z.css.url]=A}return z.css}}};C.context.ui.progressHoverCallback.push(We),C.context.ui.changThumbnails=({src:V})=>re(V)}const ve=C=>({name:"oplayer-vtt-thumbnails",version:"1.0.12-beta.0",apply:d=>he(d,C)}),pe=class ut{constructor(d){this.key="playlist",this.name="oplayer-plugin-playlist",this.version="1.0.12-beta.0",this.options=Object.assign({autoNext:!0,autoHide:!0,sources:[]},d)}apply(d){if(!d.isNativeUI)return this.player=d,this._init(),this}_init(){return Se(this,null,function*(){var d;const f=()=>{var U;this.render(),typeof L=="number"&&this.changeSource(L),this.options.autoNext&&this.player.on(["ended","error"],()=>{this.next()}),(U=this.player.context.ui.keyboard)==null||U.register({l:()=>{this.$root.classList.toggle("playlist__active")}})},{initialIndex:L,m3uList:P,sources:B}=this.options;P&&(d=B[0])!=null&&d.src?(ut.m3u8Parser||(ut.m3u8Parser=yield me.e(246).then(me.bind(me,246))),fetch(B[0].src).then(U=>U.text()).then(U=>{const Q=new ut.m3u8Parser.Parser;Q.push(U),Q.end(),this.options.sources=Q.manifest.segments.map(M=>P!=null&&P.sourceFormat?P.sourceFormat(M):{src:M.uri,title:M.title}),f()}).catch(U=>{this.player.emit("notice",{pluginName:this.name,text:"Playlist"+U.message})})):f()})}get isWaiting(){return this.$root.classList.contains("playlist__wait")}changeSource(d){if(!this.options.sources[d]||this.isWaiting)return;const f=this.$root.querySelector(`.playlist-list-item[data-index='${d}']`);this.$root.classList.add("playlist__wait"),f==null||f.classList.add("playlist-source__progress");const L=this.options.sources[d];return new Promise(P=>{var B,U;if(!L.src&&this.options.customFetcher){P((U=(B=this.options).customFetcher)==null?void 0:U.call(B,L,d));return}P(L)}).then(P=>{if(!P.src)throw this.player.context.ui.notice("Empty Source"),new Error("Empty Source");const{src:B,poster:U,format:Q,title:M,subtitles:X,thumbnails:re,highlights:J,danmaku:ae}=P;return this.player.changeSource({src:B,poster:U,format:Q,title:M}).then(()=>{var ze;X&&this.player.context.ui.subtitle.changeSource(X),re&&this.player.context.ui.changThumbnails(re),J&&this.player.context.ui.changHighlightSource(J),ae&&((ze=this.player.context.danmaku)==null||ze.bootstrap(ae))})}).then(()=>{this.player.emit("playlistsourcechange",{source:L,id:d}),this.options.autoHide&&setTimeout(()=>{this.hideUI()},300)}).catch(P=>{this.player.emit("playlistsourceerror",{error:P,idx:d})}).finally(()=>{var P;this.currentIndex=d,this._updateHeader(),(P=this.$root.querySelector(".playlist-source__active"))==null||P.classList.remove("playlist-source__active"),f==null||f.classList.add("playlist-source__active"),setTimeout(()=>{this.$root.classList.remove("playlist__wait"),f==null||f.classList.remove("playlist-source__progress")},300)})}changeSourceList(d){this.options.sources=d,this.renderList(d)}next(){this.changeSource((this.currentIndex||0)+1)}previous(){this.changeSource((this.currentIndex||0)-1)}showUI(){this.$root.classList.add("playlist__active")}hideUI(){this.$root.classList.remove("playlist__active")}render(){const d=`
    <div class="playlist-head">
      <span class="playlist-head-title">${this.player.locales.get("PLAYLIST")}</span>
      <div class="playlist-back">${this.player.context.ui.icons.playlist||'<svg viewBox="0 0 32 32"><path d="m 12.59,20.34 4.58,-4.59 -4.58,-4.59 1.41,-1.41 6,6 -6,6 z"></path></svg>'}</div>
    </div>
    <div class="playlist-list">
    </div>`;this.$root=document.createElement("div"),this.$root.innerHTML=d,this.$root.className="playlist",this.$root.onclick=f=>{const L=f.target;L.classList.contains("playlist-list-item")?this.changeSource(+L.getAttribute("data-index")):(L.classList.contains("playlist-back")||L==this.$root&&L.classList.contains("playlist__active"))&&this.hideUI()},this.renderList(this.options.sources),this.player.context.ui.$root.appendChild(this.$root),this.player.context.ui.menu.register({name:"Playlist",icon:'<svg style="transform: scale(1.2);" viewBox="0 0 1024 1024"><path d="M213.333333 426.666667h426.666667c23.466667 0 42.666667 19.2 42.666667 42.666666s-19.2 42.666667-42.666667 42.666667H213.333333c-23.466667 0-42.666667-19.2-42.666666-42.666667s19.2-42.666667 42.666666-42.666666z m0-170.666667h426.666667c23.466667 0 42.666667 19.2 42.666667 42.666667s-19.2 42.666667-42.666667 42.666666H213.333333c-23.466667 0-42.666667-19.2-42.666666-42.666666s19.2-42.666667 42.666666-42.666667z m0 341.333333h256c23.466667 0 42.666667 19.2 42.666667 42.666667s-19.2 42.666667-42.666667 42.666667H213.333333c-23.466667 0-42.666667-19.2-42.666666-42.666667s19.2-42.666667 42.666666-42.666667z m384 37.546667v180.48c0 16.64 17.92 26.88 32.426667 18.346667l150.613333-90.453334c13.653333-8.106667 13.653333-28.16 0-36.693333l-150.613333-90.453333a21.674667 21.674667 0 0 0-32.426667 18.773333z"></path></svg>',position:"top",onClick:()=>{this.showUI();const f=this.$root.querySelector(".playlist-list"),L=this.$root.querySelector(".playlist-source__active");L&&f.scrollHeight>0&&this.currentIndex&&f.scrollTo(0,L.offsetHeight*this.currentIndex)}})}renderList(d){const f=d.map((L,P)=>`
  <div class="playlist-list-item" data-index="${P}">
  <div class="playlist-list-item-thumb">
    ${L.poster?`<img class="playlist-list-item-img" src="${L.poster}" alt="${L.title||""}" loading="lazy" onerror="this.classList.add('playlist-list-item-img__error');"/>`:"<span>EMPTY</span>"}
    </div>

    <div class="playlist-list-item-desc">
      <p>${L.title}</p>
      ${L.duration?`<span>${L.duration}</span>`:""}
    </div>
  </div>`).join("");this._updateHeader(),this.$root.querySelector(".playlist-list").innerHTML=f}_updateHeader(){this.$root.querySelector(".playlist-head-title").textContent=`${this.player.locales.get("PLAYLIST")} (${this.currentIndex!==void 0?`${this.currentIndex+1}/`:""}${this.options.sources.length})`}destroy(){this.currentIndex=void 0,this.options.sources=[],this.renderList([])}};pe.m3u8Parser=globalThis.m3u8Parser;let se=pe;const be=i.$.css({position:"absolute",right:"0.5em",top:"0.5em","z-index":1}),ne=i.$.css("display: inline-block;background: rgba(28 ,28 ,28 , 0.9);color: #fff;padding: 4px 8px;border-radius: 4px; fill:#fff; font-size: 14px"),W=i.$.css({position:"relative","&::before":{display:"block",content:"''",position:"absolute",width:"50%",height:"2px","background-color":"#fff",transform:"rotate(40deg) translateY(-100%)",top:"48%",left:"6px"}}),_e=({duration:C,skipDuration:d,video:f,image:L,plugins:P,target:B,autoplay:U,onSkip:Q})=>({name:"oplayer-plugin-ad",version:"1.0.12-beta.0",apply:M=>{U?X():v.render(v.create(`div.${v.css({width:"100%",height:"100%",position:"absolute",top:"0",left:"0","z-index":999})}`),M.$root).onclick=function(){this.remove(),X()};function X(){const re=v.create(`div.${v.css({width:"100%",height:"100%",position:"absolute",top:"0",left:"0","z-index":999,cursor:"pointer"})}`,{},`<div class=${be}>
            ${d?`<div class=${ne} skipDuration>${M.locales.get("Can be closed after %ss",d)}</div>`:""}

            <div class=${ne} duration>${M.locales.get("%ss",C)}</div>

            ${f?`
               <div class='${ne} ${W}' volume>
                <svg width="1em" height="1em" viewBox="0 0 1024 1024" version="1.1">
                  <path d="M552.96 152.064v719.872c0 16.118-12.698 29.184-28.365 29.184a67.482 67.482 0 0 1-48.394-20.644L329.359 729.354a74.547 74.547 0 0 0-53.493-22.794H250.47c-104.386 0-189.03-87.101-189.03-194.56s84.644-194.56 189.03-194.56h25.396c20.07 0 39.3-8.192 53.473-22.794L476.18 143.503a67.482 67.482 0 0 1 48.436-20.623c15.646 0 28.344 13.066 28.344 29.184z m216.965 101.58a39.936 39.936 0 0 1 0-57.425 42.25 42.25 0 0 1 58.778 0c178.483 174.408 178.483 457.154 0 631.562a42.25 42.25 0 0 1-58.778 0 39.936 39.936 0 0 1 0-57.405 359.506 359.506 0 0 0 0-516.752zM666.542 373.884a39.731 39.731 0 0 1 0-55.235 37.52 37.52 0 0 1 53.944 0c104.305 106.783 104.305 279.921 0 386.704a37.52 37.52 0 0 1-53.944 0 39.731 39.731 0 0 1 0-55.235c74.486-76.288 74.486-199.946 0-276.234z" />
                </svg>
              </div>`:""}
          </div>
          </div>
        `);let J;const ae=re.querySelector(`.${ne}[skipDuration]`),ze=re.querySelector(`.${ne}[duration]`),Ue=re.querySelector(`.${ne}[volume]`);f?(J=q.make(re,{muted:!0,autoplay:!0,loop:!0,source:{src:f}}).use(P||[]).create(),Ue.addEventListener("click",()=>{J.isMuted?J.unmute():J.mute(),Ue.classList.toggle(W)})):re.style.background=`url(${L}) center center`,v.render(re,M.$root);let we=0;const He=()=>{clearInterval(We),J==null||J.destroy(),re.remove(),M.play()},We=setInterval(()=>{var Me;d!==void 0&&(we++,d-we>-1?ae.innerText=M.locales.get("Can be closed after %ss",d-we):(ae.innerText=M.locales.get("Close"),(Me=ae.onclick)!=null||(ae.onclick=()=>{Q==null||Q(we),He()}))),C-we>-1?ze.innerText=M.locales.get("%ss",C-we):He()},1e3);B&&re.addEventListener("click",Me=>{Me.target.classList.contains(ne)||window.open(B,"_blank")})}}})},5764:(dt,qe,me)=>{me.d(qe,{Ay:()=>Le});var i=me(2882),Oe=me(6228),oe=me(1770);const Fe=["playing","duration","aspectRatio","plugins","onEvent"];function Ie(Z,te){if(Z==null)return{};var ie={},he=Object.keys(Z),ve,pe;for(pe=0;pe<he.length;pe++)ve=he[pe],!(te.indexOf(ve)>=0)&&(ie[ve]=Z[ve]);return ie}const Le=(0,oe.forwardRef)((Z,te)=>{const ie=Z.playing,he=Z.duration,ve=Z.aspectRatio,pe=ve===void 0?9/16:ve,se=Z.plugins,be=se===void 0?[]:se,ne=Z.onEvent,W=Ie(Z,Fe),_e=(0,oe.useRef)(ne);_e.current=ne;const C=(0,oe.useRef)(null),d=Se(W.source),f=C.current&&C.current.$root,L=(0,oe.useCallback)(P=>{P!==null&&!f&&(C.current=Oe.Ay.make(P,W).use(be).create(),typeof he=="number"&&C.current.seek(he/1e3),ne&&C.current.on(B=>{var U;return(U=_e.current)==null?void 0:U.call(_e,B)}))},[]);return xe(f,()=>{ie?C.current.isPlaying||C.current.play():C.current.isPlaying&&C.current.pause()},[ie]),xe(f,()=>{var P;(W.source instanceof Promise&&d!=W.source||(P=W.source)!=null&&P.src&&(d==null?void 0:d.src)!==W.source.src)&&C.current.changeSource(W.source)},[W.source]),xe(f&&typeof he=="number",()=>{C.current.seek(he/1e3)},[he]),xe(f,()=>{W.muted?C.current.mute():C.current.unmute()},[W.muted]),xe(f,()=>{C.current.setPlaybackRate(W.playbackRate)},[W.playbackRate]),(0,oe.useEffect)(()=>()=>{var P;return(P=C.current)==null?void 0:P.destroy()},[]),(0,oe.useImperativeHandle)(te,()=>C.current,[]),(0,oe.useMemo)(()=>pe==0?(0,i.jsx)("div",{ref:L}):(0,i.jsx)("div",{style:{width:"100%",paddingTop:pe*100+"%",backgroundColor:"#f4f4f4",position:"relative"},children:(0,i.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},ref:L})}),[])}),xe=(Z,te,ie)=>{(0,oe.useEffect)(()=>{if(Z)return te()},ie)};function Se(Z){const te=(0,oe.useRef)();return(0,oe.useEffect)(()=>{te.current=Z},[Z]),te.current}},6102:(dt,qe,me)=>{me.d(qe,{A:()=>Gn});var i=me(6228),Oe,oe,Fe,Ie,Le,xe,Se,Z;function te(e,t){return t||(t=e.slice(0)),e.raw=t,e}const ie=i.$.cls("loading"),he=i.$.cls("playing"),ve=i.$.cls("focused"),pe=i.$.cls("fullscreen"),se=i.$.cls("settingShown"),be=i.$.css("display:none"),ne="data-ctrl-hidden",W=i.$.css({["."+he]:{cursor:"none"}}),_e=i.$.cls("error"),C=e=>{var t;return i.$.css(Object.assign({"--primary-color":""+e.theme.primaryColor,"--shadow-background-color":"rgba(28 ,28 ,28 , .9)","--control-bar-height":(t=e.theme.controller)!=null&&t.display?"2.5em":0,position:"absolute",top:"0",left:"0",width:"100%",height:"100%","line-height":1,"font-size":i.Fr?"16px":"18px","&, & > *":{"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)"},"& [hidden]":{display:"none"}},{["@global ."+d+" &"]:{"font-size":i.Fr?"18px":"22px"},["@global ."+pe+" &"]:{"font-size":i.Fr?"18px":"22px"}}))},d=i.$.css(Oe||(Oe=te([`
  z-index: 99 !important;
  position: fixed !important;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;`]))),f=i.$.css({background:"none",border:"none",cursor:"pointer",padding:0,outline:"none",font:"inherit",color:"inherit",fill:"#fff","line-height":"inherit","text-align":"inherit",width:"100%","-webkit-tap-highlight-color":"transparent","user-select":"none"}),L=i.$.css({"& > *:nth-child(1)":{display:"none"}}),P=i.$.css({"& > *:nth-child(2)":{display:"none"}}),B=i.Fr?"":i.$.css({position:"relative","&:hover":{"&::after":{opacity:1,transform:"translateX(-50%) scale(1)"},"&:not([data-tooltip-pos]):last-child::after":{right:0,left:"auto",transform:"translateY(0) scale(1)"},"&[data-tooltip-pos=down]::after":{transform:"translateX(-50%) scale(1)"},"&[data-tooltip-pos=down]:last-child::after":{right:0,transform:"translateY(0) scale(1)"}},"&::after":{position:"absolute",content:"attr(aria-label)",bottom:"100%",left:"50%","margin-bottom":"0.5em","white-space":"nowrap",background:"var(--shadow-background-color)",transform:"translate(-50%, 10px) scale(.8)","transform-origin":"50% 100%",opacity:0,padding:"6px 8px","border-radius":"2px",transition:"transform .2s ease .1s,opacity .2s ease .1s","pointer-events":"none","font-size":"0.75em"},"&[data-tooltip-pos=down]::after":{top:"100%",bottom:"auto","margin-top":"0.5em",transform:"translate(-50%, -10px) scale(.8)"},"&[data-tooltip-pos=down]:last-child::after":{right:0,top:"100%",bottom:"unset",left:"auto","margin-top":"0.5em",transform:"translateY(-10px) scale(.8)","transform-origin":"100% 0"},"&:not([data-tooltip-pos]):last-child::after":{right:0,left:"auto",transform:"translateY(10px) scale(.8)","transform-origin":"100% 100%"}}),z={play:'<svg viewBox="0 0 1024 1024"><path  d="M245.76 785.203V238.797c0-50.442 34.918-69.182 77.967-42.046l422.196 266.117c43.11 27.157 43.069 71.128 0 98.284L323.727 827.249c-43.11 27.177-77.967 8.315-77.967-42.046z" /></svg>',pause:'<svg viewBox="0 0 1024 1024"><path  d="M327.68 184.32a81.92 81.92 0 0 1 81.92 81.92v491.52a81.92 81.92 0 1 1-163.84 0V266.24a81.92 81.92 0 0 1 81.92-81.92z m368.64 0a81.92 81.92 0 0 1 81.92 81.92v491.52a81.92 81.92 0 1 1-163.84 0V266.24a81.92 81.92 0 0 1 81.92-81.92z" /></svg>',volume:['<svg viewBox="0 0 1024 1024"><path d="M128 426.666667v170.666666c0 23.466667 19.2 42.666667 42.666667 42.666667h128l140.373333 140.373333c26.88 26.88 72.96 7.68 72.96-30.293333V273.493333c0-37.973333-46.08-57.173333-72.96-30.293333L298.666667 384H170.666667c-23.466667 0-42.666667 19.2-42.666667 42.666667z m576 85.333333A192 192 0 0 0 597.333333 340.053333v343.466667c63.146667-31.146667 106.666667-96 106.666667-171.52zM597.333333 189.866667v8.533333c0 16.213333 10.666667 30.293333 25.6 36.266667C733.013333 278.613333 810.666667 386.56 810.666667 512s-77.653333 233.386667-187.733334 277.333333c-15.36 5.973333-25.6 20.053333-25.6 36.266667v8.533333c0 26.88 26.88 45.653333 51.626667 36.266667C793.6 815.36 896 675.84 896 512s-102.4-303.36-247.04-358.4c-24.746667-9.813333-51.626667 9.386667-51.626667 36.266667z"></path></svg>','<svg viewBox="0 0 1024 1024"><path d="M154.88 154.88a42.496 42.496 0 0 0 0 60.16L311.04 371.2 298.666667 384H170.666667c-23.466667 0-42.666667 19.2-42.666667 42.666667v170.666666c0 23.466667 19.2 42.666667 42.666667 42.666667h128l140.373333 140.373333c26.88 26.88 72.96 7.68 72.96-30.293333v-177.92l178.346667 178.346667c-20.906667 15.786667-43.52 29.013333-68.266667 38.826666-15.36 6.4-24.746667 22.613333-24.746667 39.253334 0 30.72 31.146667 50.346667 59.306667 38.826666 34.133333-14.08 66.133333-32.853333 94.72-55.893333l57.173333 57.173333a42.496 42.496 0 1 0 60.16-60.16L215.466667 154.88c-16.64-16.64-43.52-16.64-60.586667 0zM810.666667 512c0 34.986667-6.4 68.693333-17.493334 99.84l65.28 65.28c23.893333-49.92 37.546667-105.813333 37.546667-165.12 0-163.413333-102.4-303.36-246.613333-358.4-25.173333-9.813333-52.053333 9.813333-52.053334 36.693333v8.106667c0 16.213333 10.666667 30.293333 26.026667 36.266667C733.013333 279.04 810.666667 386.56 810.666667 512z m-371.626667-268.373333l-7.253333 7.253333L512 331.093333V273.493333c0-37.973333-46.08-56.746667-72.96-29.866666zM704 512A192 192 0 0 0 597.333333 340.053333v76.373334l105.813334 105.813333c0.426667-3.413333 0.853333-6.826667 0.853333-10.24z"></path></svg>'],fullscreen:['<svg viewBox="-113 -113 1250 1250"><path d="M0 232.732444A232.732444 232.732444 0 0 1 232.732444 0h558.535112A232.732444 232.732444 0 0 1 1024 232.732444v558.535112A232.732444 232.732444 0 0 1 791.267556 1024H232.732444A232.732444 232.732444 0 0 1 0 791.267556V232.732444z m232.732444-139.662222a139.662222 139.662222 0 0 0-139.662222 139.662222v558.535112a139.662222 139.662222 0 0 0 139.662222 139.662222h558.535112a139.662222 139.662222 0 0 0 139.662222-139.662222V232.732444a139.662222 139.662222 0 0 0-139.662222-139.662222H232.732444z"></path><path d="M549.575111 245.845333c0-25.799111 20.935111-46.734222 46.734222-46.734222h116.821334A140.202667 140.202667 0 0 1 853.333333 339.313778v116.821333a46.734222 46.734222 0 0 1-93.468444 0v-116.821333c0-25.827556-20.906667-46.734222-46.734222-46.734222h-116.821334a46.734222 46.734222 0 0 1-46.734222-46.734223zM245.845333 549.546667c25.799111 0 46.734222 20.935111 46.734223 46.734222v116.821333c0 25.827556 20.906667 46.734222 46.734222 46.734222h116.821333a46.734222 46.734222 0 0 1 0 93.468445h-116.821333A140.202667 140.202667 0 0 1 199.111111 713.130667v-116.821334c0-25.799111 20.935111-46.734222 46.734222-46.734222z"></path></svg>','<svg viewBox="-113 -113 1250 1250"><path d="M0.739556 233.130667a232.391111 232.391111 0 0 1 232.391111-232.391111h557.738666a232.391111 232.391111 0 0 1 232.391111 232.391111v557.738666a232.391111 232.391111 0 0 1-232.391111 232.391111H233.130667a232.391111 232.391111 0 0 1-232.391111-232.391111V233.130667z m232.391111-139.434667a139.434667 139.434667 0 0 0-139.434667 139.434667v557.738666a139.434667 139.434667 0 0 0 139.434667 139.434667h557.738666a139.434667 139.434667 0 0 0 139.434667-139.434667V233.130667a139.434667 139.434667 0 0 0-139.434667-139.434667H233.130667z"></path><path d="M601.088 186.652444c25.685333 0 46.506667 20.792889 46.506667 46.478223v96.796444c0 25.685333 20.792889 46.478222 46.478222 46.478222h96.796444a46.478222 46.478222 0 1 1 0 92.984889h-96.796444a139.434667 139.434667 0 0 1-139.463111-139.463111V233.130667c0-25.685333 20.821333-46.478222 46.478222-46.478223z m-414.435556 414.435556c0-25.656889 20.792889-46.478222 46.478223-46.478222h96.796444a139.434667 139.434667 0 0 1 139.463111 139.463111v96.796444a46.478222 46.478222 0 0 1-92.984889 0v-96.796444c0-25.685333-20.792889-46.478222-46.478222-46.478222H233.130667a46.478222 46.478222 0 0 1-46.478223-46.506667z"></path></svg>'],pip:['<svg viewBox="0 0 1024 1024"><path d="M768 213.333333H256a85.333333 85.333333 0 0 0-85.333333 85.333334v426.666666a85.333333 85.333333 0 0 0 85.333333 85.333334h170.666667a42.666667 42.666667 0 1 1 0 85.333333H256a170.666667 170.666667 0 0 1-170.666667-170.666667V298.666667a170.666667 170.666667 0 0 1 170.666667-170.666667h512a170.666667 170.666667 0 0 1 170.666667 170.666667v128a42.666667 42.666667 0 1 1-85.333334 0V298.666667a85.333333 85.333333 0 0 0-85.333333-85.333334z m-128 341.333334a128 128 0 0 0-128 128v85.333333a128 128 0 0 0 128 128h170.666667a128 128 0 0 0 128-128v-85.333333a128 128 0 0 0-128-128h-170.666667z"></path></svg>','<svg viewBox="0 0 1024 1024"><path d="m768,213.33333l-512,0a85.33333,85.33333 0 0 0 -85.33333,85.33334l0,426.66666a85.33333,85.33333 0 0 0 85.33333,85.33334l170.66667,0a42.66667,42.66667 0 1 1 0,85.33333l-170.66667,0a170.66667,170.66667 0 0 1 -170.66667,-170.66667l0,-426.66666a170.66667,170.66667 0 0 1 170.66667,-170.66667l512,0a170.66667,170.66667 0 0 1 170.66667,170.66667l0,128a42.66667,42.66667 0 1 1 -85.33334,0l0,-128a85.33333,85.33333 0 0 0 -85.33333,-85.33334zm-128,341.33334a128,128 0 0 0 -128,128l0,85.33333a128,128 0 0 0 128,128l170.66667,0a128,128 0 0 0 128,-128l0,-85.33333a128,128 0 0 0 -128,-128l-170.66667,0z"></path><g stroke="null"><g stroke="null" transform="matrix(0.6896517266997474,0,0,0.6896517266997474,-10241.200782450309,-10001.206060939305) "><rect stroke="null" x="15122.523407" y="14826.656681" width="582" height="402" fill="none"></rect></g><g stroke="null" transform="matrix(0.6896517266997474,0,0,0.6896517266997474,-10241.200782450309,-10001.206060939305) "><path stroke="null" d="m15503.523407,14924.856681l-161.8,0c-66.2,0 -120,53.8 -120,120l0,161.8c0,22.1 17.9,40 40,40s40,-17.9 40,-40l0,-144.4l169.8,169.8c7.8,7.8 18,11.7 28.3,11.7c10.2,0 20.5,-3.9 28.3,-11.7c15.6,-15.6 15.6,-40.9 0,-56.6l-170.7,-170.6l146.1,0c22.1,0 40,-17.9 40,-40s-17.9,-40 -40,-40z"></path></g></g></svg>'],setting:`<svg viewBox="0 0 1024 1024" style="transform: scale(1.1);"><path d="M0 0h1024v1024H0z" fill-opacity="0"></path><path d="M501.333333 127.573333a21.333333 21.333333 0 0 1 21.333334 0l316.928 182.954667a21.333333 21.333333 0 0 1 10.666666 18.474667v365.994666a21.333333 21.333333 0 0 1-10.666666 18.474667L522.666667 896.426667a21.333333 21.333333 0 0 1-21.333334 0l-316.928-182.954667a21.333333 21.333333 0 0 1-10.666666-18.474667V328.96a21.333333 21.333333 0 0 1 10.666666-18.474667zM512 219.946667L259.029333 365.952v292.053333L512 804.010667l252.928-146.005334V365.952L512 219.946667zM512 426.666667a85.333333 85.333333 0 1 1 0 170.666666 85.333333 85.333333 0 0 1 0-170.666666z"></path></svg>
`,screenshot:'<svg viewBox="0 0 1024 1024"><path d="M412.245333 757.333333a42.666667 42.666667 0 0 1-56.490666-64l356.48-314.794666a42.666667 42.666667 0 0 1 56.746666 0.256l112.896 101.461333a42.666667 42.666667 0 1 1-57.088 63.488L740.266667 467.626667l-328.021334 289.706666zM810.666667 213.333333h-128a42.666667 42.666667 0 0 1 0-85.333333h170.666666a42.666667 42.666667 0 0 1 42.666667 42.666667v170.666666a42.666667 42.666667 0 0 1-85.333333 0V213.333333zM213.333333 213.333333v128a42.666667 42.666667 0 1 1-85.333333 0V170.666667a42.666667 42.666667 0 0 1 42.666667-42.666667h170.666666a42.666667 42.666667 0 1 1 0 85.333333H213.333333z m597.333334 597.333334v-128a42.666667 42.666667 0 0 1 85.333333 0v170.666666a42.666667 42.666667 0 0 1-42.666667 42.666667h-170.666666a42.666667 42.666667 0 0 1 0-85.333333h128zM213.333333 810.666667h128a42.666667 42.666667 0 0 1 0 85.333333H170.666667a42.666667 42.666667 0 0 1-42.666667-42.666667v-170.666666a42.666667 42.666667 0 0 1 85.333333 0v128z m170.666667-298.666667a128 128 0 1 1 0-256 128 128 0 0 1 0 256z m0-85.333333a42.666667 42.666667 0 1 0 0-85.333334 42.666667 42.666667 0 0 0 0 85.333334z"></path></svg>',playbackRate:'<svg viewBox="0 0 1024 1024"><path d="M512 951.04a435.2 435.2 0 1 1 435.2-435.2 435.2 435.2 0 0 1-435.2 435.2z m0-819.2a384 384 0 1 0 384 384A384 384 0 0 0 512 132.096z"></path><path d="M468.992 493.824l-130.048-75.008a20.992 20.992 0 0 0-31.232 18.176v150.016a20.992 20.992 0 0 0 31.232 18.176l130.048-75.008a20.992 20.992 0 0 0 0-36.352zM684.8 493.824l-129.536-75.008a21.248 21.248 0 0 0-31.744 18.432v149.504a21.248 21.248 0 0 0 31.744 18.432l129.536-75.008a20.992 20.992 0 0 0 0-36.352z"></path></svg>',subtitle:'<svg viewBox="0 0 1024 1024" version="1.1"><path d="M800 170.666667A138.666667 138.666667 0 0 1 938.666667 309.333333v405.546667a138.666667 138.666667 0 0 1-138.666667 138.666667H224A138.666667 138.666667 0 0 1 85.333333 714.88V309.333333a138.666667 138.666667 0 0 1 130.816-138.453333L224 170.666667h576z m0 64H224l-6.144 0.256A74.666667 74.666667 0 0 0 149.333333 309.333333v405.546667c0 41.216 33.450667 74.666667 74.666667 74.666667h576a74.666667 74.666667 0 0 0 74.666667-74.666667V309.333333a74.666667 74.666667 0 0 0-74.666667-74.666666zM234.666667 512c0-134.229333 115.754667-203.733333 218.538666-145.109333A32 32 0 0 1 421.461333 422.4C361.856 388.437333 298.666667 426.410667 298.666667 512c0 85.546667 63.317333 123.562667 122.88 89.728a32 32 0 0 1 31.573333 55.637333C350.549333 715.733333 234.666667 646.101333 234.666667 512z m320 0c0-134.229333 115.754667-203.733333 218.538666-145.109333a32 32 0 0 1-31.744 55.552C681.856 388.437333 618.666667 426.410667 618.666667 512c0 85.546667 63.317333 123.562667 122.88 89.728a32 32 0 0 1 31.573333 55.637333C670.549333 715.733333 554.666667 646.101333 554.666667 512z"></path></svg>',loop:'<svg viewBox="0 0 32 32"><g><path d="m16 2a13.9 13.9 0 0 0 -9 3.32v-2.32a1 1 0 0 0 -2 0v5a1 1 0 0 0 1 1h5a1 1 0 0 0 0-2h-2.89a11.87 11.87 0 0 1 7.89-3 12 12 0 1 1 -11.67 9.23 1 1 0 1 0 -1.94-.46 13.72 13.72 0 0 0 -.39 3.23 14 14 0 1 0 14-14z"/><path d="m14 21.2a2 2 0 0 0 1.06-.31l5.11-3.19a2 2 0 0 0 0-3.4l-5.11-3.19a2 2 0 0 0 -3.06 1.69v6.4a2 2 0 0 0 2 2zm0-8.4 5.11 3.2-5.11 3.2z"/></g></svg>',progressIndicator:null,loadingIndicator:null,quality:'<svg viewBox="0 0 32 32"><g><path d="m16 2a14 14 0 1 0 14 14 14 14 0 0 0 -14-14zm0 26a12 12 0 1 1 12-12 12 12 0 0 1 -12 12z"/><path d="m14.5 11a1 1 0 0 0 -1 1v3h-2v-3a1 1 0 0 0 -2 0v8a1 1 0 0 0 2 0v-3h2v3a1 1 0 0 0 2 0v-8a1 1 0 0 0 -1-1z"/><path d="m19.5 11h-2a1 1 0 0 0 -1 1v8a1 1 0 0 0 1 1h2a3 3 0 0 0 3-3v-4a3 3 0 0 0 -3-3zm1 7a1 1 0 0 1 -1 1h-1v-6h1a1 1 0 0 1 1 1z"/></g></svg>',lang:'<svg viewBox="0 0 1024 1024"><path d="M512 85.333333C277.333333 85.333333 85.333333 277.333333 85.333333 512s192 426.666667 426.666667 426.666667 426.666667-192 426.666667-426.666667S746.666667 85.333333 512 85.333333z m294.4 256H682.666667c-12.8-55.466667-34.133333-102.4-59.733334-153.6 76.8 29.866667 145.066667 81.066667 183.466667 153.6zM512 170.666667c34.133333 51.2 64 106.666667 81.066667 170.666666h-162.133334c17.066667-59.733333 46.933333-119.466667 81.066667-170.666666zM183.466667 597.333333c-8.533333-25.6-12.8-55.466667-12.8-85.333333s4.266667-59.733333 12.8-85.333333h145.066666c-4.266667 29.866667-4.266667 55.466667-4.266666 85.333333s4.266667 55.466667 4.266666 85.333333H183.466667z m34.133333 85.333334H341.333333c12.8 55.466667 34.133333 102.4 59.733334 153.6-76.8-29.866667-145.066667-81.066667-183.466667-153.6zM341.333333 341.333333H217.6c42.666667-72.533333 106.666667-123.733333 183.466667-153.6C375.466667 238.933333 354.133333 285.866667 341.333333 341.333333z m170.666667 512c-34.133333-51.2-64-106.666667-81.066667-170.666666h162.133334c-17.066667 59.733333-46.933333 119.466667-81.066667 170.666666z m98.133333-256H413.866667c-4.266667-29.866667-8.533333-55.466667-8.533334-85.333333s4.266667-55.466667 8.533334-85.333333h200.533333c4.266667 29.866667 8.533333 55.466667 8.533333 85.333333s-8.533333 55.466667-12.8 85.333333z m12.8 238.933334c25.6-46.933333 46.933333-98.133333 59.733334-153.6h123.733333c-38.4 72.533333-106.666667 123.733333-183.466667 153.6z m76.8-238.933334c4.266667-29.866667 4.266667-55.466667 4.266667-85.333333s-4.266667-55.466667-4.266667-85.333333h145.066667c8.533333 25.6 12.8 55.466667 12.8 85.333333s-4.266667 59.733333-12.8 85.333333h-145.066667z"></path></svg>',chromecast:null,danmaku:null,playlist:null,previous:null,next:null};var A;(e=>{e.setupIcons=t=>{for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(z[n]=t[n]);return z},e.get=t=>z[t]})(A||(A={}));const ke=(e,t)=>{function n(s){let a=s.target;a&&(e.$root.contains(a)||e.$root==a)?e.$root.classList.add(ve):e.$root.classList.remove(ve)}t&&e.$root.classList.add(ve),document.addEventListener("click",n),document.addEventListener("contextmenu",n),e.on("destroy",()=>{document.removeEventListener("click",n),document.removeEventListener("contextmenu",n)})},Te=e=>e.$root.classList.contains(ve),Re=e=>{e.on("play",()=>{e.$root.classList.add(he)}),e.on(["pause","videosourcechange"],()=>{e.$root.classList.remove(he)})},Be=e=>{const t=()=>e.$root.classList.add(ie),n=()=>{e.isSourceChanging||e.$root.classList.remove(ie)};e.$video.preload!="none"&&t(),e.on("loadstart",()=>{e.$video.preload=="none"&&n()}),e.on(["seeking","videoqualitychange","videosourcechange"],t),e.on(["canplaythrough","playing","pause","seeked","error"],n),e.on(e.options.autoplay||i.nr?"loadedmetadata":"canplay",()=>e.$root.classList.remove(ie)),e.on(["waiting","playing"],s=>{s.type=="waiting"&&t();const r=e.currentTime,g=()=>{r!==e.currentTime?(n(),e.off("timeupdate",g)):t()};e.on("timeupdate",g)})},je=e=>e.$root.classList.contains(ie),Xe=e=>{e.on("fullscreenchange",t=>{if(t.payload.isWeb)e.$root.classList.toggle(d);else{if(!e._requestFullscreen)return;e.$root.classList.toggle(pe)}})},Ke=e=>e.$root.classList.contains(pe)||e.$root.classList.contains(d),St=e=>e.$root.classList.contains(d),_t=(e,t)=>{Re(e),Be(e),Xe(e),i.Fr||ke(e,t.autoFocus)};function Ge(e,t,n){return Math.min(Math.max(e,t),n)}function st(e){return e<10?"0"+e:""+e}function Ee(e){if(!isFinite(e))return"--:--";const t=Math.floor(e/3600),n=Math.floor(e%3600/60),s=Math.floor(e%3600%60);return(t>0?st(t)+":":"")+st(n)+":"+st(s)}function Lt(e,t){const n=document.createElement("a");n.href=e,n.download=t,n.click()}const Tt=e=>{var t;try{const n=e.$video,s=e.$root,a=e.context.ui,r=document.createElement("canvas"),g=n.videoWidth,m=n.videoHeight;r.width=g,r.height=m,r.getContext("2d").drawImage(n,0,0,g,m);const b=((t=a.$watermark)==null?void 0:t.style)||{},h=b.top,y=b.left,k=b.right,E=b.bottom;if(a.$watermark&&[h,y,k,E].filter(S=>S!=null).length>1){const S=a.$watermark,_=S.offsetLeft,O=S.offsetTop,I=S.offsetWidth,R=S.offsetHeight,Y=a.$watermark.getBoundingClientRect(),ce=Y.width,F=Y.height;let K=0,j=0;if(y)K=_;else if(k){const ue=s.clientWidth-_-I;K=g-ue-I}if(h)j=O;else if(E){const ue=s.clientHeight-O-R;j=g-ue-R}r.getContext("2d").drawImage(a.$watermark,K,j,ce,F)}return r.toDataURL("image/png")}catch(n){return n}},ht=e=>{if(je(e)||isNaN(e.duration)){e.emit("notice",{text:e.locales.get("Please wait for loading to complete")});return}const t=Tt(e);if(t instanceof Error)e.emit("notice",{text:t.message});else{const n=e.options.source.title||"OPlayer-ScreenShot";Lt(t,n+"-"+Ee(e.currentTime).replace(/:/g,"-")+".png")}},pt=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1500,n=null;const s=()=>n&&clearTimeout(n);return{callee:()=>{s(),n=setTimeout(()=>{e()},t)},clear:s}},Ct=(e,t)=>{var n=[],s=e.parentNode.children;for(let a=0,r=s.length;a<r;a++)s[a]!==e&&(t==null||t(s[a]),n.push(s[a]));return n};function ot(e,t){return e.classList.add(t),e}function Qe(e,t){return e.classList.remove(t),e}function Ce(e,t){return e.classList.contains(t)}const De={dragStart:i.Fr?"touchstart":"mousedown",dragMove:i.Fr?"touchmove":"mousemove",dragEnd:i.Fr?"touchend":"mouseup"},gt=10,it=5,Je={ArrowUp:e=>{const t=e.volume*100+gt;e.setVolume(t/100),e.emit("notice",{text:e.locales.get("Volume: %s",~~(e.volume*100)+"%")})},ArrowDown:e=>{const t=e.volume*100-gt;e.setVolume(t/100),e.emit("notice",{text:e.locales.get("Volume: %s",~~(e.volume*100)+"%")})},ArrowLeft:(e,t)=>{var n,s;if(e.options.isLive||e.hasError)return;e.currentTime-(((n=t.theme.progress)==null?void 0:n.backward)||it)<0?e.seek(0):e.seek(e.currentTime-(((s=t.theme.progress)==null?void 0:s.forward)||it)),e.emit("notice",{text:Ee(e.currentTime)+" / "+Ee(e.duration)})},ArrowRight:e=>{e.options.isLive||e.hasError||(e.seek(e.currentTime+it),e.emit("notice",{text:Ee(e.currentTime)+" / "+Ee(e.duration)}))}," ":e=>e.togglePlay(),k:e=>e.togglePlay(),Escape:e=>{e.isFullScreen?e.exitFullscreen():e.$root.classList.contains(d)&&e.emit("fullscreenchange",{isWeb:!0})},f:e=>e.toggleFullScreen(),w:e=>e.emit("fullscreenchange",{isWeb:!0}),s:ht,m:e=>e.isMuted?e.unmute():e.mute()};function Pt(e){var t,n;const s=e.player,a=e.config;if(i.Fr&&!((t=a.keyboard)!=null&&t.focused)&&!((n=a.keyboard)!=null&&n.global))return;function r(g){var m,b,h;if(((m=document.activeElement)==null?void 0:m.tagName)=="INPUT"||((b=document.activeElement)==null?void 0:b.tagName)=="TEXTAREA"||(h=document.activeElement)!=null&&h.getAttribute("contenteditable")||a.keyboard.focused&&!Te(s)||g.altKey||g.ctrlKey||g.metaKey||g.shiftKey)return;const y=g.key;Je[y]&&(g.preventDefault(),Je[y](s,a))}e.keyboard={register:function(m){for(const b in m)Object.prototype.hasOwnProperty.call(m,b)&&(Je[b]=m[b])},unregister:function(m){m.forEach(b=>{delete Je[b]})}},document.addEventListener("keydown",r),s.on("destroy",()=>{document.removeEventListener("keydown",r)})}const rt="speed";function At(e){const t=e.player,n=e.config.speeds,s=e.setting;n!=null&&n.length&&s&&(s.register({key:rt,type:"selector",name:t.locales.get("Speed"),icon:A.get("playbackRate"),children:n.map(a=>({name:+a==1?t.locales.get("Normal"):a+"x",value:+a,default:t.playbackRate==+a})),onChange:a=>{let r=a.value;return t.setPlaybackRate(r)}}),t.on("ratechange",()=>{const a=t.playbackRate,r=n.findIndex(g=>+g==a);r==-1?s.updateLabel(rt,a+"x"):s.select(rt,r,!1)}))}const Ze=60;function ft(e){var t;const n=e.player,s=e.config.theme,a=e.$mask,r=(t=s.controller)==null?void 0:t.slideToSeek;i.Fr&&!n.options.isLive&&r&&r!="none"&&n.once("loadedmetadata",()=>{let g=0,m=0,b=0,h=0,y;const k=n.$root.getBoundingClientRect();r=="always"&&(a.addEventListener("touchstart",_=>{if(Ce(n.$root,se))return;const O=_.changedTouches[0],I=O.clientX,R=O.clientY;g=I,m=R}),a.addEventListener("touchmove",E),a.addEventListener("touchend",S)),r=="long-touch"&&a.addEventListener("touchstart",_=>{if(Ce(n.$root,se))return;const O=_.changedTouches[0],I=O.clientX,R=O.clientY;g=I,m=R,y=window.setInterval(()=>{b+=100,b>=1e3&&(clearInterval(y),n.emit("notice",{text:"slid left or right to seek",pos:"top"}),a.addEventListener("touchmove",E))},100),a.addEventListener("touchend",S,{once:!0})});function E(_){if(g==0&&m==0)return;const O=_.changedTouches[0],I=O.clientX,R=O.clientY,Y=I-g,ce=m-R;if(Math.abs(Y)<2&&Math.abs(ce)<2)return;const F=mt(Y,ce);(F>=-45&&F<45||F>=135&&F<=180||F>=-180&&F<-135)&&(_.preventDefault(),h=Ze*Y/k.width,n.emit("notice",{text:Ee(Ge(n.currentTime+h,0,n.duration))+" / "+Ee(n.duration),pos:"top"}))}function S(){g==0&&m==0||(r=="long-touch"&&b<1e3&&(y&&clearInterval(y),a.removeEventListener("touchmove",E)),Math.abs(h)>=1&&n.seek(Ge(n.currentTime+h,0,n.duration)),g=m=h=b=0)}})}function mt(e,t){return Math.atan2(t,e)*180/Math.PI}function at(e,t){t.forceLandscapeOnFullscreen&&!i.un&&i.Fr&&e.on("fullscreenchange",n=>{var s,a,r,g;n.payload.isWeb||!e._requestFullscreen||(e.isFullScreen?(a=(s=globalThis.screen.orientation)==null?void 0:s.lock)==null||a.call(s,"landscape"):(g=(r=globalThis.screen.orientation)==null?void 0:r.unlock)==null||g.call(r))})}const et=i.$.css(oe||(oe=te([`
  font-variant-numeric: tabular-nums;
  font-size: 0.875em;
`]))),u=i.$.css("width:0.5em;height:0.5em;background-color:var(--primary-color);border-radius:50%;margin-right:0.5em"),o=i.$.css(`
    position: absolute;
    top: 10px;
    right: 50%;
    border-radius: 2px;
    box-sizing: border-box;
    transform: translate(50%, -100%);
    transition: opacity 0.2s ease, top 0.2s ease;
    font-size: 0.875em;
`),l=i.$.css(`
    top: calc(100% - 10px);
    right: 50%;
    transform: translateX(50%);
`),p=i.$.css({position:"relative",display:"flex",["& ."+o]:{visibility:"hidden",opacity:0,"background-color":"var(--shadow-background-color)"}}),c=i.$.css({"&:hover":{"padding-top":"0.5em","margin-top":"-0.5em",["& ."+o]:{visibility:"visible",opacity:1,top:0}},"&[data-dropdown-pos=top]:hover":{"padding-bottom":"0.5em","margin-bottom":"-0.5em",["& ."+o]:{top:"100%"}}}),w=i.$.css({padding:"0 0.5em","min-width":"6em",display:"block",height:"2.4em","line-height":"2.4em",cursor:"pointer","text-align":"center","word-break":"keep-all","&:nth-last-child(1)":{"margin-bottom":"0px"},"& *":{"pointer-events":"none"},"&[aria-checked=true]":{color:"var(--primary-color)"},"&:hover":{"background-color":"rgba(255, 255, 255, 0.1)"}}),$=i.$.cls("textIcon"),x=i.$.css({display:"flex","align-items":"center",["& > ."+f+":last-child"+(i.Fr?", & >  ."+f+'[aria-label="Play"], & >  .'+f+'[aria-label="Pause"]':"")]:{"margin-right":0}}),N=i.$.css({color:"#fff",height:"2.375em",display:"flex","box-sizing":"border-box","justify-content":"space-between","align-items":"center","padding-bottom":i.Fr?0:"0.25em",["& ."+f+"."+$]:{width:"auto","min-width":"2em","font-size":"0.875em",padding:"0 4px","border-radius":"2px"},["& ."+f]:Object.assign({width:"2em",height:i.Fr?"auto":"2em","margin-right":"0.5em","justify-content":"center","align-items":"center",display:"inline-flex","& > *":{height:"1.5em",width:"1.5em","pointer-events":"none",transition:"transform .2s ease-in-out"}},i.Fr?{"&:active > *":{transform:"scale(.9)"}}:{"&:hover":{"background-color":"rgb(255 255 255 / .2)"}})}),D=i.$.css({flex:1,height:"100%","padding-left":"0.5em","> div":{height:"100%",display:"flex","align-items":"center"}}),H=i.$.css("display: block;"),ee=e=>i.$.css({"z-index":"8","max-height":"75%","border-radius":"2px",display:"block",position:"absolute",right:"1em",[e]:e=="top"?"var(--control-bar-height)":"2.5em",overflow:"auto","background-color":"var(--shadow-background-color)",fill:"#fff","&::-webkit-scrollbar":{width:"2px"},"&::-webkit-scrollbar-thumb":{background:"var(--primary-color)"},"& > div":{display:"none","font-size":"0.875em"},["& > div."+H]:{display:"block"}}),G=i.$.css("min-width: 15.5em;"),ge=i.$.css("min-width: 10.5em;"),le=i.$.css(`
  display: none;
  width: 1.4em;
  height: 1.4em;
`),fe=i.$.css(`
  width: 2em;
  height: 2em;
  margin: 0 -10px 0 -5px;
`),ye=i.$.css(`
  width: 2em;
  height: 2em;
  transform: rotate(180deg);
  margin-left: -10px;
`),tt=i.$.css({position:"absolute",cursor:"pointer",top:"0",left:"0",right:"0",bottom:"0","background-color":"#ccc",transition:".3s","border-radius":"34px","&:before":{position:"absolute",content:'""',height:"1em",width:"1em",left:"0.25em",bottom:"0.1875em","background-color":"white",transition:".3s","border-radius":"50%"}}),Pe=i.$.css(`
  position: relative;
  width: 2.5em;
  height: 1.375em;
`),rn=i.$.css(`
  white-space: nowrap;
  color: rgba(255, 255, 255, 0.7);
  font-size: 0.8em;
`),an=i.$.css({height:"2.4em",cursor:"pointer",color:"#fff","justify-content":"space-between","align-items":"center",padding:"0 0.75em","line-height":"1",display:"flex",overflow:"hidden","& > *":{"pointer-events":"none"},"&:hover":{"background-color":"rgba(255, 255, 255, 0.1)"},"&[aria-checked='true']":{["& ."+le]:{display:"block"},"&[data-index]":{"background-color":"rgba(255, 255, 255, 0.1)"},["& ."+tt]:{"background-color":"var(--primary-color)","&:before":{transform:"translateX(1em)"}}}}),vt=i.$.css({display:"flex","align-items":"center","margin-right":"10px","& > svg":{width:"1.7em",height:"1.7em","margin-right":"0.5em"}}),Ot=i.$.css(`
  display: flex;
  align-items: center;
`),ln=i.$.css({width:"100%",display:"flex","align-items":"center","border-bottom":"1px solid rgb(255 255 255 / 10%)"}),bt=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fe;return"<svg "+(e?'class="'+e+'"':"")+' viewBox="0 0 32 32"><path d="m 12.59,20.34 4.58,-4.59 -4.58,-4.59 1.41,-1.41 6,6 -6,6 z" fill="#fff"></path></svg>'},cn=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return'<div class="'+vt+`">
      `+t+`
      <span>`+e+`</span>
    </div>
    <svg class=`+le+` viewBox="0 0 24 24">
      <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" fill="#fff"></path>
    </svg>
`},un=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return'<div class="'+vt+`">
      `+t+`
      <span>`+e+`</span>
    </div>
    <div class=`+Ot+`>
      <span role="label" class=`+rn+`></span>
      `+bt()+`
    </div>
`},dn=e=>'<div class="'+ln+`">
      `+bt(ye)+`
      <span>`+e+`</span>
    </div>
`,hn=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return'<div class="'+vt+`">
    `+t+`
    <span>`+e+`</span>
  </div>
  <div class=`+Ot+`>
    <label class=`+Pe+`>
      <span class=`+tt+`></span>
    </label>
  </div>
`};function Ft(e){let t=e.type,n=e.key,s=e.name,a=e.icon,r=e.default,g=e.index,m=i.$.create("div."+an,{"data-key":n,role:t?"menuitem":"menuitemradio","aria-haspopup":t=="selector"});const b={$row:m,$label:void 0};switch(t){case"switcher":m.innerHTML=hn(s,a),m.setAttribute("aria-checked",r||!1);break;case"selector":m.innerHTML=un(s,a),b.$label=m.querySelector('span[role="label"]');break;case"back":m.innerHTML=dn(s);break;default:m.innerHTML=cn(s,a),m.setAttribute("aria-checked",r||!1),typeof g=="number"&&m.setAttribute("data-index",g.toString());break}return b}function It(e,t,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!n||n.length==0)return;const a=s.key,r=s.target,g=s.parent,m=s.isSelectorOptionsPanel,b=s.name;let h={},y=a||"root";t[0]&&y=="root"?(h=t[0],y=t[0].key):(h.$ref=i.$.create("div."+(t[0]&&m?ge:G),{"data-key":y,role:"menu"}),h.key=y,t.push(h)),h.parent=g;const k=h.key=="root";if(!k){const E=Ft({name:b,type:"back"}),S=E.$row;S.addEventListener("click",()=>{var _;h.$ref.classList.remove(H),(_=h.parent)==null||_.$ref.classList.add(H)}),i.$.render(S,h.$ref)}for(let E=0;E<n.length;E++){const S=n[E],_=S.name,O=S.type,I=S.key,R=S.children,Y=S.icon,ce=S.default,F=S.onChange,K=Ft(Object.assign({name:_,type:O,key:I,icon:Y,default:ce},!k&&m&&{index:E})),j=K.$row,ue=K.$label;if(i.$.render(j,h.$ref),i.$.render(h.$ref,r),R){const $e=O=="selector"&&R.every(Ve=>!Ve.type),de=It(e,t,R,{key:I,target:r,parent:h,isSelectorOptionsPanel:$e,name:O=="selector"?_:void 0});if(j.addEventListener("click",()=>{h.$ref.classList.remove(H),de.$ref.classList.add(H)}),$e){const Ve=R.find(Ae=>Ae.default);Ve&&(ue.innerText=Ve.name),de.select=(Ae,ct)=>{var sn;if(Ae==-1){(sn=de.$ref.querySelector("[aria-checked=true]"))==null||sn.setAttribute("aria-checked","false");return}const Et=de.$ref.querySelectorAll("[aria-checked]");if(Et.item(Ae).getAttribute("aria-checked")!="true"){Et.forEach(Qn=>Qn.setAttribute("aria-checked","false")),Et.item(Ae).setAttribute("aria-checked","true");const on=R[Ae];ue.innerText=on.name,ct&&(F==null||F(on,{index:Ae,player:e}))}},de.$ref.addEventListener("click",Ae=>{const ct=Ae.target;ct.hasAttribute("data-index")&&(de.select(+ct.getAttribute("data-index"),!0),h.$ref.classList.add(H),de.$ref.classList.remove(H))})}}else O=="switcher"&&(j.select=function($e){const de=this.getAttribute("aria-checked")=="true";this.setAttribute("aria-checked",""+!de),$e&&(F==null||F(!de))},j.addEventListener("click",()=>j.select(!0)))}return h}function pn(e){var t,n;const s=e.player,a=e.$root,r=e.config;if(r.settings===!1)return;const g=(t=r.theme.controller)==null?void 0:t.setting,m=r.settings||[],b=((n=r.theme.controller)==null?void 0:n.header)&&(g=="top"||i.Fr&&g=="auto"),h=i.$.create("div."+ee(b?"top":"bottom"),{"aria-label":"Setting"});let y=[],k=!1;const E={loop:{name:s.locales.get("Loop"),type:"switcher",key:"loop",icon:A.get("loop"),default:s.isLoop,onChange:F=>s.setLoop(F)}};R(m.map(F=>typeof F=="string"?E[F]:F));function S(F){const K=Array.isArray(F)?F:[F];R(K.map(j=>{const ue=y.find($e=>$e.key==j.key);if(ue){_(ue.key);return}return j}).filter(Boolean))}function _(F){var K,j;k&&((j=(K=y[0])==null?void 0:K.$ref.querySelector("[data-key="+F+"]"))==null||j.remove(),y=y.filter(ue=>ue.key===F?(ue.$ref.remove(),ue=null,!1):!0))}function O(F,K){if(!k)return;const j=h.querySelector('[data-key="'+F+'"] span[role="label"]');j&&(j.innerText=K)}function I(F,K){var j;let ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(k)if(typeof K=="number")for(let $e=0;$e<y.length;$e++){const de=y[$e];if(de.key==F){de.select(K,ue);break}}else(j=h.querySelector('[data-key="'+F+'"][aria-checked]'))==null||j.select(ue)}function R(F){var K;F.length<1||(k||(k=!0,i.$.render(h,a),ce(),(K=e.keyboard)==null||K.register({c:Y})),It(s,y,F,{target:h}))}function Y(){s.$root.classList.add(se),y[0].$ref.classList.add(H);function F(K){h.contains(K.target)||(s.$root.classList.remove(se),y.forEach(j=>j.$ref.classList.remove(H)),document.removeEventListener("click",F))}setTimeout(()=>{document.addEventListener("click",F)})}function ce(){const F=i.$.create("button",{class:f+" "+B,"aria-label":s.locales.get("Settings"),"data-tooltip-pos":g=="top"?"down":""},""+A.get("setting"));F.addEventListener("click",j=>{j.stopPropagation(),Y()});const K=[r.pictureInPicture&&s.isPipEnabled,r.fullscreen].filter(Boolean).length;if(b){const j=e.$controllerBar.lastElementChild;j.insertBefore(F,j.children[j.children.length])}else{const j=e.$controllerBottom.lastElementChild;j.insertBefore(F,j.children[j.children.length-K])}}e.setting={register:S,unregister:_,updateLabel:O,select:I}}const gn=i.$.css({position:"absolute",top:0,left:0,right:0,"z-index":7,padding:"0.5em 0.5em 0",transition:"transform 0.3s ease",height:"var(--control-bar-height)","&::before":{position:"absolute",content:"''",width:"100%",display:"block",top:0,left:0,bottom:"-1em","z-index":-1,transition:"opacity 0.3s ease","pointer-events":"none","background-image":"linear-gradient(rgba(0, 0, 0, .3), transparent)"},"& > div:nth-child(1)":{overflow:"hidden",flex:"1 1 0","margin-right":"0.5em"},["& > div:nth-child(2) ."+p+":last-child ."+o]:{right:"max(50%,3em)"},["@global ."+W+" &"]:{transform:"translateY(calc(-100%))","&::before":{opacity:0}}}),fn=i.$.css("width: 2.5em;height: 2.5em;margin:0 -10px;transform: rotate(180deg);"),zt=i.$.css("flex:1;font-size:1em;margin: 0 0.25em;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;"),mn=(e,t)=>{var n,s,a;const r=e.player,m=(n=e.config.theme.controller)==null?void 0:n.header;if(!m)return;const b=m==null?void 0:m.back,h=b&&i.Fr,y=e.$controllerBar=i.$.create("div",{class:gn+" "+N},'<div class="'+x+`">
    `+(h?`<span role='button' class="`+fn+" "+(b=="fullscreen"?be:"")+'">'+bt("")+"</span>":"")+`
      <h2 class='`+zt+"'>"+(((a=(s=r.options)==null?void 0:s.source)==null?void 0:a.title)||"")+`</h2>
    </div>
    <div class="`+x+'"></div>'),k=y.querySelector("."+zt);if(h){const E=k.previousElementSibling;E.addEventListener("click",S=>{r.isFullScreen&&r.exitFullscreen(),r.emit("backward",S)}),b=="fullscreen"&&r.on("fullscreenchange",()=>{r.isFullScreen?E.classList.remove(be):E.classList.add(be)})}r.on("videosourcechanged",E=>{let S=E.payload;k.innerText=S.title||""}),i.$.render(y,t)},vn=i.$.css(Fe||(Fe=te([`
  width: 2.65em;
  display: flex;
  height: 7.65em;
  box-sizing: border-box;
  flex-direction: column;
`]))),Mt=i.$.css(`
  width: 100%;
  text-align: center;
  height: 28px;
  line-height: 28px;
  margin-bottom: 2px;
  font-size: 0.75em;
`),Rt=i.$.css(`
  position: relative;
  display: flex;
  justify-content: center;
  flex: 1;
  cursor: pointer;
  padding: 5px 0 14px;
`),bn=i.$.css(`
  height: 100%;
  width: 4px;
  position: relative;
`),yn=i.$.css(`
  width: 4px;
  height: 100%;
  overflow: hidden;
  border-radius: 2px;
  background: rgba(255, 255, 255, 0.3);
`),Bt=i.$.css(`
  height: 100%;
  background-color: var(--primary-color);
  transform-origin: 0 100%;
`),Dt=i.$.css(Ie||(Ie=te([`
  position:absolute;
  bottom: 0;
  top: auto;
  left: -4px;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background-color: var(--primary-color);
  vertical-align: middle;
  pointer-events: none;
  `]))),$n=(e,t)=>{const n=i.$.create("div."+vn,{},"<div class="+Mt+`>100</div>

    <div class=`+Rt+`>
        <div class=`+bn+`>
          <div class=`+yn+`>
            <div class=`+Bt+`></div>
          </div>

          <div class=`+Dt+`></div>
        <div>
      </div>`),s=n.querySelector("."+Rt),a=n.querySelector("."+Dt),r=n.querySelector("."+Bt),g=n.querySelector("."+Mt),m=y=>{const k=s.getBoundingClientRect(),E=(k.bottom-(y.clientY||y.changedTouches[0].clientY))/k.height;return E>=1?1:E<=0?0:E},b=y=>{y.preventDefault(),e.setVolume(h(m(y)))},h=y=>(g.innerText=""+~~(y*100),r.style.transform="scaleY("+y+")",a.style.bottom="calc("+~~(y*100)+"% - 6px)",y);h(e.volume),e.on("volumechange",()=>{h(e.isMuted?0:e.volume)}),s.addEventListener(De.dragStart,y=>{b(y),document.addEventListener(De.dragMove,b,{passive:!1}),document.addEventListener(De.dragEnd,()=>{document.removeEventListener(De.dragMove,b)},{once:!0})}),i.$.render(n,t)},Ht=i.$.css(`
  display: none;
  bottom: 15px;
  position: absolute;
  left: 50%;
  padding: 6px 8px;
  background-color: var(--shadow-background-color);
  color: #fff;
  border-radius: 2px;
  white-space: nowrap;
  word-break: nowrap;
  transform: translateX(-50%);`),jt=i.$.css({position:"absolute",width:"0.8em",height:"0.33em","background-color":"var(--highlight-color)",transform:"translateX(-3px)",transition:"all 0.2s",["&:hover > ."+Ht]:{display:"block"}});function xn(e,t){const n=e.player,s=e.config.highlight;let a=[];t.style.setProperty("--highlight-color",(s==null?void 0:s.color)||"#FFF");function r(h){const y=i.$.create("div."+jt,{},'<span class="'+Ht+'">'+h.text+"</san>");return y.style.left=h.left+"%",y}function g(h,y){a.forEach(k=>k.remove());for(let k=0;k<h.length;k++){const E=h[k],S=r({left:E.time/y*100,text:E.text});a.push(S),i.$.render(S,t)}}function m(h){b(h)}function b(h){n.duration!==1/0&&n.duration>0?g(h,n.duration):n.once("loadedmetadata",function(){g(h,n.duration)})}s!=null&&s.source&&b(s.source),n.on("videosourcechange",()=>{a.forEach(h=>h.remove()),a=[]}),e.changHighlightSource=m}const Nt=i.$.css(`
  position: absolute;
  left: 0;
  bottom: 12px;
  pointer-events: none;
  transform: translateX(-50%);
  background-position-y: center;
  border-radius: 2px;
  display: none;`),Vt=i.$.css(`
  position: absolute;
  left: 0;
  bottom: 12px;
  pointer-events: none;
  border-radius: 2px;
  display: none;`),wn={width:160,height:90};function kn(e,t){const n=e.config.thumbnails,s=e.player;let a=!1,r;const g=i.$.render(i.$.create("div."+Nt),t);function m(h){if(!a||!h)a=!0,g.style.width=r.width+"px",g.style.height=r.height+"px",Array.isArray(r.src)||(g.style.backgroundImage="url("+r.src+")");else{const y=[r.width/2,t.clientWidth],k=y[0],E=y[1],S=k/E,_=(E-k)/E;if(g.style.left=(h<S?S:h>_?_:h)*100+"%",Array.isArray(r.src)){const O=r.number*h,I=Math.ceil(O/(r.x*r.y))-1,R=O%r.number,Y=Math.floor(R/r.x),ce=Math.ceil(R%r.x);g.style.backgroundImage="url("+r.src[I]+")",g.style.backgroundPosition=-ce+"00% "+-Y+"00%"}else{const O=Math.floor(h*r.number);g.style.backgroundPositionX="-"+O+"00%"}}}function b(h){a=!1,r=Object.assign({},wn,h),r.y&&!Array.isArray(r.src)&&(r.src=[r.src]),e.progressHoverCallback.push(m)}n!=null&&n.src&&b(n),s.on("videosourcechange",()=>{a=!1,g.style.backgroundImage="none",e.progressHoverCallback.splice(e.progressHoverCallback.findIndex(h=>h==m),1)}),e.changThumbnails=b}const yt=i.$.css({"background-color":"hsla(0, 0%, 100%, 0.4)"}),$t=i.$.css({"background-color":"var(--primary-color)"}),nt=i.$.css({"pointer-events":"none",position:"relative","& > *":{display:"block",position:"absolute",width:"1.4em",height:"1.4em",top:"0",left:"0",margin:"-0.535em 0 0 -0.7em",transform:i.Fr?"none":"scale(0)",transition:"transform 0.3s ease","z-index":"1"},"& > *:not(svg)":{width:"1em",height:"1em",margin:"-0.335em 0 0 -0.5em","border-radius":"50%","background-color":"#fff"}}),xt=i.$.css({position:"absolute",left:"0","border-radius":"2px",padding:"6px 8px","background-color":"var(--shadow-background-color)",color:"#fff","z-index":"2","pointer-events":"none",transform:"translateX(-50%)",display:"none",bottom:"15px"}),Ne=i.$.css("/* progressDragging */"),qt=i.$.css(Object.assign({position:"relative","box-sizing":"border-box",padding:"0.5em",cursor:"pointer",width:"100%","font-size":"0.75em",transition:"padding 0.3s ease",["&."+Ne+" ."+xt+", &."+Ne+" ."+Nt+", &."+Ne+" ."+Vt]:{display:"block"}},i.Fr?{["@global ."+W+" ."+nt+" > *"]:{transform:"scale(0)"}}:{["&."+Ne+" ."+nt+" > *, &:hover ."+nt+" > *"]:{transform:"scale(1)"}})),En=i.$.css({position:"relative",height:"0.33em",width:"100%","background-color":"hsla(0, 0%, 100%, 0.2)","border-radius":"1em",["& ."+yt+", & ."+$t]:{"border-radius":"1em",overflow:"hidden",position:"absolute",left:"0",top:"0",bottom:"0","pointer-events":"none"}}),Ut=(e,t)=>{var n;const s=e.player,a=e.config;if(s.options.isLive)return;const r=e.$progress=i.$.create("div."+qt,{},"<div class="+En+`>
      <div class="`+xt+`">00:00</div>
      <div class="`+yt+`" style="width:0%"></div>
      <div class="`+$t+`" style="width:0%"></div>
      <div class="`+nt+`" style="transform: translateX(0%);">
        `+(A.get("progressIndicator")||"<span />")+`
      </div>
  </div>`),g=r.firstElementChild;(n=a.thumbnails)!=null&&n.isVTT?console.warn("vtt thumbnails support by @oplayer/pluins"):kn(e,g),e.vttThumbnailsCls=Vt,xn(e,g);const m=r.querySelector("."+yt),b=r.querySelector("."+$t),h=r.querySelector("."+nt),y=r.querySelector("."+xt);let k=!1;const E=_=>{const O=r.getBoundingClientRect(),I=((_.clientX||_.changedTouches[0].clientX)-O.left)/O.width;return I>=1?1:I<=0?0:I},S=_=>{const O=E(_),I=O*100;return b.style.width=I+"%",h.style.transform="translateX("+I+"%)",y.innerText=Ee(s.duration*O),y.style.left=I+"%",O};r.addEventListener(De.dragStart,_=>{k=!0,r.classList.add(Ne);const O=S(_);e.progressHoverCallback.forEach(R=>R(O));function I(R){R.preventDefault();const Y=S(R);e.progressHoverCallback.forEach(ce=>ce(Y))}document.addEventListener(De.dragMove,I,{passive:!1}),document.addEventListener(De.dragEnd,R=>{r.classList.remove(Ne),k=!1,document.removeEventListener(De.dragMove,I),isNaN(s.duration)||s.seek(E(R)*s.duration)},{once:!0})}),i.Fr||(r.addEventListener("mouseenter",()=>{k||e.progressHoverCallback.forEach(_=>_())}),r.addEventListener("mousemove",_=>{if(k)return;r.classList.add(Ne),_.target.classList.contains(jt)?y.style.display="none":y.removeAttribute("style");const O=E(_);y.innerText=Ee(s.duration*O),y.style.left=O*100+"%",e.progressHoverCallback.forEach(I=>I(O))},{passive:!1}),r.addEventListener("mouseleave",()=>{k||r.classList.remove(Ne)})),s.on(["timeupdate","seeking"],()=>{if(k)return;const _=s.currentTime,O=s.duration,I=_/O*100||0;b.style.width=I+"%",h.style.transform="translateX("+I+"%)"}),s.on("progress",()=>{const _=s.buffered.length?s.buffered.end(s.buffered.length-1)/s.duration*100:0;m.style.width=_+"%"}),s.on("videosourcechange",()=>{m.style.width="0%",b.style.width="0%",h.style.transform="translateX(0%)"}),i.$.render(r,t)},Wt=i.$.css({position:"absolute",left:0,right:0,bottom:0,"z-index":7,padding:"0 0.5em",transition:"transform 0.3s ease, padding 0.3s ease","min-height":"var(--control-bar-height)","&::before":{position:"absolute",content:"''",width:"100%",display:"block",bottom:0,left:0,"z-index":-1,top:"-1em",transition:"opacity 0.3s ease","pointer-events":"none","background-image":"linear-gradient(transparent, rgba(0, 0, 0, .3))"},["@global ."+W+" &"]:{"pointer-events":"none",transform:"translateY(calc(100% - 0.55em))",padding:0,"&::before":{opacity:0}},["@global ."+W+" ."+qt]:{"padding-left":0,"padding-right":0}}),Sn=(e,t)=>{var n,s,a;const r=e.player,g=e.config,m=i.$.render(i.$.create("div."+Wt),t);(n=g.theme.progress)!=null&&n.mini||i.$.css({["@global ."+W+" ."+Wt]:{transform:"translateY(100%)"}});const b=[r.locales.get("Play"),r.locales.get("Pause"),r.locales.get("Screenshot"),r.locales.get("Picture in Picture"),r.locales.get(r.isFullscreenEnabled?"Fullscreen":"WebFullscreen"),r.locales.get("Previous"),r.locales.get("Next")],h=b[0],y=b[1],k=b[2],E=b[3],S=b[4],_=b[5],O=b[6],I=A.get("previous")||"",R=A.get("next")||"",Y=e.$controllerBottom=i.$.create("div."+N,{},'<div class="'+x+`">

    `+(I&&'<button class="'+f+" "+B+'" aria-label="'+_+'" >'+I+"</button>")+`

      <button
        class="`+f+" "+(r.isPlaying?L:P)+" "+B+`"
        aria-label="`+h+`"
      >
        `+A.get("play")+`
        `+A.get("pause")+`
      </button>

      `+(R&&'<button class="'+f+" "+B+'" aria-label="'+O+'">'+R+"</button>")+`

      `+(r.options.isLive?'<span class="'+u+'"></span>':"")+`

      <span class=`+et+">"+(r.options.isLive||r.$video.preload=="none"?"00:00":"00:00 / --:--")+`</span>
    </div>

    <div class="`+D+`"></div>

    <div class="`+x+`">
      <div class="`+p+" "+c+`">
        <button class="`+f+" "+(r.isMuted?L:P)+`" aria-label="Volume">
            `+A.get("volume")[0]+`
            `+A.get("volume")[1]+`
        </button>
        `+(i.un?"":"<div class="+o+"></div>")+`
      </div>

      `+(g.screenshot?'<button class="'+f+" "+B+'" aria-label="'+k+`">
              `+A.get("screenshot")+`
            </button>`:"")+`

      `+(g.pictureInPicture&&r.isPipEnabled?`<button
              class="`+f+" "+B+" "+(r.isInPip?L:P)+`"
              aria-label="`+E+`">
                `+A.get("pip")[0]+`
                `+A.get("pip")[1]+`
            </button>`:"")+`

      `+(g.fullscreen?'<button class="'+f+" "+P+" "+B+'" aria-label="'+S+`">
                `+A.get("fullscreen")[0]+`
                `+A.get("fullscreen")[1]+`
              </button>`:"")+`
    </div>`);((s=g.theme.progress)==null?void 0:s.position)=="auto"&&i.Fr||((a=g.theme.progress)==null?void 0:a.position)=="center"?Ut(e,Y.querySelector("."+D)):Ut(e,m);const ce=Y.querySelector("button[aria-label=Volume]");i.un||$n(r,ce.nextElementSibling);const F=Y.querySelector("button[aria-label="+h+"]"),K=Y.querySelector("."+et),j=Y.querySelector('button[aria-label="'+S+'"]'),ue=Y.querySelector('button[aria-label="'+E+'"]'),$e=(de,Ve)=>{de.classList.add(Ve?L:P),de.classList.remove(Ve?P:L)};g.fullscreen&&r.on("fullscreenchange",()=>setTimeout(()=>{$e(j,Ke(r))})),g.pictureInPicture&&r.on(["enterpictureinpicture","leavepictureinpicture"],()=>$e(ue,r.isInPip)),r.on(["play","pause","videosourcechange"],()=>{F.setAttribute("aria-label",r.isPlaying?y:h),$e(F,r.isPlaying)}),r.on("volumechange",()=>$e(ce,r.isMuted)),r.on(["durationchange","timeupdate","seeking","seeked"],()=>{K.innerText=Ee(r.currentTime)+" "+(r.options.isLive?"":"/ "+Ee(r.duration))}),r.on("videosourcechange",()=>{K.innerText=r.options.isLive||r.$video.preload=="none"?"00:00":"00:00 / --:--"}),Y.addEventListener("click",de=>{switch(de.target.getAttribute("aria-label")){case h:case y:return r.togglePlay();case"Volume":if(i.Fr&&!i.un)return;r.isMuted?r.unmute():r.mute();break;case E:return r.togglePip();case S:St(r)||!r.isFullscreenEnabled?r.emit("fullscreenchange",{isWeb:!0}):r.toggleFullScreen();return;case k:ht(r);break;case O:r.emit("next");break;case _:r.emit("previous");break}}),i.$.render(Y,m)},_n=2e3,Ln=e=>{const t=e.player,n=e.config,s=e.$root,a=i.$.create("div");mn(e,a),Sn(e,a);const r=n.theme.controller||{},g=r.display,m=r.displayBehavior;g=="played"&&(ot(a,be),t.once("play",()=>{Qe(a,be)}));const b=()=>{var S;!t.isPlaying&&!i.Fr||Ce(t.$root,W)||Ce(t.$root,se)||Ce(t.$root,_e)||t.$root.contains(document.activeElement)&&((S=document.activeElement)==null?void 0:S.tagName)=="INPUT"||(ot(t.$root,W),t.$root.setAttribute(ne,"true"),t.emit("controlshidden",!1))},h=pt(b,_n),y=h.callee,k=h.clear,E=()=>{k(),Ce(t.$root,W)&&(Qe(t.$root,W),t.$root.setAttribute(ne,"false"),t.emit("controlsshown",!0))};m!="none"&&(t.on("play",y),t.on(["pause","videosourcechange"],E),t.on("destroy",k)),i.Fr||(t.$root.addEventListener("mousemove",S=>{E(),a.contains(S.target)||y()}),m=="delay"&&t.$root.addEventListener("mouseleave",y),m=="hover"&&t.$root.addEventListener("mouseleave",b)),e.toggleController=function(){if(Ce(a,be)){t.play();return}Ce(t.$root,W)?E():b()},i.$.render(a,s)},lt={opacity:0,"pointer-events":"none"},Tn=i.$.css(Object.assign({transition:"opacity 100ms linear",position:"absolute",top:0,bottom:0,left:0,right:0,margin:"auto",fill:"#fff",width:"3em",height:"3em","z-index":"7","& > button":{width:"100%",height:"100%","border-radius":"100%",background:"var(--primary-color)",opacity:.9,padding:"1em",transition:"transform .2s ease-in-out","&:active":{transform:"scale(.85)"},"& > *":{position:"relative",width:"1.5em",height:"1.5em",left:"-0.2em",top:"-0.25em"}},["@global ."+he+" &"]:lt,["@global ."+ie+" &"]:lt,["@global ."+_e+" &"]:lt},i.Fr&&{["@global ."+W+" &"]:lt})),Xt=(e,t)=>{const n=i.$.create("div."+Tn,{},'<button aria-label="Play" class="'+f+`" type="button">
      `+A.get("play")+`
    </button>`);return i.$.render(n,t).addEventListener("click",()=>e.play()),n},Cn=i.$.css(`
  display: none;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  color: #fff;
  background: #000;
  z-index: 7;
  align-items: center;
  padding: 0 10px;
  word-break: break-all;
  justify-content: center;
`),Yt=i.$.css("display: flex;"),Pn={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"},An=(e,t,n)=>{const s=i.$.render(i.$.create("div."+Cn,{"aria-label":"Error Overlay"}),t);function a(m){var b;let h="";if(m instanceof Event){const y=(b=m.target)==null?void 0:b.error;if(!y||!y.message&&typeof y.code!="number")return;h=y.message||Pn[y.code]}else h=m.message;s.innerText=h||"UNKNOWN_ERROR",e.$root.classList.add(_e),ot(s,Yt)}function r(){Qe(s,Yt),e.$root.classList.remove(_e),s.innerText=""}const g=m=>{n.errorBuilder?n.errorBuilder(m,s,b=>a(b)):a(m)};return e.on(["videosourcechange","videoqualitychange","loadedmetadata"],r),e.on("error",m=>{let b=m.payload;return g(b)}),a},On=i.$.css({position:"absolute",top:"0",bottom:"0",left:"0",right:"0",display:"none","align-items":"center","justify-content":"center",["@global ."+ie+" &"]:{display:"flex"}}),Fn=i.$.css({position:"relative",overflow:"hidden",width:"20%",height:"4px","border-radius":"4px","&::before,&::after":{display:"block",content:"''",position:"absolute",height:"100%",width:"100%","background-color":"var(--primary-color)","border-radius":"4px"},"&::before":{opacity:"0.4"},"&::after":{animation:"indeterminate 1.3s infinite linear","transform-origin":"0% 50%"},"@keyframes indeterminate":{"0%":{transform:"translateX(0) scaleX(0)"},"10%":{transform:"translateX(0) scaleX(0.2)"},"40%":{transform:"translateX(0) scaleX(0.7)"},"60%":{transform:"translateX(60%) scaleX(0.4)"},"100%":{transform:"translateX(100%) scaleX(0.2)"}}}),Kt=(e,t)=>{const n=i.$.create("div."+On,{"aria-label":"Loading"},""+(A.get("loadingIndicator")||'<div class="'+Fn+'"></div>'));i.$.render(n,t)},In=i.$.css({width:"100%",height:"100%",position:"absolute",top:"0",left:"0",right:"0",bottom:"0",["@global ."+se+" &"]:{"z-index":"8"}}),zn=e=>{const t=e.player,n=e.$root,s=e.$mask=i.$.create("div."+In);let a=0,r;s.addEventListener("click",()=>{Ce(t.$root,se)||(i.Fr?e.toggleController():(a==0&&t.togglePlay(),r&&clearTimeout(r),r=window.setTimeout(()=>{a==2&&(t.togglePlay(),t.toggleFullScreen()),a=0},200)),a+=1)}),i.$.render(s,n)},Gt=e=>{const t=e.getAttribute("aria-checked")=="true";e.setAttribute("aria-checked",""+!t),Ct(e,n=>n.setAttribute("aria-checked",""+t))},Mn=e=>{var t;const n=e.config.menu,s=[],a=(t=e.$controllerBar)==null?void 0:t.lastElementChild,r=e.$controllerBottom.lastElementChild,g=[a,r].filter(Boolean);function m(k){var E,S;const _=k.target,O=_.getAttribute("aria-label"),I=s.find(R=>R.name==O);!I||_.getAttribute("aria-checked")=="true"||(_.tagName.toUpperCase()=="SPAN"?(Gt(_),(E=I.onChange)==null||E.call(I,I.children[+_.getAttribute("data-index")],_.parentElement.previousElementSibling,e.player)):_.tagName.toUpperCase()=="BUTTON"&&((S=I.onClick)==null||S.call(I,_,e.player)))}g.forEach(k=>{k.addEventListener("click",m)});function b(k){const E=s.find(F=>F.name==k.name);E&&h(E.name);const S=k.name,_=k.icon,O=k.children,R=k.position=="top"&&g.length==2;let Y="";const ce=`
    <button
      aria-label="`+S+`"
      `+(R?'data-tooltip-pos="down"':"")+`
      class="`+f+" "+(_?"":$)+" "+(k.children?"":B)+`"
      type="button"
    >`+(_||S)+"</button>";k.children?Y=`
      <div class="`+p+" "+c+'" data-dropdown-pos="'+k.position+'" aria-label="'+S+`">
        `+ce+`
        <div class='`+o+" "+(R?l:"")+`' role='menu'>
          `+O.map((F,K)=>`<span
                  role="menuitemradio"
                  aria-haspopup="false"
                  aria-label="`+S+`"
                  class="`+w+`"
                  aria-checked="`+!!F.default+`"
                  data-index="`+K+`"
                >`+F.name+"</span>").join("")+`
          </div>
      </div>`:Y=ce,R?a.insertAdjacentHTML("afterbegin",Y):r.insertAdjacentHTML("afterbegin",Y),s.push(k)}function h(k){g.forEach(E=>{var S,_;(S=E.querySelector("button[aria-label="+k+"]"))==null||S.remove(),(_=E.querySelector("div[aria-label="+k+"]"))==null||_.remove()})}function y(k,E){let S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;g.forEach(_=>{const O=_.querySelector("."+o+" > span[aria-label="+k+"]:nth-child("+(E+1)+")");O&&(Gt(O),S&&O.click())})}n&&n.forEach(b),e.menu={register:function(k){(Array.isArray(k)?k:[k]).forEach(b)},unregister:h,select:y}},Qt=i.$.css({position:"absolute",display:"none",top:"0.625em",left:"0.625em",right:"0.625em","z-index":9,"margin-top":"var(--control-bar-height)",transition:"margin 0.2s",["@global ."+W+" &"]:{"margin-top":0}}),Jt=i.$.css(`
  -moz-user-select: all;
  -webkit-user-select: all;
  -ms-user-select: all;
  user-select: all;
  color: #fff;
  background-color: var(--shadow-background-color);
  border-radius: 2px;
  padding: 5px 10px;
  font-size: 0.875em;
`),Zt=i.$.css(Le||(Le=te([`
  text-align: center;
`]))),en=i.$.css(xe||(xe=te([`
  text-align: right;
`]))),tn=i.$.css(Se||(Se=te([`
  bottom: 6em;
  top: initial;
`]))),Rn={center:i.$.css(Z||(Z=te([`
  top: 50%;
  text-align: center;
  transform: translateY(-50%);
`]))),left:"","top-left":"",top:Zt,"top-center":Zt,"top-right":en,right:en,bottom:tn,"left-bottom":tn},Bn=2e3,nn=i.$.css("display:block;"),Dn=e=>{const t=e.player,n=e.$root,s=i.$.create("div."+Qt,{"aria-label":"Notice"},'<span class="'+Jt+'"></span>'),a=s.querySelector("."+Jt),r=pt(()=>Qe(s,nn),Bn),g=r.callee;function m(b,h){a.innerHTML=b,s.className=Qt+" "+nn+" "+Rn[h||"left"],g()}return t.on("notice",b=>{let h=b.payload;return m(h.text,h.pos)}),e.notice=m,i.$.render(s,n),m};function Hn(e){return e.replace(/(\d\d:\d\d:\d\d)[,.](\d+)/g,(t,n,s)=>{let a=s.slice(0,3);return s.length===1&&(a=s+"00"),s.length===2&&(a=s+"0"),n+","+a})}function jn(e){return`WEBVTT \r
\r
`.concat(Hn(e).replace(/\{\\([ibu])\}/g,"</$1>").replace(/\{\\([ibu])1\}/g,"<$1>").replace(/\{([ibu])\}/g,"<$1>").replace(/\{\/([ibu])\}/g,"</$1>").replace(/(\d\d:\d\d:\d\d),(\d\d\d)/g,"$1.$2").replace(/{[\s\S]*?}/g,"").concat(`\r
\r
`))}function wt(e){return URL.createObjectURL(new Blob([e],{type:"text/vtt"}))}function Nn(e){const t=new RegExp("Dialogue:\\s\\d+,(\\d+:\\d\\d:\\d\\d.\\d\\d),(\\d+:\\d\\d:\\d\\d.\\d\\d),([^,]*),([^,]*),(?:[^,]*,){4}(.*)$","i");return`WEBVTT\r
\r
`+e.split(/\r?\n/).map(n=>{const s=n.match(t);return!s||!s[1]||!s[2]||!s[5]?null:{start:s[1],end:s[2],text:Vn(s[5].replace(/{[\s\S]*?}/g,"").replace(/\\N/g,`\r
`).replace(/\\n/g," ").replace(/\\h/g,"&nbsp;"))}}).filter(n=>n!=null).map((n,s)=>s+1+`\r
0`+n.start+"0 --> 0"+n.end+`0\r
`+n.text).join(`\r
\r
`)}function Vn(e){return e.replace(/[&<>'"]/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[t]||t)}const kt="Subtitle";function qn(e){const t=e.player,n=e.$root,s=e.config.subtitle,a=e.setting;return e.subtitle=new Un(t,a,n,s)}class Un{constructor(t,n,s,a){if(this.player=t,this.setting=n,this.el=s,this.isShow=!1,this.update=()=>{let r="";const g=this.$track.track.activeCues;if(g!=null&&g.length)for(let m=0;m<g.length;m++){const b=g[m];b&&(r+=b.text.replace(/\\h/g,"&nbsp;").split(/\r?\n/).map(h=>"<p><span>"+h+"</span></p>").join(""))}this.$dom.innerHTML=r},!window.TextDecoder){t.emit("notice",{text:t.locales.get("TextDecoder not supported")});return}this.options=Object.assign({source:[]},a),this.processDefault(this.options.source),this.createContainer(),this.fetchSubtitle(),this.loadSetting(),this.player.on(["destroy","videosourcechange"],this.destroy.bind(this)),this.player.on("videoqualitychang",()=>{this.isShow&&this.hide()}),this.player.on("videoqualitychanged",this.fetchSubtitle.bind(this))}changeSource(t){var n;(n=this.setting)==null||n.unregister(kt),this.processDefault(t);const s=()=>{this.loadSetting(),this.player.emit("subtitlesourcechange",t),this.fetchSubtitle()};this.player.isSourceChanging||isNaN(this.player.duration)||this.player.duration<1?this.player.once("loadedmetadata",s):s()}createContainer(){const t=this.el,n=this.options,s=n.color,a=n.shadow,r=n.fontSize,g=n.bottom,m=n.fontFamily,b=n.background,h=n.marginBottom;this.$dom=i.$.create("div."+i.$.css(Object.assign({left:"2%",right:"2%","text-align":"center","pointer-events":"none",position:"absolute","line-height":"1.5","font-family":m||"inherit",color:s||"#fff","text-shadow":a||"1px 0 1px #000, 0 1px 1px #000, -1px 0 1px #000, 0 -1px 1px #000, 1px 1px 1px #000, -1px -1px 1px #000, 1px -1px 1px #000, -1px 1px 1px #000",bottom:g||"2%","font-size":(r||(i.Fr?16:20))/16+"em","& > p":{margin:0,"& span":{"white-space":"pre-wrap",background:b?"rgba(8, 8, 8, 0.75)":"inherit",padding:"0 0.25em"}}},!i.Fr&&{"margin-bottom":h||"2.2em",transition:"margin 0.3s",["@global ."+W+" &"]:{"margin-bottom":0}})),{"aria-label":"Subtitle"}),i.$.render(this.$dom,t)}createTrack(){const t=this.player.$video;if(this.$track=i.$.render(i.$.create("track",{default:!0,kind:"metadata",id:"primary"}),t),!this.player._requestFullscreen){const n=this.$iosTrack=i.$.create("track",{default:!1,kind:"captions",id:"__Orz__"}),s=n.track;s.mode="hidden",i.$.render(this.$iosTrack,t),this.player.on("fullscreenchange",a=>{a.payload.isWeb||setTimeout(()=>{const g=this.player.isFullScreen&&this.isShow;s.mode=g?"showing":"hidden"})})}}changeOffset(){var t;const n=(t=this.currentSubtitle)==null?void 0:t.offset;n&&[this.$track,this.$iosTrack].forEach(s=>{if(!s)return;const a=s.track.cues,r=this.player.duration;Array.from(a||[]).forEach(g=>{g.startTime=Ge(g.startTime+n,0,r),g.endTime=Ge(g.endTime+n,0,r)})})}processDefault(t){this.options.source=t,this.currentSubtitle=Wn(t)}show(){this.isShow=!0,this.$track.addEventListener("cuechange",this.update)}hide(){const t=this.$track,n=this.$dom;this.isShow=!1,n.innerHTML="",t.removeEventListener("cuechange",this.update)}fetchSubtitle(){if(!this.currentSubtitle)return;this.$track||this.createTrack();const t=this.currentSubtitle,n=this.player,s=this.$track,a=this.$iosTrack,r=t.src,g=t.encoding,m=t.type,b=m===void 0?"auto":m;return fetch(r).then(h=>h.arrayBuffer()).then(h=>{var y;const E=new TextDecoder(g).decode(h);switch(b=="auto"?(y=/srt|ass|vtt(#|\?|$)/i.exec(r))==null?void 0:y[0]:b){case"srt":return wt(jn(E));case"ass":return wt(Nn(E));case"vtt":return wt(E);default:return r}}).then(h=>{s.src&&URL.revokeObjectURL(s.src),a!=null&&a.src&&URL.revokeObjectURL(a.src),this.$track.addEventListener("load",()=>{this.changeOffset(),this.show()},{once:!0}),s.src=h,a&&(a.src=h)}).catch(h=>{n.emit("notice",{text:"Subtitle"+h.message})})}loadSetting(){if(!this.setting)return;const t=this.options.source;t.length&&this.setting.register({name:this.player.locales.get("Subtitle"),type:"selector",icon:A.get("subtitle"),key:kt,onChange:n=>{var s;let a=n.value;a?a.src==((s=this.currentSubtitle)==null?void 0:s.src)?this.show():(this.currentSubtitle=a,this.$dom.innerHTML="",this.fetchSubtitle()):this.hide()},children:[{name:this.player.locales.get("OFF"),default:!this.currentSubtitle}].concat(t==null?void 0:t.map(n=>{var s;return{name:n.name,default:((s=this.currentSubtitle)==null?void 0:s.src)==n.src,value:n}}))})}destroy(){var t;const n=this.$dom,s=this.$track,a=this.$iosTrack;s==null||s.removeEventListener("cuechange",this.update),(t=this.setting)==null||t.unregister(kt),s!=null&&s.src&&URL.revokeObjectURL(s.src),a!=null&&a.src&&URL.revokeObjectURL(a.src),s==null||s.remove(),a==null||a.remove(),n.innerHTML="",this.isShow=!1,this.$track=this.$iosTrack=void 0}}function Wn(e){return e.find(t=>t.default)}const Xn=(e,t)=>{const n=t.theme.watermark;if(!n)return;const s=e.$watermark=document.createElement("img");s.setAttribute("alt","watermark");for(const a in n.style)s.style[a]=n.style[a];for(const a in n.attrs)s.setAttribute(a,n.attrs[a]);s.src=n.src,e.$root.appendChild(s)},Yn={theme:{primaryColor:"#6668ab",progress:{position:"top",mini:!0},controller:{setting:"auto",display:"always",coverButton:!0,displayBehavior:"hover"}},fullscreen:!0,autoFocus:!0,forceLandscapeOnFullscreen:!0,settings:["loop"],keyboard:{focused:!0},speeds:["2.0","1.5","1.25","1.0","0.75","0.5"]};class Kn{constructor(t){var n;this.key="ui",this.version="1.3.0-beta.0",this.name="oplayer-theme-ui",this.keyboard={},this.setting={},this.menu={},this.progressHoverCallback=[],this.config=(0,i.D9)({},Yn,t),(n=this.config.keyboard)!=null&&n.global&&(this.config.keyboard.focused=!1)}apply(t){var n;const s=this.config;this.player=t;const a=this.$root=i.$.create("div."+C(s));if(Xn(this,s),t.isNativeUI){Be(t),Xt(t,a),Kt(t,a),i.$.render(a,t.$root);return}return this.icons=A.setupIcons(s.icons),_t(t,s),Pt(this),An(t,a,s),Dn(this),Kt(t,a),(n=s.theme.controller)!=null&&n.coverButton&&(this.$coverButton=Xt(t,a)),Ln(this),zn(this),pn(this),Mn(this),qn(this),At(this),ft(this),at(t,s),i.$.render(a,t.$root),this}destroy(){}}function Gn(e){return new Kn(e)}}}]);
