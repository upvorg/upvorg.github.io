"use strict";(self.webpackChunk_web_index=self.webpackChunk_web_index||[]).push([[412],{1752:(L,C,n)=>{n.d(C,{A:()=>u});var t=n(2882),o=n(1770),m=n(149),O=n(3012),D=n.n(O),b=n(2137),v=n(2499),N=n(6071),h=n(2e3);const y={},u=({id:g,onFocus:f,onBlur:E})=>{const[x,$]=(0,o.useState)(null),[P,k]=(0,o.useState)(""),p=(0,v.k)();(0,o.useEffect)(()=>{N.pY.get(`/post/${g}/comments`).then(i=>{$((i==null?void 0:i.data)||[])}).catch(()=>{$([])})},[]);const M=()=>{if(!P){m.Ay.error("\u5199\u70B9\u4EC0\u4E48\u5427");return}N.pY.post(`/post/${g}/comment`,{data:{content:P}}).then(i=>{i.err||(k(""),$([i.data,...x]))})},S=i=>{i.ctrlKey&&i.keyCode===13&&M()};return(0,t.jsxs)("div",{className:"video-comment",children:[(0,t.jsx)("div",{className:"video-comment__title",children:(0,t.jsx)("h4",{children:"\u8BC4\u8BBA"})}),(0,t.jsxs)("div",{className:"video-comment-edit",children:[(0,t.jsx)("img",{className:"video-comment-edit__avatar",src:(p==null?void 0:p.Avatar)||"/ic_launcher_round.png",alt:""}),(0,t.jsx)("textarea",{className:"video-comment-edit__input",placeholder:"\u7559\u4E0B\u8BC4\u8BBA...",disabled:!p,value:P,onChange:i=>k(i.target.value),onKeyDown:S,onFocus:i=>f==null?void 0:f(i),onBlur:i=>E==null?void 0:E(i)}),(0,t.jsx)("button",{disabled:!p||!P,className:"button is-primary video-comment-edit__button",onClick:M,children:"\u8BC4\u8BBA"})]}),(0,t.jsx)("div",{className:"comment-list",children:x?x.length>0?(0,t.jsx)("ul",{children:x.map(i=>{var A,F;return(0,t.jsxs)("li",{className:D()("comment-item",{"--o":(p==null?void 0:p.ID)==i.Uid}),children:[(0,t.jsxs)("div",{className:"comment-item__head",children:[(0,t.jsx)("img",{className:"comment-item__avatar",src:(A=i.Creator)==null?void 0:A.Avatar,alt:""}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"comment-item__name",children:(F=i.Creator)==null?void 0:F.Nickname}),(0,t.jsx)("p",{className:"comment-item__time",children:(0,b.D$)(i.CreatedAt)})]})]}),(0,t.jsx)("div",{className:"comment-item__content",children:(0,t.jsx)("p",{children:i.Content})})]},i.ID)})}):(0,t.jsx)("p",{className:"empty",children:"\u6682\u65E0\u8BC4\u8BBA"}):(0,t.jsx)(h.BQ,{})})]})}},3338:(L,C,n)=>{n.d(C,{Y:()=>o});var t=n(2882);const o=({tags:m})=>m.length?(0,t.jsx)("div",{className:"tags are-medium",children:m.map(({href:O,title:D},b)=>(0,t.jsx)("a",{className:"tag is-primary is-light",href:O,target:"_blank",style:{fontSize:"0.9rem"},children:D},b))}):null},2e3:(L,C,n)=>{n.d(C,{BQ:()=>i,BI:()=>A,M4:()=>F});var t=n(2882),o=n(1770);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var m=function(){return m=Object.assign||function(s){for(var d,a=1,c=arguments.length;a<c;a++){d=arguments[a];for(var l in d)Object.prototype.hasOwnProperty.call(d,l)&&(s[l]=d[l])}return s},m.apply(this,arguments)};function O(e,s){var d={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&s.indexOf(a)<0&&(d[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(e);c<a.length;c++)s.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(d[a[c]]=e[a[c]]);return d}var D=function(){return Math.random().toString(36).substring(6)},b=function(e){var s=e.animate,d=s===void 0?!0:s,a=e.backgroundColor,c=a===void 0?"#f5f6f7":a,l=e.backgroundOpacity,_=l===void 0?1:l,B=e.baseUrl,H=B===void 0?"":B,I=e.children,Y=e.foregroundColor,w=Y===void 0?"#eee":Y,j=e.foregroundOpacity,K=j===void 0?1:j,U=e.gradientRatio,G=U===void 0?2:U,re=e.uniqueKey,V=e.rtl,ne=V===void 0?!1:V,z=e.speed,ae=z===void 0?1.2:z,Q=e.style,oe=Q===void 0?{}:Q,W=e.title,X=W===void 0?"Loading...":W,J=e.beforeMask,T=J===void 0?null:J,ce=O(e,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","rtl","speed","style","title","beforeMask"]),R=re||D(),Z="".concat(R,"-diff"),q="".concat(R,"-animated-diff"),ee="".concat(R,"-aria"),ie=ne?{transform:"scaleX(-1)"}:null,le="".concat(ae,"s"),te="".concat(G*-1," 0"),se="".concat(G," 0");return(0,o.createElement)("svg",m({"aria-labelledby":ee,role:"img",style:m(m({},oe),ie)},ce),X?(0,o.createElement)("title",{id:ee},X):null,T&&(0,o.isValidElement)(T)?T:null,(0,o.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url(".concat(H,"#").concat(Z,")"),style:{fill:"url(".concat(H,"#").concat(q,")")}}),(0,o.createElement)("defs",null,(0,o.createElement)("clipPath",{id:Z},I),(0,o.createElement)("linearGradient",{id:q,gradientTransform:"translate(".concat(te,")")},(0,o.createElement)("stop",{offset:"0%",stopColor:c,stopOpacity:_}),(0,o.createElement)("stop",{offset:"50%",stopColor:w,stopOpacity:K}),(0,o.createElement)("stop",{offset:"100%",stopColor:c,stopOpacity:_}),d&&(0,o.createElement)("animateTransform",{attributeName:"gradientTransform",type:"translate",values:"".concat(te,"; 0 0; ").concat(se),dur:le,repeatCount:"indefinite"}))))},v=function(e){return e.children?(0,o.createElement)(b,m({},e)):(0,o.createElement)(N,m({},e))},N=function(e){return(0,o.createElement)(v,m({viewBox:"0 0 476 124"},e),(0,o.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,o.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,o.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,o.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,o.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,o.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},h=function(e){return createElement(v,m({viewBox:"0 0 400 460"},e),createElement("circle",{cx:"31",cy:"31",r:"15"}),createElement("rect",{x:"58",y:"18",rx:"2",ry:"2",width:"140",height:"10"}),createElement("rect",{x:"58",y:"34",rx:"2",ry:"2",width:"140",height:"10"}),createElement("rect",{x:"0",y:"60",rx:"2",ry:"2",width:"400",height:"400"}))},y=function(e){return createElement(v,m({viewBox:"0 0 340 84"},e),createElement("rect",{x:"0",y:"0",width:"67",height:"11",rx:"3"}),createElement("rect",{x:"76",y:"0",width:"140",height:"11",rx:"3"}),createElement("rect",{x:"127",y:"48",width:"53",height:"11",rx:"3"}),createElement("rect",{x:"187",y:"48",width:"72",height:"11",rx:"3"}),createElement("rect",{x:"18",y:"48",width:"100",height:"11",rx:"3"}),createElement("rect",{x:"0",y:"71",width:"37",height:"11",rx:"3"}),createElement("rect",{x:"18",y:"23",width:"140",height:"11",rx:"3"}),createElement("rect",{x:"166",y:"23",width:"173",height:"11",rx:"3"}))},r=function(e){return createElement(v,m({viewBox:"0 0 400 110"},e),createElement("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"}),createElement("rect",{x:"20",y:"20",rx:"3",ry:"3",width:"220",height:"10"}),createElement("rect",{x:"20",y:"40",rx:"3",ry:"3",width:"170",height:"10"}),createElement("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"}),createElement("rect",{x:"20",y:"80",rx:"3",ry:"3",width:"200",height:"10"}),createElement("rect",{x:"20",y:"100",rx:"3",ry:"3",width:"80",height:"10"}))},u=function(e){return createElement(v,m({viewBox:"0 0 245 125"},e),createElement("circle",{cx:"10",cy:"20",r:"8"}),createElement("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}),createElement("circle",{cx:"10",cy:"50",r:"8"}),createElement("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}),createElement("circle",{cx:"10",cy:"80",r:"8"}),createElement("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}),createElement("circle",{cx:"10",cy:"110",r:"8"}),createElement("rect",{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"}))};const g=v;var f=Object.defineProperty,E=Object.defineProperties,x=Object.getOwnPropertyDescriptors,$=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,p=(e,s,d)=>s in e?f(e,s,{enumerable:!0,configurable:!0,writable:!0,value:d}):e[s]=d,M=(e,s)=>{for(var d in s||(s={}))P.call(s,d)&&p(e,d,s[d]);if($)for(var d of $(s))k.call(s,d)&&p(e,d,s[d]);return e},S=(e,s)=>E(e,x(s));const i=e=>(0,t.jsxs)(g,S(M({viewBox:"0 0 462 160"},e),{children:[(0,t.jsx)("rect",{x:"70",y:"16",rx:"5",ry:"5",width:"100",height:"12"}),(0,t.jsx)("rect",{x:"70",y:"39",rx:"5",ry:"5",width:"321",height:"20"}),(0,t.jsx)("circle",{cx:"26",cy:"40",r:"26"})]})),A=e=>(0,t.jsxs)(g,S(M({viewBox:"0 0 500 200"},e),{style:{padding:"0.5em"},children:[(0,t.jsx)("rect",{x:"60",y:"25",rx:"5",ry:"5",width:"50",height:"10"}),(0,t.jsx)("rect",{x:"60",y:"45",rx:"5",ry:"5",width:"60",height:"10"}),(0,t.jsx)("rect",{x:"0",y:"80",rx:"5",ry:"5",width:"46%",height:"20"}),(0,t.jsx)("rect",{x:"0",y:"110",rx:"5",ry:"5",width:"100%",height:"20"}),(0,t.jsx)("rect",{x:"0",y:"140",rx:"5",ry:"5",width:"70%",height:"20"}),(0,t.jsx)("rect",{x:"0",y:"170",rx:"5",ry:"5",width:"60%",height:"20"}),(0,t.jsx)("circle",{cx:"26",cy:"40",r:"26"})]})),F=e=>(0,t.jsxs)(g,S(M({viewBox:"0 0 462 160"},e),{children:[(0,t.jsx)("rect",{x:"70",y:"16",rx:"5",ry:"5",width:"100",height:"12"}),(0,t.jsx)("rect",{x:"70",y:"39",rx:"5",ry:"5",width:"321",height:"20"}),(0,t.jsx)("circle",{cx:"26",cy:"40",r:"26"})]}));i.metadata={name:"comment",github:"comment",description:"comment",filename:"CommentSkeleton"}},1496:(L,C,n)=>{n.d(C,{o:()=>d});var t=n(1770),o=n(4830),m=n(3347),O=n(7546),D=n(8021),b=n(7022),v=n(7224),N=n(4116),h=n(5137),y=n(9959),r=n(1918),u=n(1222);const g={};var f=Object.defineProperty,E=Object.defineProperties,x=Object.getOwnPropertyDescriptors,$=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,p=(a,c,l)=>c in a?f(a,c,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[c]=l,M=(a,c)=>{for(var l in c||(c={}))P.call(c,l)&&p(a,l,c[l]);if($)for(var l of $(c))k.call(c,l)&&p(a,l,c[l]);return a},S=(a,c)=>E(a,x(c)),i=(a,c,l)=>new Promise((_,B)=>{var H=w=>{try{Y(l.next(w))}catch(j){B(j)}},I=w=>{try{Y(l.throw(w))}catch(j){B(j)}},Y=w=>w.done?_(w.value):Promise.resolve(w.value).then(H,I);Y((l=l.apply(a,c)).next())}),A,F;const e={render:{view:{menu:!1,md:!1,html:!0},classname:"markdown_render"},editor:{view:{menu:!0,md:!0,html:!1},classname:"markdown_editor"}},s=(0,o.l)().use(m.A).use(b.A).use(O.A,{allowDangerousHtml:!0}).use(D.A).use(v.A,{properties:"attr"}).use(N.A,S(M({},h.j),{attributes:S(M({},h.j.attributes),{img:[...((F=(A=h.j)==null?void 0:A.attributes)==null?void 0:F.img)||[],["style"]]})})).use(y.A),d=a=>{const{value:c="",type:l,onChange:_,customClassName:B="",placeholder:H=""}=a,{view:I,classname:Y}=e[l];let w=`markdown ${Y}`;return B&&(w+=` ${B}`),t.createElement(r.Ay,{className:w,readOnly:l==="render",view:I,value:c,htmlClass:"markdown-body",renderHTML:j=>i(void 0,null,function*(){return(yield s.process(j)).toString()}),onChange:j=>_==null?void 0:_(j.text),placeholder:H})}},2137:(L,C,n)=>{n.d(C,{D$:()=>t,Yq:()=>m});function t(h){const y=new Date,r=typeof h=="string"?new Date(h):new Date(h),u=(y.getTime()-r.getTime())/1e3;return u<30?"\u521A\u521A":u<3600?Math.ceil(u/60)+"\u5206\u949F\u524D":u<3600*24?Math.ceil(u/3600)+"\u5C0F\u65F6\u524D":u<3600*24*2?"1\u5929\u524D":u<3600*24*31?Math.ceil(u/3600/24)+"\u5929\u524D":y.getFullYear()===r.getFullYear()?`${r.getMonth()+1}\u6708${r.getDate()}\u65E5`:`${r.getFullYear()}\u5E74${r.getMonth()+1}\u6708${r.getDate()}\u65E5`}function o(h){const y=new Date,r=typeof h=="string"?new Date(h):new Date(h),u=(y.getTime()-r.getTime())/1e3;return u<3600*24?"\u4ECA\u5929":u<3600*24*2?"\u6628\u5929":u<3600*24*31?Math.ceil(u/3600/24)+"\u5929\u524D":y.getFullYear()===r.getFullYear()?`${r.getMonth()+1}\u6708${r.getDate()}\u65E5`:`${r.getFullYear()}\u5E74${r.getMonth()+1}\u6708${r.getDate()}\u65E5`}function m(h,y=!1){const r=typeof h=="string"?new Date(h):new Date(h);return new Date().getFullYear()===r.getFullYear()?`${r.getMonth()+1}\u6708${r.getDate()}\u65E5 ${y?` ${r.getHours()}:${r.getMinutes().toString().padStart(2,"0")}`:""}`:`${r.getFullYear()}\u5E74${r.getMonth()+1}\u6708${r.getDate()}\u65E5 ${y?` ${r.getHours()}:${r.getMinutes().toString().padStart(2,"0")}`:""}`}const O=1,D=2,b=3,v=4;function N(h,y=3){if(!h)return"";const r=new Date(h),u=r.getFullYear(),g=`${`0${r.getMonth()+1}`.slice(-2)}`,f=`${`0${r.getDate()}`.slice(-2)}`,E=`${`0${r.getHours()}`.slice(-2)}`,x=`${`0${r.getMinutes()}`.slice(-2)}`,$=`${`0${r.getSeconds()}`.slice(-2)}`;switch(y){case O:return`${u}-${g}-${f}`;case D:return`${g}-${f} ${E}:${x}`;case v:return`${u}-${g}-${f} ${E}:${x}:${$}`;case b:return`${u}-${g}-${f} ${E}:${x}`;default:return`${u}-${g}-${f} ${E}:${x}`}}}}]);
