"use strict";(self.webpackChunk_web_index=self.webpackChunk_web_index||[]).push([[179],{6033:function(O,y,t){var e=t(1084),m=t(4201),j={},h=t(1139),u=t(2528),f=t(6265),v=t(2347),p=t(2445),x,K=["title","titleId"];function I(){return I=Object.assign?Object.assign.bind():function(s){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])}return s},I.apply(this,arguments)}function T(s,a){if(s==null)return{};var l=B(s,a),c,i;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(s);for(i=0;i<d.length;i++)c=d[i],!(a.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(s,c)&&(l[c]=s[c])}return l}function B(s,a){if(s==null)return{};var l={},c=Object.keys(s),i,d;for(d=0;d<c.length;d++)i=c[d],!(a.indexOf(i)>=0)&&(l[i]=s[i]);return l}var U=function(a,l){var c=a.title,i=a.titleId,d=T(a,K);return u.createElement("svg",I({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",ref:l,"aria-labelledby":i},d),c?u.createElement("title",{id:i},c):null,x||(x=u.createElement("path",{d:"M384 352v64c0 17.67-14.33 32-32 32H96c-17.67 0-32-14.33-32-32v-64c0-17.67-14.33-32-32-32s-32 14.33-32 32v64c0 53.02 42.98 96 96 96h256c53.02 0 96-42.98 96-96v-64c0-17.67-14.33-32-32-32S384 334.3 384 352zM201.4 9.375l-128 128c-12.51 12.51-12.49 32.76 0 45.25c12.5 12.5 32.75 12.5 45.25 0L192 109.3V320c0 17.69 14.31 32 32 32s32-14.31 32-32V109.3l73.38 73.38c12.5 12.5 32.75 12.5 45.25 0s12.5-32.75 0-45.25l-128-128C234.1-3.125 213.9-3.125 201.4 9.375z"})))},$=(0,u.forwardRef)(U),G=t.p+"static/media/fa-arrow-up-from-bracket.12e2f135cfaadc1ae41c4e4804eee0fd.svg",Y={};function M(){const s=(0,u.useRef)(""),[a]=(0,f.yj)("/search"),[l,c]=(0,u.useState)("Search"),i=(0,p.L)();return(0,u.useEffect)(()=>{fetch("//v1.hitokoto.cn?c=a").then(P=>P.json()).then(P=>{c(P.hitokoto)});const d=document.querySelector(".navbar-burger"),E=()=>{const P=document.getElementById(d.dataset.target);d.classList.toggle("is-active"),P.classList.toggle("is-active")};return d.addEventListener("click",E,!1),()=>{d.removeEventListener("click",E,!1)}},[]),(0,e.jsxs)("nav",{className:"navbar is-transparent",role:"navigation","aria-label":"main navigation",children:[(0,e.jsxs)("div",{className:"navbar-brand",children:[(0,e.jsx)(f.rU,{href:"/",children:(0,e.jsx)("a",{className:"navbar-item",children:(0,e.jsx)("h1",{className:"logo",children:"UPV"})})}),(0,e.jsxs)("a",{role:"button",className:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"upv-nav",children:[(0,e.jsx)("span",{"aria-hidden":"true"}),(0,e.jsx)("span",{"aria-hidden":"true"}),(0,e.jsx)("span",{"aria-hidden":"true"})]})]}),(0,e.jsxs)("div",{id:"upv-nav",className:"navbar-menu",children:[(0,e.jsxs)("div",{className:"navbar-start",children:[(0,e.jsx)(f.rU,{href:"/",children:(0,e.jsx)("a",{className:"navbar-item",children:"\u9996\u9875"})}),(0,e.jsx)("a",{className:"navbar-item",href:"/anime/index",target:"_blank",children:"\u65B0\u756A\u65F6\u95F4\u8868"}),(0,e.jsx)("a",{className:"navbar-item",href:"//app.upv.life",target:"_blank",children:"APP \u4E0B\u8F7D"}),(0,e.jsx)("a",{className:"navbar-item",href:"https://jq.qq.com/?_wv=1027&k=VUKNMvGC",target:"_blank",children:"\u52A0\u5165\u6211\u4EEC"}),(0,e.jsx)("a",{className:"navbar-item",href:"/about",target:"_blank",children:"\u5173\u4E8E\u6211\u4EEC"})]}),!a&&(0,e.jsx)("div",{className:"navbar-item center-search",children:(0,e.jsxs)("form",{className:"nav-search-form",onSubmit:d=>{d.preventDefault(),window.open(`/search?k=${s.current}`)},children:[(0,e.jsxs)("div",{className:"nav-search-content",children:[(0,e.jsx)("input",{className:"nav-search-input",type:"text",autoComplete:"off",accessKey:"s",maxLength:100,"x-webkit-speech":"","x-webkit-grammar":"builtin:translate",placeholder:l,title:l,onChange:d=>{s.current=d.target.value}}),(0,e.jsx)("div",{className:"nav-search-clean",children:(0,e.jsx)("button",{className:"delete is-small",type:"reset"})})]}),(0,e.jsx)("button",{className:"nav-search-btn icon",children:(0,e.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"search",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"svg-inline--fa fa-search fa-w-16 fa-fw",children:(0,e.jsx)("path",{fill:"currentColor",d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"})})})]})}),(0,e.jsxs)("div",{className:"navbar-end",children:[(0,e.jsx)("div",{className:"navbar-item upload",children:(0,e.jsx)("a",{href:h.ol,target:"_blank",children:(0,e.jsxs)("button",{className:"button is-primary","aria-haspopup":"true","aria-controls":"dropdown-menu4",children:[(0,e.jsx)($,{}),"\xA0\xA0",(0,e.jsx)("strong",{children:"\u6295\u7A3F"})]})})}),i?(0,e.jsxs)("div",{className:"navbar-item has-dropdown is-hoverable",children:[(0,e.jsx)("div",{className:"navbar-link is-arrowless",children:(0,e.jsx)("figure",{className:"image avatar",children:(0,e.jsx)("img",{className:"is-rounded",src:i.Avatar})})}),(0,e.jsxs)("div",{className:"navbar-dropdown is-right",children:[(0,e.jsx)("a",{className:"navbar-item",href:h.ol+`/user/profile?name=${i.Name}`,target:"_blank",children:"\u6211\u7684\u8D44\u6599"}),(0,e.jsx)("hr",{className:"navbar-divider"}),(0,e.jsx)("a",{className:"navbar-item",onClick:()=>v.g.logout(),children:"\u9000\u51FA\u767B\u5F55"})]})]}):(0,e.jsx)("div",{className:"navbar-item",children:(0,e.jsx)("div",{className:"buttons",children:(0,e.jsx)("a",{href:"/login",className:"button is-light",children:"Log in"})})})]})]})]})}var Z={},V=Object.defineProperty,J=Object.defineProperties,w=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,C=(s,a,l)=>a in s?V(s,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[a]=l,A=(s,a)=>{for(var l in a||(a={}))R.call(a,l)&&C(s,l,a[l]);if(b)for(var l of b(a))S.call(a,l)&&C(s,l,a[l]);return s},D=(s,a)=>J(s,w(a)),L=(s,a)=>{var l={};for(var c in s)R.call(s,c)&&a.indexOf(c)<0&&(l[c]=s[c]);if(s!=null&&b)for(var c of b(s))a.indexOf(c)<0&&S.call(s,c)&&(l[c]=s[c]);return l};const z=document.getElementById("root"),W=s=>((0,u.useEffect)(()=>{const a=document.querySelector(".upv-header__bar"),l=c=>{z.scrollTop>=222?a.classList.add("fixed-header"):a.classList.remove("fixed-header")};return z.addEventListener("scroll",l),()=>{z.removeEventListener("scroll",l)}},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"upv-header",children:[(0,e.jsx)("div",{className:"upv-header__bar",children:(0,e.jsx)(M,{})}),(0,e.jsx)("div",{className:"upv-header__banner",children:(0,e.jsx)("div",{className:"taper-line"})})]}),(0,e.jsx)("main",{className:"container",children:s.children})]})),Q=s=>(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"upv-header",children:(0,e.jsx)("div",{className:"upv-header__bar fixed-header",children:(0,e.jsx)(M,{})})}),(0,e.jsx)("main",{className:"container",children:s.children})]}),F=s=>{var a=s,{component:l,layout:c,children:i}=a,d=L(a,["component","layout","children"]);return(0,e.jsx)(f.AW,D(A({},d),{component:({params:E})=>(0,e.jsx)(c,{children:l?(0,e.jsx)(l,A({},E)):typeof i=="function"?i(E):i})}))},r=s=>{var a=L(s,[]);return(0,e.jsx)(F,D(A({},a),{layout:W}))},n=s=>{var a=L(s,[]);return(0,e.jsx)(F,D(A({},a),{layout:Q}))};var o=t(8266),g=t(1930),H=()=>{const[s,a]=(0,u.useState)(null);return(0,u.useEffect)(()=>{h.od.interceptors.response.use(i=>i,i=>(i.err&&o.ZP.error(i.err),i.status===401&&(a(null),v.g.logout(`${h.M5}/login?from=${location.href}`)),i));const l=g.V.get(h.yI),c=localStorage.getItem(h.LH);c&&l?a(JSON.parse(c)):l&&h.od.get("/user").then(i=>{i.data&&(a(i.data),localStorage.setItem(h.LH,JSON.stringify(i.data)))})},[]),(0,e.jsx)(f.F0,{children:(0,e.jsxs)(u.Suspense,{fallback:null,children:[(0,e.jsx)(p.S.Provider,{value:s,children:(0,e.jsxs)(f.rs,{children:[(0,e.jsx)(r,{path:"/",component:(0,u.lazy)(()=>Promise.all([t.e(6146),t.e(7577)]).then(t.bind(t,7577)))}),(0,e.jsx)(r,{path:"/login",component:(0,u.lazy)(()=>Promise.all([t.e(6146),t.e(9084)]).then(t.bind(t,9084)))}),(0,e.jsx)(n,{path:"/p/:id",component:(0,u.lazy)(()=>Promise.all([t.e(9018),t.e(6146),t.e(9975),t.e(8557),t.e(3218)]).then(t.bind(t,2148)))}),(0,e.jsx)(n,{path:"/v/:id",component:(0,u.lazy)(()=>Promise.all([t.e(9018),t.e(4817),t.e(6193),t.e(6146),t.e(9975),t.e(8557),t.e(4053)]).then(t.bind(t,6926)))}),(0,e.jsx)(n,{path:"/pv/tag",component:(0,u.lazy)(()=>Promise.all([t.e(6146),t.e(2282),t.e(1261)]).then(t.bind(t,5386)))}),(0,e.jsx)(n,{path:"/search",component:(0,u.lazy)(()=>Promise.all([t.e(6146),t.e(2282),t.e(750)]).then(t.bind(t,6131)))}),(0,e.jsx)(n,{path:"/about",component:(0,u.lazy)(()=>Promise.all([t.e(9018),t.e(6146),t.e(9975),t.e(4420)]).then(t.bind(t,4420)))}),(0,e.jsx)(n,{path:"/feedback",component:(0,u.lazy)(()=>Promise.all([t.e(6146),t.e(5354)]).then(t.bind(t,5354)))}),(0,e.jsx)(n,{path:"/anime/index",component:(0,u.lazy)(()=>Promise.all([t.e(6146),t.e(8043)]).then(t.bind(t,8043)))}),(0,e.jsx)(n,{path:"/:rest*",component:(0,u.lazy)(()=>Promise.all([t.e(6146),t.e(5621)]).then(t.bind(t,5621)))})]})}),(0,e.jsxs)("footer",{className:"footer",children:[(0,e.jsx)("div",{className:"bd-footer-support",children:(0,e.jsxs)("h4",{className:"bd-footer-title",children:[(0,e.jsx)("strong",{children:"Support"})," ",(0,e.jsx)("span",{className:"font-family-logo",children:"UPV"})]})}),(0,e.jsxs)("div",{className:"content",children:[(0,e.jsxs)("p",{className:"links",children:[(0,e.jsx)("a",{className:"link",href:"/feedback",target:"_blank",children:"\u7559\u8A00"})," ","|"," ",(0,e.jsx)("a",{className:"link",href:"/feedback",target:"_blank",children:"\u53CD\u9988"})," ","|"," ",(0,e.jsx)("a",{className:"link",href:"/about",target:"_blank",children:"\u5173\u4E8E"})]}),(0,e.jsxs)("p",{children:["Copyright \xA9 2022"," ",(0,e.jsx)("a",{href:"/",className:"font-family-logo",children:"UPV"})]})]})]}),(0,e.jsx)(o.x7,{position:"top-right",toastOptions:{success:{iconTheme:{primary:h.iZ,secondary:"#fff"}}},containerStyle:{top:70,right:20}})]})})};(0,m.s)(document.getElementById("root")).render((0,e.jsx)(H,{}))},2445:function(O,y,t){t.d(y,{L:function(){return j},S:function(){return m}});var e=t(2528);const m=e.createContext(null),j=()=>e.useContext(m);m.displayName="UserContext"},2347:function(O,y,t){t.d(y,{g:function(){return j}});var e=t(1139),m=t(1930),j;(h=>{function u(p){m.V.del(e.yI,"/",e.yK),localStorage.removeItem(e.oS),localStorage.removeItem(e.LH),location.href=p||location.href}h.logout=u;function f(){return m.V.get(e.yI)}h.getAccessToken=f;function v(p){localStorage.setItem(e.oS,m.V.get(e.yI)),localStorage.setItem(e.LH,JSON.stringify(p))}h.login=v})(j||(j={}))},1139:function(O,y,t){t.d(y,{ol:function(){return b},yI:function(){return C},zA:function(){return D},yK:function(){return Z},M5:function(){return V},oS:function(){return S},LH:function(){return R},iZ:function(){return A},od:function(){return F}});var e=t(1930),m=Object.defineProperty,j=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,f=(r,n,o)=>n in r?m(r,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[n]=o,v=(r,n)=>{for(var o in n||(n={}))h.call(n,o)&&f(r,o,n[o]);if(j)for(var o of j(n))u.call(n,o)&&f(r,o,n[o]);return r};class p{constructor(){this.resolve=n=>n,this.reject=n=>n}use(n,o){this.resolve=n,o&&(this.reject=o)}}class x{constructor(n){var o,g,N;this.baseUrl=(o=n.baseUrl)!=null?o:"",this.headers=(g=n.headers)!=null?g:{},this.config=(N=n.config)!=null?N:{},this.interceptors={request:new p,response:new p}}static create(n,o){return new x({baseUrl:n,headers:o==null?void 0:o.header,config:o==null?void 0:o.config})}get(n,{headers:o,data:g}={}){return this._send(n,"GET",o,g)}post(n,{headers:o,data:g}={}){return this._send(n,"POST",o,g)}put(n,{headers:o,data:g}={}){return this._send(n,"PUT",o,g)}delete(n,{headers:o,data:g}={}){return this._send(n,"DELETE",o,g)}_send(n,o,g={},N={}){var H,s;const a=(s=(H=this.interceptors.request).resolve)==null?void 0:s.call(H,v(v({},this.headers),g));!(N instanceof FormData)&&this.headers["Content-type"]&&(a["Content-type"]="application/json; charset=UTF-8");let l;return fetch(`${this.baseUrl}${n}`,v(v({method:o,headers:a},this.config),!["GET","HEAD"].includes(o.toUpperCase())&&{body:N instanceof FormData?N:JSON.stringify(N)})).then(c=>{l=c;try{return c.json()}catch(i){throw i}},c=>{var i,d;return console.error("<--- request error"+c),(d=(i=this.interceptors.request).reject)==null?void 0:d.call(i,c)}).then(c=>{var i,d,E,P,X;if(!l.ok)throw(d=(i=this.interceptors.response).reject)==null?void 0:d.call(i,v({status:l.status,statusText:l.statusText},c));return(X=(P=(E=this.interceptors.response).resolve)==null?void 0:P.call(E,c))!=null?X:c})}}var K=Object.defineProperty,I=Object.defineProperties,T=Object.getOwnPropertyDescriptors,B=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable,G=(r,n,o)=>n in r?K(r,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[n]=o,Y=(r,n)=>{for(var o in n||(n={}))U.call(n,o)&&G(r,o,n[o]);if(B)for(var o of B(n))$.call(n,o)&&G(r,o,n[o]);return r},M=(r,n)=>I(r,T(n));const Z="xn--7ov117aclgs4c.life",V="https://xn--7ov117aclgs4c.life",J="https://api.xn--7ov117aclgs4c.life/api",w=null,b="https://admin.xn--7ov117aclgs4c.life",R="USER_INFO",S="ACCESS_TOKEN",C="access_token",A="#6668ab",D=["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"];var L=(r=>(r[r.NORMAL=4]="NORMAL",r[r.CREATOR=3]="CREATOR",r[r.ADMIN=2]="ADMIN",r[r.ROOT=1]="ROOT",r.ALL="",r))(L||{});const z={[4]:"\u666E\u901A\u7528\u6237",[3]:"\u521B\u4F5C\u8005",[2]:"\u7BA1\u7406\u5458",[1]:"\u8D85\u7EA7\u7BA1\u7406\u5458",[""]:"\u5168\u90E8"};var W=(r=>(r[r.DRAFT=5]="DRAFT",r[r.PUBLISHED=4]="PUBLISHED",r[r.PENDING=3]="PENDING",r[r.REJECT=2]="REJECT",r[r.DELETED=1]="DELETED",r.ALL="",r))(W||{});const Q={[4]:"\u5DF2\u53D1\u5E03",[3]:"\u5F85\u5BA1\u6838",[2]:"\u5DF2\u4E0B\u67B6",[""]:"\u5168\u90E8"},F=x.create(J,{config:{credentials:"include"}});F.interceptors.request.use(r=>{const n=e.V.get(C);return M(Y({},r),{Authorization:n?`Bearer ${n}`:""})})},1930:function(O,y,t){t.d(y,{V:function(){return e}});var e;(m=>{function j(u){for(var f=u+"=",v=document.cookie.split(";"),p=0;p<v.length;p++){for(var x=v[p];x.charAt(0)==" ";)x=x.substring(1,x.length);if(x.indexOf(f)==0)return x.substring(f.length,x.length)}return null}m.get=j;function h(u,f,v){document.cookie=u+"="+(f?";path="+f:"")+(v?";domain="+v:"")+";expires=Thu, 01 Jan 1970 00:00:01 GMT"}m.del=h})(e||(e={}))}},function(O){var y=function(e){return O(O.s=e)};O.O(0,[3217,5699],function(){return y(6033)});var t=O.O()}]);
