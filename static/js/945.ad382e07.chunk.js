"use strict";(self.webpackChunk_web_index=self.webpackChunk_web_index||[]).push([[945],{8945:(F,$,i)=>{i.r($),i.d($,{default:()=>N});var t=i(6048),g=i(8588),p=i(731),D=i(3259),b=i(5633),h=i(1466);const M={};var j=Object.defineProperty,n=Object.defineProperties,l=Object.getOwnPropertyDescriptors,e=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,o=(u,r,s)=>r in u?j(u,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[r]=s,d=(u,r)=>{for(var s in r||(r={}))a.call(r,s)&&o(u,s,r[s]);if(e)for(var s of e(r))m.call(r,s)&&o(u,s,r[s]);return u},f=(u,r)=>n(u,l(r));const N=()=>{const[u,r]=(0,g.useState)([]),[s,k]=(0,g.useState)({DisplayName:"",Email:"",Message:""}),[y,w]=(0,g.useState)(1),Y=(0,b.k)();(0,g.useEffect)(()=>{h.pY.get("/feedbacks").then(c=>{r(c.data)})},[y]);function x(c){k(f(d({},s),{[c.target.name]:c.target.value}))}function E(c){c.preventDefault(),c.stopPropagation(),h.pY.post("/feedback",{data:f(d({},s),{name:Y==null?void 0:Y.Name})}).then(S=>{S.err||(w(Date.now()),k(f(d({},s),{Message:""})))})}return(0,t.jsxs)("div",{className:"feedback-container",children:[(0,t.jsx)(p.m,{children:(0,t.jsx)("title",{children:"Feedback"})}),(0,t.jsx)("div",{className:"feedback-open",children:(0,t.jsxs)("form",{className:"feedback-form",onSubmit:E,children:[(0,t.jsx)("h1",{children:"Feedback"}),(0,t.jsxs)("div",{className:"feedback-form-group",children:[(0,t.jsxs)("label",{htmlFor:"feedback-name",children:["Name",(0,t.jsx)("span",{children:"*"})]}),(0,t.jsx)("input",{type:"text",id:"feedback-name",className:"input",required:!0,name:"DisplayName",onChange:x,value:s.DisplayName})]}),(0,t.jsxs)("div",{className:"feedback-form-group",children:[(0,t.jsx)("label",{htmlFor:"feedback-email",children:"Email"}),(0,t.jsx)("input",{type:"email",id:"feedback-email",className:"input",name:"Email",value:s.Email,onChange:x})]}),(0,t.jsxs)("div",{className:"feedback-form-group",children:[(0,t.jsxs)("label",{htmlFor:"feedback-message",children:["Message",(0,t.jsx)("span",{children:"*"})]}),(0,t.jsx)("textarea",{id:"feedback-message",className:"textarea",required:!0,name:"Message",onChange:x,value:s.Message})]}),(0,t.jsx)("button",{type:"submit",className:"button is-black is-fullwidth",children:"Send"})]})}),(0,t.jsx)("div",{className:"feedback-list",children:(0,t.jsx)("ul",{children:u==null?void 0:u.map(c=>(0,t.jsxs)("li",{className:"feedback-item",id:`feedback-${c.ID}`,children:[(0,t.jsx)("div",{className:"feedback-item__head",children:(0,t.jsxs)("span",{className:"feedback-item__name",children:[c.DisplayName," :"]})}),(0,t.jsxs)("div",{className:"feedback-item__content",children:[(0,t.jsx)("p",{children:c.Message}),(0,t.jsxs)("p",{className:"feedback-item__time",children:[(0,D.Yq)(c.CreatedAt)," | ",c.Ip]})]})]},c.ID))})})]})}},3259:(F,$,i)=>{i.d($,{D$:()=>t,Yq:()=>p});function t(n){const l=new Date,e=typeof n=="string"?new Date(n):new Date(n),a=(l.getTime()-e.getTime())/1e3;return a<30?"\u521A\u521A":a<3600?Math.ceil(a/60)+"\u5206\u949F\u524D":a<3600*24?Math.ceil(a/3600)+"\u5C0F\u65F6\u524D":a<3600*24*2?"1\u5929\u524D":a<3600*24*31?Math.ceil(a/3600/24)+"\u5929\u524D":l.getFullYear()===e.getFullYear()?`${e.getMonth()+1}\u6708${e.getDate()}\u65E5`:`${e.getFullYear()}\u5E74${e.getMonth()+1}\u6708${e.getDate()}\u65E5`}function g(n){const l=new Date,e=typeof n=="string"?new Date(n):new Date(n),a=(l.getTime()-e.getTime())/1e3;return a<3600*24?"\u4ECA\u5929":a<3600*24*2?"\u6628\u5929":a<3600*24*31?Math.ceil(a/3600/24)+"\u5929\u524D":l.getFullYear()===e.getFullYear()?`${e.getMonth()+1}\u6708${e.getDate()}\u65E5`:`${e.getFullYear()}\u5E74${e.getMonth()+1}\u6708${e.getDate()}\u65E5`}function p(n,l=!1){const e=typeof n=="string"?new Date(n):new Date(n);return new Date().getFullYear()===e.getFullYear()?`${e.getMonth()+1}\u6708${e.getDate()}\u65E5 ${l?` ${e.getHours()}:${e.getMinutes().toString().padStart(2,"0")}`:""}`:`${e.getFullYear()}\u5E74${e.getMonth()+1}\u6708${e.getDate()}\u65E5 ${l?` ${e.getHours()}:${e.getMinutes().toString().padStart(2,"0")}`:""}`}const D=1,b=2,h=3,M=4;function j(n,l=3){if(!n)return"";const e=new Date(n),a=e.getFullYear(),m=`${`0${e.getMonth()+1}`.slice(-2)}`,o=`${`0${e.getDate()}`.slice(-2)}`,d=`${`0${e.getHours()}`.slice(-2)}`,f=`${`0${e.getMinutes()}`.slice(-2)}`,v=`${`0${e.getSeconds()}`.slice(-2)}`;switch(l){case D:return`${a}-${m}-${o}`;case b:return`${m}-${o} ${d}:${f}`;case M:return`${a}-${m}-${o} ${d}:${f}:${v}`;case h:return`${a}-${m}-${o} ${d}:${f}`;default:return`${a}-${m}-${o} ${d}:${f}`}}}}]);
