"use strict";(self.webpackChunk_web_index=self.webpackChunk_web_index||[]).push([[618],{2279:function(I,j,n){n.d(j,{Z:function(){return d}});var t=n(9745),a=n(7510),m=n(8175),C=n(9051),O=n.n(C),b=n(5580),x=n(8717),N=n(4825),h=n(6020),g={},d=({id:f,onFocus:p,onBlur:E})=>{const[v,$]=(0,a.useState)(null),[P,k]=(0,a.useState)(""),w=(0,x.L)();(0,a.useEffect)(()=>{N.od.get(`/post/${f}/comments`).then(c=>{$((c==null?void 0:c.data)||[])}).catch(()=>{$([])})},[]);const D=()=>{if(!P){m.ZP.error("\u5199\u70B9\u4EC0\u4E48\u5427");return}N.od.post(`/post/${f}/comment`,{data:{content:P}}).then(c=>{c.err||(k(""),$([c.data,...v]))})},S=c=>{c.ctrlKey&&c.keyCode===13&&D()};return(0,t.jsxs)("div",{className:"video-comment",children:[(0,t.jsx)("div",{className:"video-comment__title",children:(0,t.jsx)("h4",{children:"\u8BC4\u8BBA"})}),(0,t.jsxs)("div",{className:"video-comment-edit",children:[(0,t.jsx)("img",{className:"video-comment-edit__avatar",src:(w==null?void 0:w.Avatar)||"/ic_launcher_round.png",alt:""}),(0,t.jsx)("textarea",{className:"video-comment-edit__input",placeholder:"\u7559\u4E0B\u8BC4\u8BBA...",disabled:!w,value:P,onChange:c=>k(c.target.value),onKeyDown:S,onFocus:c=>p==null?void 0:p(c),onBlur:c=>E==null?void 0:E(c)}),(0,t.jsx)("button",{disabled:!w||!P,className:"button is-primary video-comment-edit__button",onClick:D,children:"\u8BC4\u8BBA"})]}),(0,t.jsx)("div",{className:"comment-list",children:v?v.length>0?(0,t.jsx)("ul",{children:v.map(c=>{var Y,F;return(0,t.jsxs)("li",{className:O()("comment-item",{"--o":(w==null?void 0:w.ID)==c.Uid}),children:[(0,t.jsxs)("div",{className:"comment-item__head",children:[(0,t.jsx)("img",{className:"comment-item__avatar",src:(Y=c.Creator)==null?void 0:Y.Avatar,alt:""}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"comment-item__name",children:(F=c.Creator)==null?void 0:F.Nickname}),(0,t.jsx)("p",{className:"comment-item__time",children:(0,b.wb)(c.CreatedAt)})]})]}),(0,t.jsx)("div",{className:"comment-item__content",children:(0,t.jsx)("p",{children:c.Content})})]},c.ID)})}):(0,t.jsx)("p",{className:"empty",children:"\u6682\u65E0\u8BC4\u8BBA"}):(0,t.jsx)(h.wM,{})})]})}},2857:function(I,j,n){n.d(j,{$:function(){return a}});var t=n(9745);const a=({tags:m})=>m.length?(0,t.jsx)("div",{className:"tags are-medium",children:m.map(({href:C,title:O},b)=>(0,t.jsx)("a",{className:"tag is-primary is-light",href:C,target:"_blank",style:{fontSize:"0.9rem"},children:O},b))}):null},6020:function(I,j,n){n.d(j,{wM:function(){return c},pA:function(){return Y},iR:function(){return F}});var t=n(9745),a=n(7510);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var m=function(){return m=Object.assign||function(u){for(var l,i=1,o=arguments.length;i<o;i++){l=arguments[i];for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&(u[s]=l[s])}return u},m.apply(this,arguments)};function C(e,u){var l={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&u.indexOf(i)<0&&(l[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)u.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(l[i[o]]=e[i[o]]);return l}var O=function(){return Math.random().toString(36).substring(6)},b=function(e){var u=e.animate,l=u===void 0?!0:u,i=e.animateBegin,o=e.backgroundColor,s=o===void 0?"#f5f6f7":o,A=e.backgroundOpacity,B=A===void 0?1:A,L=e.baseUrl,H=L===void 0?"":L,R=e.children,y=e.foregroundColor,M=y===void 0?"#eee":y,Z=e.foregroundOpacity,ie=Z===void 0?1:Z,V=e.gradientRatio,_=V===void 0?2:V,z=e.gradientDirection,oe=z===void 0?"left-right":z,ce=e.uniqueKey,W=e.interval,le=W===void 0?.25:W,X=e.rtl,se=X===void 0?!1:X,J=e.speed,ue=J===void 0?1.2:J,Q=e.style,de=Q===void 0?{}:Q,q=e.title,ee=q===void 0?"Loading...":q,te=e.beforeMask,T=te===void 0?null:te,me=C(e,["animate","animateBegin","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","gradientDirection","uniqueKey","interval","rtl","speed","style","title","beforeMask"]),U=ce||O(),re=U+"-diff",ne=U+"-animated-diff",ae=U+"-aria",he=se?{transform:"scaleX(-1)"}:null,K="0; "+le+"; 1",G=ue+"s",ge=oe==="top-bottom"?"rotate(90)":void 0;return(0,a.createElement)("svg",m({"aria-labelledby":ae,role:"img",style:m(m({},de),he)},me),ee?(0,a.createElement)("title",{id:ae},ee):null,T&&(0,a.isValidElement)(T)?T:null,(0,a.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+H+"#"+re+")",style:{fill:"url("+H+"#"+ne+")"}}),(0,a.createElement)("defs",null,(0,a.createElement)("clipPath",{id:re},R),(0,a.createElement)("linearGradient",{id:ne,gradientTransform:ge},(0,a.createElement)("stop",{offset:"0%",stopColor:s,stopOpacity:B},l&&(0,a.createElement)("animate",{attributeName:"offset",values:-_+"; "+-_+"; 1",keyTimes:K,dur:G,repeatCount:"indefinite",begin:i})),(0,a.createElement)("stop",{offset:"50%",stopColor:M,stopOpacity:ie},l&&(0,a.createElement)("animate",{attributeName:"offset",values:-_/2+"; "+-_/2+"; "+(1+_/2),keyTimes:K,dur:G,repeatCount:"indefinite",begin:i})),(0,a.createElement)("stop",{offset:"100%",stopColor:s,stopOpacity:B},l&&(0,a.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+_),keyTimes:K,dur:G,repeatCount:"indefinite",begin:i})))))},x=function(e){return e.children?(0,a.createElement)(b,m({},e)):(0,a.createElement)(N,m({},e))},N=function(e){return(0,a.createElement)(x,m({viewBox:"0 0 476 124"},e),(0,a.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,a.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,a.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,a.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,a.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,a.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},h=function(e){return createElement(x,m({viewBox:"0 0 400 460"},e),createElement("circle",{cx:"31",cy:"31",r:"15"}),createElement("rect",{x:"58",y:"18",rx:"2",ry:"2",width:"140",height:"10"}),createElement("rect",{x:"58",y:"34",rx:"2",ry:"2",width:"140",height:"10"}),createElement("rect",{x:"0",y:"60",rx:"2",ry:"2",width:"400",height:"400"}))},g=function(e){return createElement(x,m({viewBox:"0 0 340 84"},e),createElement("rect",{x:"0",y:"0",width:"67",height:"11",rx:"3"}),createElement("rect",{x:"76",y:"0",width:"140",height:"11",rx:"3"}),createElement("rect",{x:"127",y:"48",width:"53",height:"11",rx:"3"}),createElement("rect",{x:"187",y:"48",width:"72",height:"11",rx:"3"}),createElement("rect",{x:"18",y:"48",width:"100",height:"11",rx:"3"}),createElement("rect",{x:"0",y:"71",width:"37",height:"11",rx:"3"}),createElement("rect",{x:"18",y:"23",width:"140",height:"11",rx:"3"}),createElement("rect",{x:"166",y:"23",width:"173",height:"11",rx:"3"}))},r=function(e){return createElement(x,m({viewBox:"0 0 400 110"},e),createElement("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"}),createElement("rect",{x:"20",y:"20",rx:"3",ry:"3",width:"220",height:"10"}),createElement("rect",{x:"20",y:"40",rx:"3",ry:"3",width:"170",height:"10"}),createElement("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"}),createElement("rect",{x:"20",y:"80",rx:"3",ry:"3",width:"200",height:"10"}),createElement("rect",{x:"20",y:"100",rx:"3",ry:"3",width:"80",height:"10"}))},d=function(e){return createElement(x,m({viewBox:"0 0 245 125"},e),createElement("circle",{cx:"10",cy:"20",r:"8"}),createElement("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}),createElement("circle",{cx:"10",cy:"50",r:"8"}),createElement("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}),createElement("circle",{cx:"10",cy:"80",r:"8"}),createElement("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}),createElement("circle",{cx:"10",cy:"110",r:"8"}),createElement("rect",{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"}))},f=x,p=Object.defineProperty,E=Object.defineProperties,v=Object.getOwnPropertyDescriptors,$=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,w=(e,u,l)=>u in e?p(e,u,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[u]=l,D=(e,u)=>{for(var l in u||(u={}))P.call(u,l)&&w(e,l,u[l]);if($)for(var l of $(u))k.call(u,l)&&w(e,l,u[l]);return e},S=(e,u)=>E(e,v(u));const c=e=>(0,t.jsxs)(f,S(D({viewBox:"0 0 462 160"},e),{children:[(0,t.jsx)("rect",{x:"70",y:"16",rx:"5",ry:"5",width:"100",height:"12"}),(0,t.jsx)("rect",{x:"70",y:"39",rx:"5",ry:"5",width:"321",height:"20"}),(0,t.jsx)("circle",{cx:"26",cy:"40",r:"26"})]})),Y=e=>(0,t.jsxs)(f,S(D({viewBox:"0 0 500 200"},e),{style:{padding:"0.5em"},children:[(0,t.jsx)("rect",{x:"60",y:"25",rx:"5",ry:"5",width:"50",height:"10"}),(0,t.jsx)("rect",{x:"60",y:"45",rx:"5",ry:"5",width:"60",height:"10"}),(0,t.jsx)("rect",{x:"0",y:"80",rx:"5",ry:"5",width:"46%",height:"20"}),(0,t.jsx)("rect",{x:"0",y:"110",rx:"5",ry:"5",width:"100%",height:"20"}),(0,t.jsx)("rect",{x:"0",y:"140",rx:"5",ry:"5",width:"70%",height:"20"}),(0,t.jsx)("rect",{x:"0",y:"170",rx:"5",ry:"5",width:"60%",height:"20"}),(0,t.jsx)("circle",{cx:"26",cy:"40",r:"26"})]})),F=e=>(0,t.jsxs)(f,S(D({viewBox:"0 0 462 160"},e),{children:[(0,t.jsx)("rect",{x:"70",y:"16",rx:"5",ry:"5",width:"100",height:"12"}),(0,t.jsx)("rect",{x:"70",y:"39",rx:"5",ry:"5",width:"321",height:"20"}),(0,t.jsx)("circle",{cx:"26",cy:"40",r:"26"})]}));c.metadata={name:"comment",github:"comment",description:"comment",filename:"CommentSkeleton"}},6056:function(I,j,n){n.d(j,{U:function(){return l}});var t=n(9745),a=n(8095),m=n(1452),C=n(2981),O=n(3362),b=n(7753),x=n(9787),N=n(1400),h=n(5680),g=n(4626),r=n(8204),d=n(5563),f={},p=Object.defineProperty,E=Object.defineProperties,v=Object.getOwnPropertyDescriptors,$=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,w=(i,o,s)=>o in i?p(i,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[o]=s,D=(i,o)=>{for(var s in o||(o={}))P.call(o,s)&&w(i,s,o[s]);if($)for(var s of $(o))k.call(o,s)&&w(i,s,o[s]);return i},S=(i,o)=>E(i,v(o)),c=(i,o,s)=>new Promise((A,B)=>{var L=y=>{try{R(s.next(y))}catch(M){B(M)}},H=y=>{try{R(s.throw(y))}catch(M){B(M)}},R=y=>y.done?A(y.value):Promise.resolve(y.value).then(L,H);R((s=s.apply(i,o)).next())}),Y,F;const e={render:{view:{menu:!1,md:!1,html:!0},classname:"markdown_render"},editor:{view:{menu:!0,md:!0,html:!1},classname:"markdown_editor"}},u=(0,a.l)().use(m.Z).use(b.Z).use(C.Z,{allowDangerousHtml:!0}).use(O.Z).use(x.Z,{properties:"attr"}).use(N.Z,S(D({},h.R),{attributes:S(D({},h.R.attributes),{img:[...((F=(Y=h.R)==null?void 0:Y.attributes)==null?void 0:F.img)||[],["style"]]})})).use(g.Z),l=i=>{const{value:o="",type:s,onChange:A,customClassName:B="",placeholder:L=""}=i,{view:H,classname:R}=e[s];let y=`markdown ${R}`;return B&&(y+=` ${B}`),(0,t.jsx)(r.ZP,{className:y,readOnly:s==="render",view:H,value:o,htmlClass:"markdown-body",renderHTML:M=>c(void 0,null,function*(){return(yield u.process(M)).toString()}),onChange:M=>A==null?void 0:A(M.text),placeholder:L})}},5580:function(I,j,n){n.d(j,{p6:function(){return m},qF:function(){return a},wb:function(){return t}});function t(h){const g=new Date,r=typeof h=="string"?new Date(h):new Date(h),d=(g.getTime()-r.getTime())/1e3;return d<30?"\u521A\u521A":d<3600?Math.ceil(d/60)+"\u5206\u949F\u524D":d<3600*24?Math.ceil(d/3600)+"\u5C0F\u65F6\u524D":d<3600*24*2?"1\u5929\u524D":d<3600*24*31?Math.ceil(d/3600/24)+"\u5929\u524D":g.getFullYear()===r.getFullYear()?`${r.getMonth()+1}\u6708${r.getDate()}\u65E5`:`${r.getFullYear()}\u5E74${r.getMonth()+1}\u6708${r.getDate()}\u65E5`}function a(h){const g=new Date,r=typeof h=="string"?new Date(h):new Date(h),d=(g.getTime()-r.getTime())/1e3;return d<3600*24?"\u4ECA\u5929":d<3600*24*2?"\u6628\u5929":d<3600*24*31?Math.ceil(d/3600/24)+"\u5929\u524D":g.getFullYear()===r.getFullYear()?`${r.getMonth()+1}\u6708${r.getDate()}\u65E5`:`${r.getFullYear()}\u5E74${r.getMonth()+1}\u6708${r.getDate()}\u65E5`}function m(h,g=!1){const r=typeof h=="string"?new Date(h):new Date(h);return new Date().getFullYear()===r.getFullYear()?`${r.getMonth()+1}\u6708${r.getDate()}\u65E5 ${g?` ${r.getHours()}:${r.getMinutes().toString().padStart(2,"0")}`:""}`:`${r.getFullYear()}\u5E74${r.getMonth()+1}\u6708${r.getDate()}\u65E5 ${g?` ${r.getHours()}:${r.getMinutes().toString().padStart(2,"0")}`:""}`}const C=1,O=2,b=3,x=4;function N(h,g=3){if(!h)return"";const r=new Date(h),d=r.getFullYear(),f=`${`0${r.getMonth()+1}`.slice(-2)}`,p=`${`0${r.getDate()}`.slice(-2)}`,E=`${`0${r.getHours()}`.slice(-2)}`,v=`${`0${r.getMinutes()}`.slice(-2)}`,$=`${`0${r.getSeconds()}`.slice(-2)}`;switch(g){case C:return`${d}-${f}-${p}`;case O:return`${f}-${p} ${E}:${v}`;case x:return`${d}-${f}-${p} ${E}:${v}:${$}`;case b:return`${d}-${f}-${p} ${E}:${v}`;default:return`${d}-${f}-${p} ${E}:${v}`}}}}]);
