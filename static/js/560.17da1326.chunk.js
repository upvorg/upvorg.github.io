(self.webpackChunk_web_index=self.webpackChunk_web_index||[]).push([[560],{7655:function(_,L){var d,s;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(){"use strict";var A={}.hasOwnProperty,N="[native code]";function $(){for(var j=[],F=0;F<arguments.length;F++){var h=arguments[F];if(h){var D=typeof h;if(D==="string"||D==="number")j.push(h);else if(Array.isArray(h)){if(h.length){var f=$.apply(null,h);f&&j.push(f)}}else if(D==="object"){if(h.toString!==Object.prototype.toString&&!h.toString.toString().includes("[native code]")){j.push(h.toString());continue}for(var g in h)A.call(h,g)&&h[g]&&j.push(g)}}}return j.join(" ")}_.exports?($.default=$,_.exports=$):(d=[],s=function(){return $}.apply(L,d),s!==void 0&&(_.exports=s))})()},8336:function(_,L,d){"use strict";d.d(L,{Z:function(){return $}});var s=d(9362),A=d(5211),N={};function $({title:j,icon:F,videos:h,asideTitle:D,aside:f,moreUrl:g}){return(0,s.jsxs)("div",{className:`upv-grid ${D?"col-2":""}`,children:[(0,s.jsxs)("div",{className:"upv-card-list",children:[(0,s.jsxs)("div",{className:"list-header",children:[(0,s.jsxs)("div",{children:[F&&(0,s.jsx)("img",{src:F,alt:j}),(0,s.jsx)("h2",{children:j})]}),g&&h&&h.length>0&&(0,s.jsxs)("a",{className:"list-header__more",href:g,target:"_blank",children:["more",(0,s.jsxs)("svg",{width:"10",height:"10",viewBox:"0 0 9 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"channel-entry-more__link--arrow",children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.50588 3.40623C7.40825 3.3086 7.24996 3.3086 7.15232 3.40623L4.41244 6.14612L1.67255 3.40623C1.57491 3.3086 1.41662 3.3086 1.31899 3.40623C1.22136 3.50386 1.22136 3.66215 1.31899 3.75978L4.11781 6.5586C4.28053 6.72132 4.54434 6.72132 4.70706 6.5586L7.50588 3.75978C7.60351 3.66215 7.60351 3.50386 7.50588 3.40623Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M7.15232 3.40623L7.50588 3.75978L7.50588 3.75978L7.15232 3.40623ZM7.50588 3.40623L7.15232 3.75978L7.15233 3.75978L7.50588 3.40623ZM4.41244 6.14612L4.05888 6.49967C4.15265 6.59344 4.27983 6.64612 4.41244 6.64612C4.54504 6.64612 4.67222 6.59344 4.76599 6.49967L4.41244 6.14612ZM1.67255 3.40623L2.0261 3.05268L2.0261 3.05268L1.67255 3.40623ZM1.31899 3.40623L0.965439 3.05268L0.965439 3.05268L1.31899 3.40623ZM1.31899 3.75978L1.67255 3.40623V3.40623L1.31899 3.75978ZM4.11781 6.5586L3.76425 6.91215L4.11781 6.5586ZM4.70706 6.5586L4.35351 6.20505L4.70706 6.5586ZM7.50588 3.75978L7.15233 3.40623L7.15232 3.40623L7.50588 3.75978ZM7.50588 3.75978C7.40825 3.85742 7.24996 3.85742 7.15232 3.75978L7.85943 3.05268C7.56654 2.75978 7.09166 2.75978 6.79877 3.05268L7.50588 3.75978ZM4.76599 6.49967L7.50588 3.75978L6.79877 3.05268L4.05888 5.79257L4.76599 6.49967ZM1.31899 3.75978L4.05888 6.49967L4.76599 5.79257L2.0261 3.05268L1.31899 3.75978ZM1.67254 3.75979C1.57491 3.85742 1.41662 3.85742 1.31899 3.75979L2.0261 3.05268C1.73321 2.75978 1.25833 2.75978 0.965439 3.05268L1.67254 3.75979ZM1.67255 3.40623C1.77018 3.50386 1.77018 3.66215 1.67255 3.75978L0.965439 3.05268C0.672546 3.34557 0.672546 3.82044 0.965439 4.11334L1.67255 3.40623ZM4.47136 6.20505L1.67255 3.40623L0.965439 4.11334L3.76425 6.91215L4.47136 6.20505ZM4.35351 6.20505C4.38605 6.1725 4.43882 6.1725 4.47136 6.20505L3.76425 6.91215C4.12223 7.27013 4.70264 7.27013 5.06062 6.91215L4.35351 6.20505ZM7.15232 3.40623L4.35351 6.20505L5.06062 6.91215L7.85943 4.11334L7.15232 3.40623ZM7.15233 3.75978C7.05469 3.66215 7.05469 3.50386 7.15233 3.40623L7.85943 4.11334C8.15233 3.82045 8.15233 3.34557 7.85943 3.05268L7.15233 3.75978Z",fill:"currentColor"})]})]})]}),(0,s.jsx)("div",{className:"list-body",children:h?h.length>0?h.map((o,l)=>(0,s.jsx)(A.Z,{info:o},l)):(0,s.jsx)("div",{className:"empty",children:"No Data"}):(0,s.jsx)("span",{className:"loading empty",children:"loading\xB7\xB7\xB7"})})]}),!!D&&(0,s.jsxs)("aside",{children:[(0,s.jsx)("div",{className:"aside-header",children:(0,s.jsx)("div",{className:"aside-title",children:D})}),(0,s.jsx)("div",{className:"aside-body",children:f})]})]})}},5211:function(_,L,d){"use strict";d.d(L,{Z:function(){return o}});var s=d(9362),A={},N=d(3044),$=d(6718),j=d(7979),F=d(7655),h=d.n(F);const D=6;let f;const g="loading"in HTMLImageElement.prototype;g||(f=new IntersectionObserver(l=>{l.forEach(E=>{if(E.isIntersecting){const v=E.target;f.unobserve(v);const m=v.querySelector("img");m.src=m.dataset.src,m.onload=()=>{v.querySelector(".upv-video-card__loading").classList.add("upv-video-card__loading--hidden")},m.onerror=()=>{v.querySelector(".upv-video-card__error").classList.add("upv-video-card__error--show")}}})},{threshold:[.15]}));function o({info:l}){var E;const v=l.Type==="video"?`/v/${l.ID}`:`/p/${l.ID}`,m=(0,N.useRef)(null);return(0,N.useEffect)(()=>{var i;if(f&&((i=m.current)!=null&&i.dataset.cover))return f.observe(m.current),()=>{m.current&&(f.unobserve(m.current),m.current.querySelector(".upv-video-card__loading").classList.remove("upv-video-card__loading--hidden"),m.current.querySelector(".upv-video-card__error").classList.remove("upv-video-card__error--show"))}},[m,l]),(0,s.jsxs)("div",{className:"upv-video-card",children:[(0,s.jsx)("a",{href:v,target:"_blank",ref:m,"data-cover":l.Cover,title:l.Title,children:(0,s.jsxs)($.Z,{ratio:3/4,children:[l.Cover&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{loading:"lazy",className:"upv-video-card__image",alt:l.Title,title:l.Title,"data-src":l.Cover,src:g?l.Cover:void 0}),!g&&[(0,s.jsx)("div",{className:"upv-video-card__loading",children:"LOADING"}),(0,s.jsx)("div",{className:"upv-video-card__error",children:"ERROR"})]]}),(0,s.jsx)("div",{className:h()("upv-video-card__nocover",{"upv-video-card__nocover--show":!l.Cover}),children:(0,s.jsx)("span",{className:h()({large:l.Title.length<=4}),children:l.Title.slice(0,D)})})]})}),(0,s.jsxs)("div",{className:"upv-video-card__content",children:[(0,s.jsx)("div",{className:"upv-video-card__content__title",children:l.Title}),(0,s.jsxs)("div",{className:"upv-video-card__content__author",children:[(0,s.jsx)("span",{children:((E=l.Creator)==null?void 0:E.Nickname)||"-"})," \xB7 ",(0,s.jsx)("span",{children:(0,j.wb)(l.CreatedAt)})]})]})]})}},6449:function(_,L,d){"use strict";d.d(L,{Dd:function(){return v},MZ:function(){return m},PX:function(){return o},in:function(){return l}});var s=Object.defineProperty,A=Object.defineProperties,N=Object.getOwnPropertyDescriptors,$=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,h=(i,c,C)=>c in i?s(i,c,{enumerable:!0,configurable:!0,writable:!0,value:C}):i[c]=C,D=(i,c)=>{for(var C in c||(c={}))j.call(c,C)&&h(i,C,c[C]);if($)for(var C of $(c))F.call(c,C)&&h(i,C,c[C]);return i},f=(i,c)=>A(i,N(c));const g=i=>{var c,C,M,w,O,I;return i.anime||(i.anime=i),f(D({},i),{enime:!0,adp:!0,ID:(c=i.anime)==null?void 0:c.slug,Cover:((C=i.anime)==null?void 0:C.coverImage)||"",Title:((M=i.anime)==null?void 0:M.title.native)||"",Content:i.description||"",Tags:"\u5176\u4ED6",Type:"video",CreatedAt:i.createdAt,UpdatedAt:i.updatedAt,Meta:{TitleJapanese:"",TitleRomanji:"",Genre:(w=i.genre)==null?void 0:w.toString(),Region:"enime",Episodes:13,IsEnd:2,PublishDate:"2015-01-01T08:00:00+08:00",UpdatedDate:null},Creator:{ID:1,Name:"enime.moe",Nickname:"enime",Avatar:"https://q1.qlogo.cn/g?b=qq&nk=7619376472&s=640",Bio:"\u8FD9\u4E2A\u4EBA\u5F88\u9177\uFF0C\u4EC0\u4E48\u90FD\u6CA1\u6709\u7559\u4E0B"},episodes:(I=(O=i.anime)==null?void 0:O.episodes)==null?void 0:I.map(b=>{var y;return{ID:b.id,Episode:b.number,Cover:b.image,Title:b.title,TitleJapanese:"",TitleRomanji:"",VideoUrl:"",Synopsis:"",Uid:1,Pid:(y=i.anime)==null?void 0:y.slug,CreatedAt:b.airedAt||b.createdAt,UpdatedAt:b.updatedAt}})})},o=(i=[])=>i.map(g),l=(i=[])=>i.map(c=>{var C;return f(D({},c),{enime:!0,ID:c==null?void 0:c.slug,Cover:(c==null?void 0:c.coverImage)||"",Title:(c==null?void 0:c.title.native)||"",Content:c.description||"",Tags:"\u5176\u4ED6",Type:"video",CreatedAt:c.createdAt,UpdatedAt:c.updatedAt,Meta:{TitleJapanese:"",TitleRomanji:"",Genre:(C=c.genre)==null?void 0:C.toString(),Region:"enime",Episodes:13,IsEnd:2,PublishDate:"2015-01-01T08:00:00+08:00",UpdatedDate:null},Creator:{ID:1,Name:"enime.moe",Nickname:"enime",Avatar:"https://q1.qlogo.cn/g?b=qq&nk=7619376472&s=640",Bio:"\u8FD9\u4E2A\u4EBA\u5F88\u9177\uFF0C\u4EC0\u4E48\u90FD\u6CA1\u6709\u7559\u4E0B"}})});function E(i){if(!i)return"https://ae01.alicdn.com/kf/U6751d35799cc4d06965aa7b1879e0fc6i.jpg";let c=i.match(/suo(.+?)\)/i);return c?c[1].slice(2):"https://cdn-us.imgs.moe/2023/02/27/63fcb180cbb30.jpg"}const v=i=>i?f(D({},i),{adp:!0,clicli:!0,ID:i.id,Cover:E(i.content),Title:i.title,Content:i.content,Tags:i.tag,Type:"video",CreatedAt:i.time,UpdatedAt:i.time,Meta:{TitleJapanese:"",TitleRomanji:"",Genre:i.sort,Region:"clicli",Episodes:i.content.split(`
`).length,IsEnd:2,PublishDate:i.time,UpdatedDate:null},Creator:{ID:1,Name:i.title,Nickname:i.title,Avatar:"https://q1.qlogo.cn/g?b=qq&nk=7619376472&s=640",Bio:"\u8FD9\u4E2A\u4EBA\u5F88\u9177\uFF0C\u4EC0\u4E48\u90FD\u6CA1\u6709\u7559\u4E0B"},episodes:i.content.split(`
`).map(c=>({ID:c.split("$")[0],Episode:c.split("$")[0],Cover:E(i.content),Title:c.split("$")[0],TitleJapanese:"",TitleRomanji:"",VideoUrl:"",Synopsis:"",Uid:1,Pid:i.id,CreatedAt:i.time,UpdatedAt:i.time}))}):{},m=(i=[])=>i.map(v)},1560:function(_,L,d){"use strict";d.r(L),d.d(L,{default:function(){return f}});var s=d(9362),A=d(3044),N=d(5236),$=d(8336),j=d(6449),F=d(7509),h=d(5148),D={};function f(){const g=(0,A.useRef)(""),[o,l]=(0,A.useState)(),[,E]=(0,h.ZP)(),{page:v,k:m}=F.Z.parse((0,h.Rx)()),i=c=>{const C=Object.assign({},F.Z.parse(window.location.search),{page:c});E(`/search?${F.Z.stringify(C)}`),root.scrollTop=0};return(0,A.useEffect)(()=>{m&&(l(null),g.current=m,fetch(`https://api.enime.moe/search/${encodeURIComponent(m)}?page=${v}&perPage=20`).then(c=>c.json()).then(c=>l((0,j.in)(c.data))).catch(()=>l([])))},[m,v]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(N.q,{children:(0,s.jsx)("title",{children:m?`${m} - \u641C\u7D22 - UPV - free animes no ads`:"\u641C\u7D22 - UPV - free animes no ads"})}),(0,s.jsxs)("div",{className:"search",children:[(0,s.jsx)("div",{className:"search-header",children:(0,s.jsx)("form",{onSubmit:c=>{c.preventDefault();const C=Object.assign({},F.Z.parse(window.location.search),{k:g.current,page:1});E(`/search?${F.Z.stringify(C)}`)},children:(0,s.jsxs)("div",{className:"search-wrap",children:[(0,s.jsx)("div",{className:"search-action",children:(0,s.jsx)("div",{className:"control",children:(0,s.jsx)("input",{id:"search-input",className:"input",maxLength:100,autoComplete:"off",defaultValue:m,onChange:c=>g.current=c.target.value,type:"text",placeholder:"Type to search"})})}),(0,s.jsx)("button",{className:"button is-primary",children:"search"})]})})}),(0,s.jsxs)("div",{className:"search-body",children:[(0,s.jsx)($.Z,{title:"Result",videos:o}),(0,s.jsxs)("div",{className:"paginate-container field has-addons",style:{justifyContent:"center",paddingBottom:"28px"},children:[(0,s.jsx)("p",{className:"control",children:(0,s.jsx)("button",{className:"button",onClick:()=>i(+v-1),disabled:+v<=1,children:(0,s.jsx)("span",{children:"Newer"})})}),(0,s.jsx)("p",{className:"control",children:(0,s.jsx)("button",{className:"button is-outlined",disabled:!o||o&&((o==null?void 0:o.length)<1||(o==null?void 0:o.length)<12),onClick:()=>i(+v+1),children:(0,s.jsx)("span",{className:"is-primary",children:"Older"})})})]})]})]})]})}},6718:function(_,L,d){"use strict";d.d(L,{Z:function(){return $}});var s={},A=d(3044),$=j=>{const{children:F,ratio:h,mw:D}=j;return A.createElement("div",{className:"aspect-ratio",style:{width:typeof D=="string"?D:`${D}px`}},A.createElement("div",{className:"aspect-ratio__fill",style:{paddingTop:`${1/h*100}%`}},F))}},7979:function(_,L,d){"use strict";d.d(L,{p6:function(){return N},wb:function(){return s}});function s(f){const g=new Date,o=typeof f=="string"?new Date(f):new Date(f),l=(g.getTime()-o.getTime())/1e3;return l<30?"\u521A\u521A":l<3600?Math.ceil(l/60)+"\u5206\u949F\u524D":l<3600*24?Math.ceil(l/3600)+"\u5C0F\u65F6\u524D":l<3600*24*2?"1\u5929\u524D":l<3600*24*31?Math.ceil(l/3600/24)+"\u5929\u524D":g.getFullYear()===o.getFullYear()?`${o.getMonth()+1}\u6708${o.getDate()}\u65E5`:`${o.getFullYear()}\u5E74${o.getMonth()+1}\u6708${o.getDate()}\u65E5`}function A(f){const g=new Date,o=typeof f=="string"?new Date(f):new Date(f),l=(g.getTime()-o.getTime())/1e3;return l<3600*24?"\u4ECA\u5929":l<3600*24*2?"\u6628\u5929":l<3600*24*31?Math.ceil(l/3600/24)+"\u5929\u524D":g.getFullYear()===o.getFullYear()?`${o.getMonth()+1}\u6708${o.getDate()}\u65E5`:`${o.getFullYear()}\u5E74${o.getMonth()+1}\u6708${o.getDate()}\u65E5`}function N(f,g=!1){const o=typeof f=="string"?new Date(f):new Date(f);return new Date().getFullYear()===o.getFullYear()?`${o.getMonth()+1}\u6708${o.getDate()}\u65E5 ${g?` ${o.getHours()}:${o.getMinutes().toString().padStart(2,"0")}`:""}`:`${o.getFullYear()}\u5E74${o.getMonth()+1}\u6708${o.getDate()}\u65E5 ${g?` ${o.getHours()}:${o.getMinutes().toString().padStart(2,"0")}`:""}`}const $=1,j=2,F=3,h=4;function D(f,g=3){if(!f)return"";const o=new Date(f),l=o.getFullYear(),E=`${`0${o.getMonth()+1}`.slice(-2)}`,v=`${`0${o.getDate()}`.slice(-2)}`,m=`${`0${o.getHours()}`.slice(-2)}`,i=`${`0${o.getMinutes()}`.slice(-2)}`,c=`${`0${o.getSeconds()}`.slice(-2)}`;switch(g){case $:return`${l}-${E}-${v}`;case j:return`${E}-${v} ${m}:${i}`;case h:return`${l}-${E}-${v} ${m}:${i}:${c}`;case F:return`${l}-${E}-${v} ${m}:${i}`;default:return`${l}-${E}-${v} ${m}:${i}`}}},7509:function(_,L,d){"use strict";d.d(L,{Z:function(){return K}});var s={};d.r(s),d.d(s,{exclude:function(){return G},extract:function(){return T},parse:function(){return R},parseUrl:function(){return B},pick:function(){return V},stringify:function(){return Y},stringifyUrl:function(){return H}});const A="%[a-f0-9]{2}",N=new RegExp("("+A+")|([^%]+?)","gi"),$=new RegExp("("+A+")+","gi");function j(e,r){try{return[decodeURIComponent(e.join(""))]}catch(a){}if(e.length===1)return e;r=r||1;const t=e.slice(0,r),n=e.slice(r);return Array.prototype.concat.call([],j(t),j(n))}function F(e){try{return decodeURIComponent(e)}catch(r){let t=e.match(N)||[];for(let n=1;n<t.length;n++)e=j(t,n).join(""),t=e.match(N)||[];return e}}function h(e){const r={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"};let t=$.exec(e);for(;t;){try{r[t[0]]=decodeURIComponent(t[0])}catch(a){const u=F(t[0]);u!==t[0]&&(r[t[0]]=u)}t=$.exec(e)}r["%C2"]="\uFFFD";const n=Object.keys(r);for(const a of n)e=e.replace(new RegExp(a,"g"),r[a]);return e}function D(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch(r){return h(e)}}function f(e,r){if(!(typeof e=="string"&&typeof r=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e===""||r==="")return[];const t=e.indexOf(r);return t===-1?[]:[e.slice(0,t),e.slice(t+r.length)]}function g(e,r){const t={};if(Array.isArray(r))for(const n of r){const a=Object.getOwnPropertyDescriptor(e,n);a!=null&&a.enumerable&&Object.defineProperty(t,n,a)}else for(const n of Reflect.ownKeys(e)){const a=Object.getOwnPropertyDescriptor(e,n);if(a.enumerable){const u=e[n];r(n,u,e)&&Object.defineProperty(t,n,a)}}return t}function o(e,r){if(Array.isArray(r)){const t=new Set(r);return g(e,n=>!t.has(n))}return g(e,(t,n,a)=>!r(t,n,a))}var l=Object.defineProperty,E=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,i=(e,r,t)=>r in e?l(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,c=(e,r)=>{for(var t in r||(r={}))v.call(r,t)&&i(e,t,r[t]);if(E)for(var t of E(r))m.call(r,t)&&i(e,t,r[t]);return e};const C=e=>e==null,M=e=>encodeURIComponent(e).replace(/[!'()*]/g,r=>`%${r.charCodeAt(0).toString(16).toUpperCase()}`),w=Symbol("encodeFragmentIdentifier");function O(e){switch(e.arrayFormat){case"index":return r=>(t,n)=>{const a=t.length;return n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?t:n===null?[...t,[y(r,e),"[",a,"]"].join("")]:[...t,[y(r,e),"[",y(a,e),"]=",y(n,e)].join("")]};case"bracket":return r=>(t,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?t:n===null?[...t,[y(r,e),"[]"].join("")]:[...t,[y(r,e),"[]=",y(n,e)].join("")];case"colon-list-separator":return r=>(t,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?t:n===null?[...t,[y(r,e),":list="].join("")]:[...t,[y(r,e),":list=",y(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{const r=e.arrayFormat==="bracket-separator"?"[]=":"=";return t=>(n,a)=>a===void 0||e.skipNull&&a===null||e.skipEmptyString&&a===""?n:(a=a===null?"":a,n.length===0?[[y(t,e),r,y(a,e)].join("")]:[[n,y(a,e)].join(e.arrayFormatSeparator)])}default:return r=>(t,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?t:n===null?[...t,y(r,e)]:[...t,[y(r,e),"=",y(n,e)].join("")]}}function I(e){let r;switch(e.arrayFormat){case"index":return(t,n,a)=>{if(r=/\[(\d*)]$/.exec(t),t=t.replace(/\[\d*]$/,""),!r){a[t]=n;return}a[t]===void 0&&(a[t]={}),a[t][r[1]]=n};case"bracket":return(t,n,a)=>{if(r=/(\[])$/.exec(t),t=t.replace(/\[]$/,""),!r){a[t]=n;return}if(a[t]===void 0){a[t]=[n];return}a[t]=[...a[t],n]};case"colon-list-separator":return(t,n,a)=>{if(r=/(:list)$/.exec(t),t=t.replace(/:list$/,""),!r){a[t]=n;return}if(a[t]===void 0){a[t]=[n];return}a[t]=[...a[t],n]};case"comma":case"separator":return(t,n,a)=>{const u=typeof n=="string"&&n.includes(e.arrayFormatSeparator),p=typeof n=="string"&&!u&&S(n,e).includes(e.arrayFormatSeparator);n=p?S(n,e):n;const x=u||p?n.split(e.arrayFormatSeparator).map(J=>S(J,e)):n===null?n:S(n,e);a[t]=x};case"bracket-separator":return(t,n,a)=>{const u=/(\[])$/.test(t);if(t=t.replace(/\[]$/,""),!u){a[t]=n&&S(n,e);return}const p=n===null?[]:n.split(e.arrayFormatSeparator).map(x=>S(x,e));if(a[t]===void 0){a[t]=p;return}a[t]=[...a[t],...p]};default:return(t,n,a)=>{if(a[t]===void 0){a[t]=n;return}a[t]=[...[a[t]].flat(),n]}}}function b(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function y(e,r){return r.encode?r.strict?M(e):encodeURIComponent(e):e}function S(e,r){return r.decode?D(e):e}function P(e){return Array.isArray(e)?e.sort():typeof e=="object"?P(Object.keys(e)).sort((r,t)=>Number(r)-Number(t)).map(r=>e[r]):e}function Z(e){const r=e.indexOf("#");return r!==-1&&(e=e.slice(0,r)),e}function q(e){let r="";const t=e.indexOf("#");return t!==-1&&(r=e.slice(t)),r}function U(e,r){return r.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?e=Number(e):r.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")&&(e=e.toLowerCase()==="true"),e}function T(e){e=Z(e);const r=e.indexOf("?");return r===-1?"":e.slice(r+1)}function R(e,r){r=c({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},r),b(r.arrayFormatSeparator);const t=I(r),n=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return n;for(const a of e.split("&")){if(a==="")continue;const u=r.decode?a.replace(/\+/g," "):a;let[p,x]=f(u,"=");p===void 0&&(p=u),x=x===void 0?null:["comma","separator","bracket-separator"].includes(r.arrayFormat)?x:S(x,r),t(S(p,r),x,n)}for(const[a,u]of Object.entries(n))if(typeof u=="object"&&u!==null)for(const[p,x]of Object.entries(u))u[p]=U(x,r);else n[a]=U(u,r);return r.sort===!1?n:(r.sort===!0?Object.keys(n).sort():Object.keys(n).sort(r.sort)).reduce((a,u)=>{const p=n[u];return p&&typeof p=="object"&&!Array.isArray(p)?a[u]=P(p):a[u]=p,a},Object.create(null))}function Y(e,r){if(!e)return"";r=c({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},r),b(r.arrayFormatSeparator);const t=p=>r.skipNull&&C(e[p])||r.skipEmptyString&&e[p]==="",n=O(r),a={};for(const[p,x]of Object.entries(e))t(p)||(a[p]=x);const u=Object.keys(a);return r.sort!==!1&&u.sort(r.sort),u.map(p=>{const x=e[p];return x===void 0?"":x===null?y(p,r):Array.isArray(x)?x.length===0&&r.arrayFormat==="bracket-separator"?y(p,r)+"[]":x.reduce(n(p),[]).join("&"):y(p,r)+"="+y(x,r)}).filter(p=>p.length>0).join("&")}function B(e,r){var t,n;r=c({decode:!0},r);let[a,u]=f(e,"#");return a===void 0&&(a=e),c({url:(n=(t=a==null?void 0:a.split("?"))==null?void 0:t[0])!=null?n:"",query:R(T(e),r)},r&&r.parseFragmentIdentifier&&u?{fragmentIdentifier:S(u,r)}:{})}function H(e,r){r=c({encode:!0,strict:!0,[w]:!0},r);const t=Z(e.url).split("?")[0]||"",n=T(e.url),a=c(c({},R(n,{sort:!1})),e.query);let u=Y(a,r);u&&(u=`?${u}`);let p=q(e.url);if(e.fragmentIdentifier){const x=new URL(t);x.hash=e.fragmentIdentifier,p=r[w]?x.hash:`#${e.fragmentIdentifier}`}return`${t}${u}${p}`}function V(e,r,t){t=c({parseFragmentIdentifier:!0,[w]:!1},t);const{url:n,query:a,fragmentIdentifier:u}=B(e,t);return H({url:n,query:g(a,r),fragmentIdentifier:u},t)}function G(e,r,t){const n=Array.isArray(r)?a=>!r.includes(a):(a,u)=>!r(a,u);return V(e,n,t)}var K=s}}]);
